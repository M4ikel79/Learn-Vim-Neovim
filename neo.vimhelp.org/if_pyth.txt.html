<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Neovim help pages, always up-to-date">
<title>Neovim: if_pyth.txt</title>
<link rel="shortcut icon" href="s/h3E0J2MHNKfIuCqP/favicon-neovim.ico">
<!-- favicon taken from https://neovim.io/favicon.ico, which is licensed under CC-BY-3.0: https://creativecommons.org/licenses/by/3.0/ -->

<link rel="stylesheet" href="s/MsMIu46igYudff1x/tom-select.min.css">
<script defer src="s/RLcAbtLBYX-q5me0/tom-select.base.min.js"></script>

<link rel="stylesheet" href="s/QRMkrs52-wJfIQ-w/vimhelp.css">
<noscript><link rel="stylesheet" href="s/eRFCn9A-K4lmzV_A/noscript.css"></noscript>
<script defer src="s/KpwrKyx19dtnhPoe/vimhelp.js"></script>
</head>
<body>




<div class="bar">
  <div class="ql">Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
</div>
  <div class="tag srch need-js">
    <select id="vh-select-tag"></select>
    <div class="placeholder">Go to keyword<span class="not-mobile">&nbsp;(shortcut: <kbd>k</kbd>)</span></div>
  </div>
  <form class="site srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="neo.vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
    <div class="placeholder need-js">Site search<span class="not-mobile">&nbsp;(shortcut: <kbd>s</kbd>)</span></div>
  </form>
  <div id="theme-switcher" class="need-js">
  <button id="theme-current" title="Switch theme">Theme</button>
  <div id="theme-dropdown"><ul>
    <li><button id="theme-native" title="Switch to native theme">Native</button></li>
    <li><button id="theme-light" title="Switch to light theme">Light</button></li>
    <li><button id="theme-dark" title="Switch to dark theme">Dark</button></li>
  </ul></div>
</div>

</div>

<main>
<div id="vh-sidebar">
<ul><li><a href="if_pyth.txt.html#">↑Top↑</a></li>
<li><a href="if_pyth.txt.html#python-commands">Commands</a></li>
<li><a href="if_pyth.txt.html#python-vim">The vim module</a></li>
<li><a href="if_pyth.txt.html#python-buffer">Buffer objects</a></li>
<li><a href="if_pyth.txt.html#python-range">Range objects</a></li>
<li><a href="if_pyth.txt.html#python-window">Window objects</a></li>
<li><a href="if_pyth.txt.html#python-tabpage">Tab page objects</a></li>
<li><a href="if_pyth.txt.html#python-pyeval">pyeval() and py3eval() Vim functions</a></li>
<li><a href="if_pyth.txt.html#python3">Python 3</a></li>
<li><a href="if_pyth.txt.html#python_x">Python X</a></li>
</ul>
</div>
<div id="vh-content">
<pre>
<span id="if_pyth.txt" class="t">if_pyth.txt</span>   Nvim


		  <span class="i">NVIM REFERENCE MANUAL</span>


The <a href="if_pyth.txt.html#Python" class="d">Python</a> Interface to NVim				<span id="if_pyth" class="t">if_pyth</span> <span id="python" class="t">python</span> <span id="Python" class="t">Python</span>

See <a href="provider.txt.html#provider-python" class="l">provider-python</a> <a href="luaref.txt.html#for" class="d">for</a> more information.

                                      Type <a href="various.txt.html#gO" class="l">gO</a> to see the table of contents.

<span class="h">==============================================================================</span>
Commands						<span id="python-commands" class="t">python-commands</span>

					<span id="%3Apython" class="t">:python</span> <span id="%3Apy" class="t">:py</span> <span id="E263" class="t">E263</span> <span id="E264" class="t">E264</span> <span id="E887" class="t">E887</span>
:[range]py[thon] <span class="s">{stmt}</span>
			Execute <a href="if_pyth.txt.html#Python" class="d">Python</a> statement <span class="s">{stmt}</span>.  <a href="insert.txt.html#A" class="d">A</a> simple check if
			the <span class="e">:python</span> command <a href="motion.txt.html#is" class="d">is</a> working: 
<span class="e">				:python print("Hello")</span>
<span class="e"></span>
:[range]py[thon] <a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a> <span class="s">[trim]</span> [{endmarker}]
<span class="s">{script}</span>
<span class="s">{endmarker}</span>
			Execute <a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="s">{script}</span>.  Useful <a href="luaref.txt.html#for" class="d">for</a> including
			<a href="if_pyth.txt.html#python" class="d">python</a> code in Vim scripts.  Requires Python, see
			<a href="if_pyth.txt.html#script-here" class="l">script-here</a><a href="repeat.txt.html#." class="d">.</a>

If <span class="s">[endmarker]</span> <a href="motion.txt.html#is" class="d">is</a> omitted from after the "<a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a>"<a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> dot '.' must be used after
<span class="s">{script}</span>, like <a href="luaref.txt.html#for" class="d">for</a> the <a href="insert.txt.html#%3Aappend" class="l">:append</a> and <a href="insert.txt.html#%3Ainsert" class="l">:insert</a> commands.  Refer to
<a href="vimeval.txt.html#%3Alet-heredoc" class="l">:let-heredoc</a> <a href="luaref.txt.html#for" class="d">for</a> more information.

Example: 
<span class="e">	function! IcecreamInitialize()</span>
<span class="e">	python &lt;&lt; EOF</span>
<span class="e">	class StrawberryIcecream:</span>
<span class="e">		def __call__(self):</span>
<span class="e">			print('EAT ME')</span>
<span class="e">	EOF</span>
<span class="e">	endfunction</span>
<span class="e"></span>
To see what version of <a href="if_pyth.txt.html#Python" class="d">Python</a> you have: 
<span class="e">	:python print(sys.version)</span>
<span class="e"></span>
There <a href="motion.txt.html#is" class="d">is</a> no need to "import sys"<a href="motion.txt.html#%2C" class="d">,</a> it's done by default.

							<span id="python-environment" class="t">python-environment</span>
Environment <a href="vimeval.txt.html#variables" class="d">variables</a> set in Vim are not always available in Python.  This
depends on how Vim and <a href="if_pyth.txt.html#Python" class="d">Python</a> were build.  Also see
<a class="u" href="https://docs.python.org/3/library/os.html#os.environ">https://docs.python.org/3/library/os.html#os.environ</a>

<span class="n">Note:</span> <a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="motion.txt.html#is" class="d">is</a> very sensitive to indenting.  Make sure the "class" line and
"EOF" <a href="diff.txt.html#do" class="d">do</a> not have any indent.

							<span id="%3Apydo" class="t">:pydo</span>
:[range]pydo <span class="s">{body}</span>	Execute <a href="if_pyth.txt.html#Python" class="d">Python</a> function "def _vim_pydo(line, linenr):
			<span class="s">{body}</span>" <a href="luaref.txt.html#for" class="d">for</a> each line in the <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>, with the
			function arguments being set to the text of each line
			in turn, without <a href="insert.txt.html#a" class="d">a</a> trailing <a href="intro.txt.html#%3CEOL%3E" class="s">&lt;EOL&gt;</a>, and the current
			line number. The function should return <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#string" class="d">string</a> or
			None. If <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#string" class="d">string</a> <a href="motion.txt.html#is" class="d">is</a> returned, <a href="motion.txt.html#it" class="d">it</a> becomes the text of
			the line in the current turn. The default <a href="luaref.txt.html#for" class="d">for</a> <a href="cmdline.txt.html#%5Brange%5D" class="s">[range]</a>
			<a href="motion.txt.html#is" class="d">is</a> the whole file: "1,$"<a href="repeat.txt.html#." class="d">.</a>

Examples:

<span class="e">	:pydo return "%s\t%d" % (line[::-1], len(line))</span>
<span class="e">	:pydo if line: return "%4d: %s" % (linenr, line)</span>

One can use <span class="e">:pydo</span> in possible conjunction with <span class="e">:py</span> to <a href="change.txt.html#filter" class="d">filter</a> <a href="insert.txt.html#a" class="d">a</a> range using
python. For example: 
<span class="e"></span>
<span class="e">	:py3 &lt;&lt; EOF</span>
<span class="e">	needle = vim.eval('@a')</span>
<span class="e">	replacement = vim.eval('@b')</span>
<span class="e"></span>
<span class="e">	def py_vim_string_replace(str):</span>
<span class="e">		return str.replace(needle, replacement)</span>
<span class="e">	EOF</span>
<span class="e">	:'&lt;,'&gt;py3do return py_vim_string_replace(line)</span>

							<span id="%3Apyfile" class="t">:pyfile</span> <span id="%3Apyf" class="t">:pyf</span>
:[range]pyf[ile] <a href="editing.txt.html#%7Bfile%7D" class="s">{file}</a>
			Execute the <a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="usr_41.txt.html#script" class="d">script</a> in <a href="editing.txt.html#%7Bfile%7D" class="s">{file}</a>.  The whole
			argument <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> single file name.

Both of these commands <a href="diff.txt.html#do" class="d">do</a> essentially the same thing <a href="motion.txt.html#-" class="d">-</a> they execute <a href="insert.txt.html#a" class="d">a</a> piece of
<a href="if_pyth.txt.html#Python" class="d">Python</a> code, with the "current range" <a href="if_pyth.txt.html#python-range" class="l">python-range</a> set to the given line
range.

In the <a href="change.txt.html#case" class="d">case</a> of :python, the code to execute <a href="motion.txt.html#is" class="d">is</a> in the command-line.
In the <a href="change.txt.html#case" class="d">case</a> of :pyfile, the code to execute <a href="motion.txt.html#is" class="d">is</a> the contents of the given file.

<a href="if_pyth.txt.html#Python" class="d">Python</a> commands cannot be used in the <a href="vimeval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a>

To pass arguments you need to set sys.argv[] explicitly.  Example: 
<span class="e"></span>
<span class="e">	:python sys.argv = ["foo", "bar"]</span>
<span class="e">	:pyfile myscript.py</span>
<span class="e"></span>
Here are some examples					<span id="python-examples" class="t">python-examples</span>

<span class="e">	:python from vim import *</span>
<span class="e">	:python current.line = str.upper(current.line)</span>
<span class="e">	:python print("Hello")</span>
<span class="e">	:python str = current.buffer[42]</span>
<span class="e"></span>
<span class="n">Note</span> that changes (such <a href="motion.txt.html#as" class="d">as</a> the "import" statements) persist from one command
to the next, just like the <a href="if_pyth.txt.html#Python" class="d">Python</a> REPL.

							<span id="script-here" class="t">script-here</span>
When using <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> language in-line, you might want to skip this when the
language isn't supported.

<span class="e">   if has('python')</span>
<span class="e">     python &lt;&lt; EOF</span>
<span class="e">       print("python works")</span>
<span class="e">   EOF</span>
<span class="e">   endif</span>

<span class="n">Note</span> that "EOF" must be <a href="motion.txt.html#at" class="d">at</a> the start of the line without preceding white
space.

<span class="h">==============================================================================</span>
The vim module							<span id="python-vim" class="t">python-vim</span>

<a href="if_pyth.txt.html#Python" class="d">Python</a> code gets all of its access to vim (with one exception <a href="motion.txt.html#-" class="d">-</a> see
<a href="if_pyth.txt.html#python-output" class="l">python-output</a> below) via the "vim" module.  The vim module implements two
methods, three constants, and one error object.  You need to import the vim
module before using it: 
<span class="e">	:python import vim</span>
<span class="e"></span>
Overview 
<span class="e">	:py print("Hello")		# displays a message</span>
<span class="e">	:py vim.command(cmd)		# execute an Ex command</span>
<span class="e">	:py w = vim.windows[n]		# gets window "n"</span>
<span class="e">	:py cw = vim.current.window	# gets the current window</span>
<span class="e">	:py b = vim.buffers[n]		# gets buffer "n"</span>
<span class="e">	:py cb = vim.current.buffer	# gets the current buffer</span>
<span class="e">	:py w.height = lines		# sets the window height</span>
<span class="e">	:py w.cursor = (row, col)	# sets the window cursor position</span>
<span class="e">	:py pos = w.cursor		# gets a tuple (row, col)</span>
<span class="e">	:py name = b.name		# gets the buffer file name</span>
<span class="e">	:py line = b[n]			# gets a line from the buffer</span>
<span class="e">	:py lines = b[n:m]		# gets a list of lines</span>
<span class="e">	:py num = len(b)		# gets the number of lines</span>
<span class="e">	:py b[n] = str			# sets a line in the buffer</span>
<span class="e">	:py b[n:m] = [str1, str2, str3]	# sets a number of lines at once</span>
<span class="e">	:py del b[n]			# deletes a line</span>
<span class="e">	:py del b[n:m]			# deletes a number of lines</span>
<span class="e"></span>
<span class="e"></span>
Methods of the "vim" module

vim.command(str)					<span id="python-command" class="t">python-command</span>
	Executes the vim (ex-mode) command str.  Returns None.
	Examples: 
<span class="e">	    :py vim.command("set tw=72")</span>
<span class="e">	    :py vim.command("%s/aaa/bbb/g")</span>
	The following definition executes <a href="intro.txt.html#Normal" class="d">Normal</a> mode commands: &gt;python
		def normal(str):
			vim.command("normal "+str)
		<a href="pattern.txt.html#%23" class="d">#</a> <span class="n">Note</span> the use of single quotes to delimit <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#string" class="d">string</a> containing
		<a href="pattern.txt.html#%23" class="d">#</a> double quotes
		normal('"a2dd"aP')

vim.eval(str)						<span id="python-eval" class="t">python-eval</span>
	Evaluates the <a href="vimeval.txt.html#expression" class="d">expression</a> str using the vim internal <a href="vimeval.txt.html#expression" class="d">expression</a>
	evaluator (see <a href="vimeval.txt.html#expression" class="l">expression</a>).  Returns the <a href="vimeval.txt.html#expression" class="d">expression</a> result as:
	<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#string" class="d">string</a> if the Vim <a href="vimeval.txt.html#expression" class="d">expression</a> evaluates to <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#string" class="d">string</a> or number
	<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> if the Vim <a href="vimeval.txt.html#expression" class="d">expression</a> evaluates to <a href="insert.txt.html#a" class="d">a</a> Vim <a href="vimeval.txt.html#list" class="d">list</a>
	<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#a" class="d">a</a> dictionary if the Vim <a href="vimeval.txt.html#expression" class="d">expression</a> evaluates to <a href="insert.txt.html#a" class="d">a</a> Vim dictionary
	<a href="vimeval.txt.html#Dictionaries" class="d">Dictionaries</a> and lists are recursively expanded.
	Examples: 
<span class="e">	    :py text_width = vim.eval("&amp;tw")</span>
<span class="e">	    :py str = vim.eval("12+12")		# NB result is a string! Use</span>
<span class="e">						# int() to convert to a</span>
<span class="e">						# number.</span>
<span class="e"></span>
vim.strwidth(str)					<span id="python-strwidth" class="t">python-strwidth</span>
	Like <a href="vimfn.txt.html#strwidth%28%29" class="l">strwidth()</a><a href="cmdline.txt.html#%3A" class="d">:</a> returns number of display cells str occupies, <a href="intro.txt.html#tab" class="d">tab</a>
	<a href="motion.txt.html#is" class="d">is</a> counted <a href="motion.txt.html#as" class="d">as</a> one cell.

vim.foreach_rtp(callable)				<span id="python-foreach_rtp" class="t">python-foreach_rtp</span>
	Call the given callable <a href="luaref.txt.html#for" class="d">for</a> each path in <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a> until either
	callable returns something but None, the exception <a href="motion.txt.html#is" class="d">is</a> raised or there
	are no longer paths. If stopped in <a href="change.txt.html#case" class="d">case</a> callable returned non-None,
	vim.foreach_rtp function returns the value returned by callable.

`vim.chdir(*args, **kwargs)`				<span id="python-chdir" class="t">python-chdir</span>
`vim.fchdir(*args, **kwargs)`				<span id="python-fchdir" class="t">python-fchdir</span>
	Run os.chdir or os.fchdir, then all appropriate vim stuff.
	<span class="n">Note:</span> you should not use these <a href="vimeval.txt.html#functions" class="d">functions</a> directly, use os.chdir and
	      os.fchdir instead. Behavior of vim.fchdir <a href="motion.txt.html#is" class="d">is</a> undefined in <a href="change.txt.html#case" class="d">case</a>
	      os.fchdir does not exist.

Error object of the "vim" module

vim.error						<span id="python-error" class="t">python-error</span>
	Upon encountering <a href="insert.txt.html#a" class="d">a</a> Vim error, <a href="if_pyth.txt.html#Python" class="d">Python</a> raises an exception of type
	vim.error.
	Example: &gt;python
		try:
			vim.command("<a href="change.txt.html#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a>"<a href="motion.txt.html#%29" class="d">)</a>
		except vim.error:
			<a href="pattern.txt.html#%23" class="d">#</a> nothing in <a href="intro.txt.html#register" class="d">register</a> <a href="insert.txt.html#a" class="d">a</a>

Constants of the "vim" module

	<span class="n">Note</span> that these are not actually constants <a href="motion.txt.html#-" class="d">-</a> you could reassign them.
	But this <a href="motion.txt.html#is" class="d">is</a> silly, <a href="motion.txt.html#as" class="d">as</a> you would then lose access to the vim <a href="index.txt.html#objects" class="d">objects</a>
	to which the <a href="vimeval.txt.html#variables" class="d">variables</a> referred.

vim.buffers						<span id="python-buffers" class="t">python-buffers</span>
	<a href="insert.txt.html#A" class="d">A</a> <a href="map.txt.html#mapping" class="d">mapping</a> object providing access to the <a href="vimeval.txt.html#list" class="d">list</a> of vim buffers.  The
	object supports the following operations: 
<span class="e">	    :py b = vim.buffers[i]	# Indexing (read-only)</span>
<span class="e">	    :py b in vim.buffers	# Membership test</span>
<span class="e">	    :py n = len(vim.buffers)	# Number of elements</span>
<span class="e">	    :py for b in vim.buffers:	# Iterating over buffer list</span>

vim.windows						<span id="python-windows" class="t">python-windows</span>
	<a href="insert.txt.html#A" class="d">A</a> sequence object providing access to the <a href="vimeval.txt.html#list" class="d">list</a> of vim windows.  The
	object supports the following operations: 
<span class="e">	    :py w = vim.windows[i]	# Indexing (read-only)</span>
<span class="e">	    :py w in vim.windows	# Membership test</span>
<span class="e">	    :py n = len(vim.windows)	# Number of elements</span>
<span class="e">	    :py for w in vim.windows:	# Sequential access</span>
	<span class="n">Note:</span> vim.windows object always accesses current <a href="intro.txt.html#tab" class="d">tab</a> page.
	<a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a>.windows <a href="index.txt.html#objects" class="d">objects</a> are bound to parent <a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a>
	object and always use <a href="windows.txt.html#windows" class="d">windows</a> from that <a href="intro.txt.html#tab" class="d">tab</a> page (or throw vim.error
	in <a href="change.txt.html#case" class="d">case</a> <a href="intro.txt.html#tab" class="d">tab</a> page was deleted). You can keep <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#reference" class="d">reference</a> to both
	without keeping <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#reference" class="d">reference</a> to vim module object or <a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a><a href="motion.txt.html#%2C" class="d">,</a>
	they will not lose their properties in this case.

vim.tabpages						<span id="python-tabpages" class="t">python-tabpages</span>
	<a href="insert.txt.html#A" class="d">A</a> sequence object providing access to the <a href="vimeval.txt.html#list" class="d">list</a> of vim <a href="intro.txt.html#tab" class="d">tab</a> pages. The
	object supports the following operations: 
<span class="e">	    :py t = vim.tabpages[i]	# Indexing (read-only)</span>
<span class="e">	    :py t in vim.tabpages	# Membership test</span>
<span class="e">	    :py n = len(vim.tabpages)	# Number of elements</span>
<span class="e">	    :py for t in vim.tabpages:	# Sequential access</span>

vim.current						<span id="python-current" class="t">python-current</span>
	An object providing access (via specific attributes) to <a href="various.txt.html#various" class="d">various</a>
	"current" <a href="index.txt.html#objects" class="d">objects</a> available in <a href="options.txt.html#vim%3A" class="d">vim:</a>
		vim.current.line	The current line (RW)		<a href="vimeval.txt.html#String" class="d">String</a>
		vim.current.buffer	The current buffer (RW)		Buffer
		vim.current.window	The current <a href="windows.txt.html#window" class="d">window</a> (RW)		Window
		vim.current.tabpage	The current <a href="intro.txt.html#tab" class="d">tab</a> page (RW)	TabPage
		vim.current.range	The current line range (RO)	Range

	The last <a href="change.txt.html#case" class="d">case</a> deserves <a href="insert.txt.html#a" class="d">a</a> little explanation.  When the <a href="if_pyth.txt.html#%3Apython" class="d">:python</a> or
	<a href="if_pyth.txt.html#%3Apyfile" class="d">:pyfile</a> command specifies <a href="insert.txt.html#a" class="d">a</a> range, this range of lines becomes the
	"current range"<a href="repeat.txt.html#." class="d">.</a>  <a href="insert.txt.html#A" class="d">A</a> range <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> bit like <a href="insert.txt.html#a" class="d">a</a> buffer, but with all access
	restricted to <a href="insert.txt.html#a" class="d">a</a> subset of lines.  See <a href="if_pyth.txt.html#python-range" class="l">python-range</a> <a href="luaref.txt.html#for" class="d">for</a> more details.

	<span class="n">Note:</span> When assigning to vim.current.{buffer,window,tabpage} <a href="motion.txt.html#it" class="d">it</a> expects
	valid <a href="if_pyth.txt.html#python-buffer" class="l">python-buffer</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="if_pyth.txt.html#python-window" class="l">python-window</a> or <a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a> <a href="index.txt.html#objects" class="d">objects</a>
	respectively. Assigning triggers normal (with <a href="autocmd.txt.html#autocommand" class="l">autocommand</a>s)
	switching to given buffer, <a href="windows.txt.html#window" class="d">window</a> or <a href="intro.txt.html#tab" class="d">tab</a> page. It <a href="motion.txt.html#is" class="d">is</a> the only way to
	switch <a href="ui.txt.html#UI" class="d">UI</a> <a href="index.txt.html#objects" class="d">objects</a> in python: you can't assign to
	<a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a>.window attribute. To switch without triggering
	autocommands use 
<span class="e">	    py &lt;&lt; EOF</span>
<span class="e">	    saved_eventignore = vim.options['eventignore']</span>
<span class="e">	    vim.options['eventignore'] = 'all'</span>
<span class="e">	    try:</span>
<span class="e">	        vim.current.buffer = vim.buffers[2] # Switch to buffer 2</span>
<span class="e">	    finally:</span>
<span class="e">	        vim.options['eventignore'] = saved_eventignore</span>
<span class="e">	    EOF</span>

vim.vars						<span id="python-vars" class="t">python-vars</span>
vim.vvars						<span id="python-vvars" class="t">python-vvars</span>
	Dictionary-like <a href="index.txt.html#objects" class="d">objects</a> holding dictionaries with global <a href="motion.txt.html#%28" class="d">(</a><a href="vimeval.txt.html#g%3A" class="l">g:</a><a href="motion.txt.html#%29" class="d">)</a> and
	vim <a href="motion.txt.html#%28" class="d">(</a><a href="vimeval.txt.html#v%3A" class="l">v:</a><a href="motion.txt.html#%29" class="d">)</a> <a href="vimeval.txt.html#variables" class="d">variables</a> respectively.

vim.options						<span id="python-options" class="t">python-options</span>
	Object partly supporting <a href="map.txt.html#mapping" class="d">mapping</a> protocol (supports setting and
	getting items) providing <a href="insert.txt.html#a" class="d">a</a> read-write access to global options.
	<span class="n">Note:</span> unlike <a href="options.txt.html#%3Aset" class="l">:set</a> this provides access only to global options. You
	cannot use this object to obtain or set local options' values or
	access local-only <a href="options.txt.html#options" class="d">options</a> in any fashion. Raises KeyError if no global
	option with such name exists (i.e. does not raise KeyError <a href="luaref.txt.html#for" class="d">for</a>
	<a href="options.txt.html#global-local" class="l">global-local</a> <a href="options.txt.html#options" class="d">options</a> and global only options, but does <a href="luaref.txt.html#for" class="d">for</a> window-
	and buffer-local ones).  Use <a href="if_pyth.txt.html#python-buffer" class="l">python-buffer</a> <a href="index.txt.html#objects" class="d">objects</a> to access to
	buffer-local <a href="options.txt.html#options" class="d">options</a> and <a href="if_pyth.txt.html#python-window" class="l">python-window</a> <a href="index.txt.html#objects" class="d">objects</a> to access to
	window-local options.

	Type of this object <a href="motion.txt.html#is" class="d">is</a> available via "Options" attribute of vim
	module.

Output from <a href="if_pyth.txt.html#Python" class="d">Python</a>					<span id="python-output" class="t">python-output</span>
	Vim displays all <a href="if_pyth.txt.html#Python" class="d">Python</a> code output in the Vim message area.  <a href="intro.txt.html#Normal" class="d">Normal</a>
	output appears <a href="motion.txt.html#as" class="d">as</a> information messages, and error output appears <a href="motion.txt.html#as" class="d">as</a>
	error messages.

	In implementation terms, this means that all output to sys.stdout
	(including the output from print statements) appears <a href="motion.txt.html#as" class="d">as</a> information
	messages, and all output to sys.stderr (including error tracebacks)
	appears <a href="motion.txt.html#as" class="d">as</a> error messages.

							<span id="python-input" class="t">python-input</span>
	Input (via sys.stdin, including <a href="vimfn.txt.html#input%28%29" class="d">input()</a> and raw_input()) <a href="motion.txt.html#is" class="d">is</a> not
	supported, and may cause the program to crash.  This should probably be
	fixed.

				  <span id="python3-directory" class="t">python3-directory</span> <span id="pythonx-directory" class="t">pythonx-directory</span>
<a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a> handling				<span id="python-special-path" class="t">python-special-path</span>

In <a href="if_pyth.txt.html#python" class="d">python</a> vim.VIM_SPECIAL_PATH special directory <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> replacement <a href="luaref.txt.html#for" class="d">for</a>
the <a href="vimeval.txt.html#list" class="d">list</a> of paths found in <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a>: with this directory in sys.path and
vim.path_hooks in sys.path_hooks <a href="if_pyth.txt.html#python" class="d">python</a> will try to load module from
<span class="s">{rtp}</span>/python3 and <span class="s">{rtp}</span>/pythonx <a href="luaref.txt.html#for" class="d">for</a> each <span class="s">{rtp}</span> found in <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a>.

Implementation <a href="motion.txt.html#is" class="d">is</a> similar to the following, but written in C: &gt;python

    from imp import find_module, load_module
    import vim
    import sys

    class VimModuleLoader(object):
        def __init__(self, module):
            self.module <a href="change.txt.html#%3D" class="d">=</a> module

        def load_module(self, fullname, path=None):
            return self.module

    def _find_module(fullname, oldtail, path):
        idx <a href="change.txt.html#%3D" class="d">=</a> oldtail.find('.')
        if idx <a href="change.txt.html#%3E" class="d">&gt;</a> 0:
            name <a href="change.txt.html#%3D" class="d">=</a> oldtail[:idx]
            tail <a href="change.txt.html#%3D" class="d">=</a> oldtail[idx+1:]
            fmr <a href="change.txt.html#%3D" class="d">=</a> find_module(name, path)
            module <a href="change.txt.html#%3D" class="d">=</a> load_module(fullname[:-len(oldtail)] <a href="motion.txt.html#%2B" class="d">+</a> name, *fmr)
            return _find_module(fullname, tail, module.__path__)
        else:
            fmr <a href="change.txt.html#%3D" class="d">=</a> find_module(fullname, path)
            return load_module(fullname, *fmr)

    <a href="pattern.txt.html#%23" class="d">#</a> It uses vim module itself in place of VimPathFinder class: <a href="motion.txt.html#it" class="d">it</a> does not
    <a href="pattern.txt.html#%23" class="d">#</a> matter <a href="luaref.txt.html#for" class="d">for</a> <a href="if_pyth.txt.html#python" class="d">python</a> which object has find_module function attached to <a href="motion.txt.html#as" class="d">as</a>
    <a href="pattern.txt.html#%23" class="d">#</a> an attribute.
    class VimPathFinder(object):
        @classmethod
        def find_module(cls, fullname, path=None):
            try:
                return VimModuleLoader(_find_module(fullname, fullname, path or vim._get_paths()))
            except ImportError:
                return None

        @classmethod
        def load_module(cls, fullname, path=None):
            return _find_module(fullname, fullname, path or vim._get_paths())

    def hook(path):
        if path <a href="change.txt.html#%3D%3D" class="d">==</a> vim.VIM_SPECIAL_PATH:
            return VimPathFinder
        else:
            raise ImportError

    sys.path_hooks.append(hook)

vim.VIM_SPECIAL_PATH					<span id="python-VIM_SPECIAL_PATH" class="t">python-VIM_SPECIAL_PATH</span>
	<a href="vimeval.txt.html#String" class="d">String</a> constant used in conjunction with vim path hook. If path hook
	installed by vim <a href="motion.txt.html#is" class="d">is</a> requested to handle anything but path equal to
	vim.VIM_SPECIAL_PATH constant <a href="motion.txt.html#it" class="d">it</a> raises ImportError. In the only other
	<a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#it" class="d">it</a> uses special loader.

	<span class="n">Note:</span> you must not use value of this constant directly, always use
	      vim.VIM_SPECIAL_PATH object.

vim.find_module(...)					<span id="python-find_module" class="t">python-find_module</span>
vim.path_hook(path)					<span id="python-path_hook" class="t">python-path_hook</span>
	Methods or <a href="index.txt.html#objects" class="d">objects</a> used to implement path loading <a href="motion.txt.html#as" class="d">as</a> described above.
	You should not be using any of these directly except <a href="luaref.txt.html#for" class="d">for</a> vim.path_hook
	in <a href="change.txt.html#case" class="d">case</a> you need to <a href="diff.txt.html#do" class="d">do</a> something with sys.meta_path. It <a href="motion.txt.html#is" class="d">is</a> not
	guaranteed that any of the <a href="index.txt.html#objects" class="d">objects</a> will exist in the future vim
	versions.

vim._get_paths						<span id="python-_get_paths" class="t">python-_get_paths</span>
	Methods returning <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of paths which will be searched <a href="luaref.txt.html#for" class="d">for</a> by path
	hook. You should not rely on this <a href="vimeval.txt.html#method" class="d">method</a> being present in future
	versions, but can use <a href="motion.txt.html#it" class="d">it</a> <a href="luaref.txt.html#for" class="d">for</a> debugging.

	It returns <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of <span class="s">{rtp}</span>/python3 and <span class="s">{rtp}</span>/pythonx
	directories <a href="luaref.txt.html#for" class="d">for</a> each <span class="s">{rtp}</span> in <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a>.

<span class="h">==============================================================================</span>
Buffer <a href="index.txt.html#objects" class="d">objects</a>						<span id="python-buffer" class="t">python-buffer</span>

Buffer <a href="index.txt.html#objects" class="d">objects</a> represent vim buffers.  You can obtain them in <a href="insert.txt.html#a" class="d">a</a> number of ways:
	<a href="motion.txt.html#-" class="d">-</a> via vim.current.buffer <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-current" class="l">python-current</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from indexing vim.buffers <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-buffers" class="l">python-buffers</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from the "buffer" attribute of <a href="insert.txt.html#a" class="d">a</a> <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-window" class="l">python-window</a><a href="motion.txt.html#%29" class="d">)</a>

Buffer <a href="index.txt.html#objects" class="d">objects</a> have two read-only attributes <a href="motion.txt.html#-" class="d">-</a> name <a href="motion.txt.html#-" class="d">-</a> the full file name <a href="luaref.txt.html#for" class="d">for</a>
the buffer, and number <a href="motion.txt.html#-" class="d">-</a> the buffer number.  They also have three methods
(append, mark, and range; see below).

You can also treat buffer <a href="index.txt.html#objects" class="d">objects</a> <a href="motion.txt.html#as" class="d">as</a> sequence objects.  In this context, they
act <a href="motion.txt.html#as" class="d">as</a> if they were lists (yes, they are mutable) of strings, with each
element being <a href="insert.txt.html#a" class="d">a</a> line of the buffer.  All of the usual sequence operations,
including indexing, <a href="index.txt.html#index" class="d">index</a> assignment, slicing and <a href="vimeval.txt.html#slice" class="d">slice</a> assignment, work <a href="motion.txt.html#as" class="d">as</a>
you would expect.  <span class="n">Note</span> that the result of indexing (slicing) <a href="insert.txt.html#a" class="d">a</a> buffer <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
<a href="vimeval.txt.html#string" class="d">string</a> (list of strings).  This has one unusual consequence <a href="motion.txt.html#-" class="d">-</a> b[:] <a href="motion.txt.html#is" class="d">is</a> different
from b.  In particular, "b[:] <a href="change.txt.html#%3D" class="d">=</a> None" deletes the whole of the buffer, whereas
"<a href="motion.txt.html#b" class="d">b</a> <a href="change.txt.html#%3D" class="d">=</a> None" merely updates the variable b, with no effect on the buffer.

Buffer indexes start <a href="motion.txt.html#at" class="d">at</a> zero, <a href="motion.txt.html#as" class="d">as</a> <a href="motion.txt.html#is" class="d">is</a> normal in Python.  This differs from vim
line numbers, which start from 1.  This <a href="motion.txt.html#is" class="d">is</a> particularly relevant when dealing
with marks (see below) which use vim line numbers.

The buffer object attributes are:
	b.vars		Dictionary-like object used to access
			<a href="vimeval.txt.html#buffer-variable" class="l">buffer-variable</a>s.
	b.options	Mapping object (supports item getting, setting and
			deleting) that provides access to buffer-local <a href="options.txt.html#options" class="d">options</a>
			and buffer-local values of <a href="options.txt.html#global-local" class="l">global-local</a> options. Use
			<a href="if_pyth.txt.html#python-window" class="l">python-window</a>.options if option <a href="motion.txt.html#is" class="d">is</a> window-local,
			this object will raise KeyError. If option <a href="motion.txt.html#is" class="d">is</a>
			<a href="options.txt.html#global-local" class="l">global-local</a> and local value <a href="motion.txt.html#is" class="d">is</a> missing getting <a href="motion.txt.html#it" class="d">it</a>
			will return None.
	b.name		String, RW. Contains buffer name (full path).
			<span class="n">Note:</span> when assigning to b.name <a href="autocmd.txt.html#BufFilePre" class="l">BufFilePre</a> and
			<a href="autocmd.txt.html#BufFilePost" class="l">BufFilePost</a> autocommands are launched.
	b.number	Buffer number. Can be used <a href="motion.txt.html#as" class="d">as</a> <a href="if_pyth.txt.html#python-buffers" class="l">python-buffers</a> key.
			Read-only.
	b.valid		True or False. Buffer object becomes invalid when
			corresponding buffer <a href="motion.txt.html#is" class="d">is</a> wiped out.

The buffer object methods are:
	b.append(str)	Append <a href="insert.txt.html#a" class="d">a</a> line to the buffer
	b.append(str, nr)  Idem, below line "nr"
	b.append(list)	Append <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of lines to the buffer
			<span class="n">Note</span> that the option of supplying <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of strings to
			the append <a href="vimeval.txt.html#method" class="d">method</a> differs from the equivalent <a href="vimeval.txt.html#method" class="d">method</a>
			<a href="luaref.txt.html#for" class="d">for</a> Python's built-in <a href="vimeval.txt.html#list" class="d">list</a> objects.
	b.append(list, nr)  Idem, below line "nr"
	b.mark(name)	Return <a href="insert.txt.html#a" class="d">a</a> tuple (row,col) representing the position
			of the named <a href="motion.txt.html#mark" class="d">mark</a> (can also get the <a href="motion.txt.html#%5B%5D" class="d">[]</a>"<a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> marks)
	b.range(s,e)	Return <a href="insert.txt.html#a" class="d">a</a> range object (see <a href="if_pyth.txt.html#python-range" class="l">python-range</a><a href="motion.txt.html#%29" class="d">)</a> which
			represents the part of the given buffer between line
			numbers <a href="change.txt.html#s" class="d">s</a> and <a href="motion.txt.html#e" class="d">e</a> <a href="motion.txt.html#inclusive" class="l">inclusive</a><a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note</span> that when adding <a href="insert.txt.html#a" class="d">a</a> line <a href="motion.txt.html#it" class="d">it</a> must not contain <a href="insert.txt.html#a" class="d">a</a> line break character '\n'.
<a href="insert.txt.html#A" class="d">A</a> trailing '\n' <a href="motion.txt.html#is" class="d">is</a> allowed and ignored, so that you can do: 
<span class="e">	:py b.append(f.readlines())</span>
<span class="e"></span>
Buffer object type <a href="motion.txt.html#is" class="d">is</a> available using "Buffer" attribute of vim module.

Examples (assume <a href="motion.txt.html#b" class="d">b</a> <a href="motion.txt.html#is" class="d">is</a> the current buffer) 
<span class="e">	:py print(b.name)		# write the buffer file name</span>
<span class="e">	:py b[0] = "hello!!!"		# replace the top line</span>
<span class="e">	:py b[:] = None			# delete the whole buffer</span>
<span class="e">	:py del b[:]			# delete the whole buffer</span>
<span class="e">	:py b[0:0] = [ "a line" ]	# add a line at the top</span>
<span class="e">	:py del b[2]			# delete a line (the third)</span>
<span class="e">	:py b.append("bottom")		# add a line at the bottom</span>
<span class="e">	:py n = len(b)			# number of lines</span>
<span class="e">	:py (row,col) = b.mark('a')	# named mark</span>
<span class="e">	:py r = b.range(1,5)		# a sub-range of the buffer</span>
<span class="e">	:py b.vars["foo"] = "bar"	# assign b:foo variable</span>
<span class="e">	:py b.options["ff"] = "dos"	# set fileformat</span>
<span class="e">	:py del b.options["ar"]		# same as :set autoread&lt;</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
Range <a href="index.txt.html#objects" class="d">objects</a>						<span id="python-range" class="t">python-range</span>

Range <a href="index.txt.html#objects" class="d">objects</a> represent <a href="insert.txt.html#a" class="d">a</a> part of <a href="insert.txt.html#a" class="d">a</a> vim buffer.  You can obtain them in <a href="insert.txt.html#a" class="d">a</a>
number of ways:
	<a href="motion.txt.html#-" class="d">-</a> via vim.current.range <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-current" class="l">python-current</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from <a href="insert.txt.html#a" class="d">a</a> buffer's <a href="vimfn.txt.html#range%28%29" class="d">range()</a> <a href="vimeval.txt.html#method" class="d">method</a> <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-buffer" class="l">python-buffer</a><a href="motion.txt.html#%29" class="d">)</a>

<a href="insert.txt.html#A" class="d">A</a> range object <a href="motion.txt.html#is" class="d">is</a> almost identical in operation to <a href="insert.txt.html#a" class="d">a</a> buffer object.  However,
all operations are restricted to the lines within the range (this line range
can, of course, change <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> result of <a href="vimeval.txt.html#slice" class="d">slice</a> assignments, line deletions, or
the range.append() method).

The range object attributes are:
	r.start		Index of first line into the buffer
	r.end		Index of last line into the buffer

The range object methods are:
	r.append(str)	Append <a href="insert.txt.html#a" class="d">a</a> line to the range
	r.append(str, nr)  Idem, after line "nr"
	r.append(list)	Append <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of lines to the range
			<span class="n">Note</span> that the option of supplying <a href="insert.txt.html#a" class="d">a</a> <a href="vimeval.txt.html#list" class="d">list</a> of strings to
			the append <a href="vimeval.txt.html#method" class="d">method</a> differs from the equivalent <a href="vimeval.txt.html#method" class="d">method</a>
			<a href="luaref.txt.html#for" class="d">for</a> Python's built-in <a href="vimeval.txt.html#list" class="d">list</a> objects.
	r.append(list, nr)  Idem, after line "nr"

Range object type <a href="motion.txt.html#is" class="d">is</a> available using "Range" attribute of vim module.

Example (assume <a href="change.txt.html#r" class="d">r</a> <a href="motion.txt.html#is" class="d">is</a> the current range):
	<a href="pattern.txt.html#%23" class="d">#</a> Send all lines in <a href="insert.txt.html#a" class="d">a</a> range to the default printer
	vim.command("%d,%dhardcopy!" <a href="motion.txt.html#%25" class="d">%</a> (r.start+1,r.end+1))

<span class="h">==============================================================================</span>
Window <a href="index.txt.html#objects" class="d">objects</a>						<span id="python-window" class="t">python-window</span>

Window <a href="index.txt.html#objects" class="d">objects</a> represent vim windows.  You can obtain them in <a href="insert.txt.html#a" class="d">a</a> number of ways:
	<a href="motion.txt.html#-" class="d">-</a> via vim.current.window <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-current" class="l">python-current</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from indexing vim.windows <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-windows" class="l">python-windows</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from indexing "<a href="windows.txt.html#windows" class="d">windows</a>" attribute of <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#tab" class="d">tab</a> page <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from the "<a href="windows.txt.html#window" class="d">window</a>" attribute of <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#tab" class="d">tab</a> page <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-tabpage" class="l">python-tabpage</a><a href="motion.txt.html#%29" class="d">)</a>

You can manipulate <a href="windows.txt.html#window" class="d">window</a> <a href="index.txt.html#objects" class="d">objects</a> only through their attributes.  They have no
methods, and no sequence or other interface.

Window attributes are:
	buffer (read-only)	The buffer displayed in this <a href="windows.txt.html#window" class="d">window</a>
	cursor (read-write)	The current cursor position in the <a href="windows.txt.html#window" class="d">window</a>
				This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> tuple, (row,col).
	height (read-write)	The <a href="windows.txt.html#window" class="d">window</a> height, in rows
	width (read-write)	The <a href="windows.txt.html#window" class="d">window</a> width, in columns
	vars (read-only)	The <a href="windows.txt.html#window" class="d">window</a> <a href="vimeval.txt.html#w%3A" class="l">w:</a> variables. Attribute <a href="motion.txt.html#is" class="d">is</a>
				unassignable, but you can change <a href="windows.txt.html#window" class="d">window</a>
				<a href="vimeval.txt.html#variables" class="d">variables</a> this way
	<a href="options.txt.html#options" class="d">options</a> (read-only)	The window-local options. Attribute <a href="motion.txt.html#is" class="d">is</a>
				unassignable, but you can change <a href="windows.txt.html#window" class="d">window</a>
				<a href="options.txt.html#options" class="d">options</a> this way. Provides access only to
				window-local options, <a href="luaref.txt.html#for" class="d">for</a> buffer-local use
				<a href="if_pyth.txt.html#python-buffer" class="l">python-buffer</a> and <a href="luaref.txt.html#for" class="d">for</a> global ones use
				<a href="if_pyth.txt.html#python-options" class="l">python-options</a><a href="repeat.txt.html#." class="d">.</a> If option <a href="motion.txt.html#is" class="d">is</a> <a href="options.txt.html#global-local" class="l">global-local</a>
				and local value <a href="motion.txt.html#is" class="d">is</a> missing getting <a href="motion.txt.html#it" class="d">it</a> will
				return None.
	number (read-only)	Window number.  The first <a href="windows.txt.html#window" class="d">window</a> has number 1.
				This <a href="motion.txt.html#is" class="d">is</a> zero in <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#it" class="d">it</a> cannot be determined
				(e.g. when the <a href="windows.txt.html#window" class="d">window</a> object belongs to other
				<a href="intro.txt.html#tab" class="d">tab</a> page).
	row, col (read-only)	On-screen <a href="windows.txt.html#window" class="d">window</a> position in display cells.
				First position <a href="motion.txt.html#is" class="d">is</a> zero.
	<a href="tabpage.txt.html#tabpage" class="d">tabpage</a> (read-only)	Window <a href="intro.txt.html#tab" class="d">tab</a> page.
	valid (read-write)	True or False. Window object becomes invalid
				when corresponding <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a> closed.

The height attribute <a href="motion.txt.html#is" class="d">is</a> writable only if the screen <a href="motion.txt.html#is" class="d">is</a> split horizontally.
The width attribute <a href="motion.txt.html#is" class="d">is</a> writable only if the screen <a href="motion.txt.html#is" class="d">is</a> split vertically.

Window object type <a href="motion.txt.html#is" class="d">is</a> available using "Window" attribute of vim module.

<span class="h">==============================================================================</span>
<a href="intro.txt.html#Tab" class="d">Tab</a> page <a href="index.txt.html#objects" class="d">objects</a>					<span id="python-tabpage" class="t">python-tabpage</span>

<a href="intro.txt.html#Tab" class="d">Tab</a> page <a href="index.txt.html#objects" class="d">objects</a> represent vim <a href="intro.txt.html#tab" class="d">tab</a> pages. You can obtain them in <a href="insert.txt.html#a" class="d">a</a> number of
ways:
	<a href="motion.txt.html#-" class="d">-</a> via vim.current.tabpage <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-current" class="l">python-current</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> from indexing vim.tabpages <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-tabpages" class="l">python-tabpages</a><a href="motion.txt.html#%29" class="d">)</a>

You can use this object to access <a href="intro.txt.html#tab" class="d">tab</a> page windows. They have no methods and
no sequence or other interfaces.

<a href="intro.txt.html#Tab" class="d">Tab</a> page attributes are:
	number		The <a href="intro.txt.html#tab" class="d">tab</a> page number like the one returned by
			<a href="vimfn.txt.html#tabpagenr%28%29" class="l">tabpagenr()</a><a href="repeat.txt.html#." class="d">.</a>
	<a href="windows.txt.html#windows" class="d">windows</a>		Like <a href="if_pyth.txt.html#python-windows" class="l">python-windows</a><a href="motion.txt.html#%2C" class="d">,</a> but <a href="luaref.txt.html#for" class="d">for</a> current <a href="intro.txt.html#tab" class="d">tab</a> page.
	vars		The <a href="intro.txt.html#tab" class="d">tab</a> page <a href="vimeval.txt.html#t%3A" class="l">t:</a> variables.
	<a href="windows.txt.html#window" class="d">window</a>		Current <a href="tabpage.txt.html#tabpage" class="d">tabpage</a> window.
	valid		True or False. <a href="intro.txt.html#Tab" class="d">Tab</a> page object becomes invalid when
			corresponding <a href="intro.txt.html#tab" class="d">tab</a> page <a href="motion.txt.html#is" class="d">is</a> closed.

TabPage object type <a href="motion.txt.html#is" class="d">is</a> available using "TabPage" attribute of vim module.

<span class="h">==============================================================================</span>
<a href="vimfn.txt.html#pyeval%28%29" class="d">pyeval()</a> and <a href="vimfn.txt.html#py3eval%28%29" class="d">py3eval()</a> Vim <a href="vimeval.txt.html#functions" class="d">functions</a>			<span id="python-pyeval" class="t">python-pyeval</span>

To facilitate bi-directional interface, you can use <a href="vimfn.txt.html#pyeval%28%29" class="l">pyeval()</a> and <a href="vimfn.txt.html#py3eval%28%29" class="l">py3eval()</a>
<a href="vimeval.txt.html#functions" class="d">functions</a> to evaluate <a href="if_pyth.txt.html#Python" class="d">Python</a> expressions and pass their values to Vim script.
<a href="vimfn.txt.html#pyxeval%28%29" class="l">pyxeval()</a> <a href="motion.txt.html#is" class="d">is</a> also available.

<span class="h">==============================================================================</span>
<a href="if_pyth.txt.html#Python" class="d">Python</a> 3						<span id="python3" class="t">python3</span>

As <a href="if_pyth.txt.html#Python" class="d">Python</a> 3 <a href="motion.txt.html#is" class="d">is</a> the only supported version in Nvim, "<a href="if_pyth.txt.html#python" class="d">python</a>" <a href="motion.txt.html#is" class="d">is</a> synonymous
with "<a href="if_pyth.txt.html#python3" class="d">python3</a>" in the current version. However, code that aims to <a href="support.txt.html#support" class="d">support</a> older
versions of Nvim, <a href="motion.txt.html#as" class="d">as</a> well <a href="motion.txt.html#as" class="d">as</a> Vim, should prefer to use "<a href="if_pyth.txt.html#python3" class="d">python3</a>" variants
explicitly if <a href="if_pyth.txt.html#Python" class="d">Python</a> 3 <a href="motion.txt.html#is" class="d">is</a> required.

							<span id="%3Apy3" class="t">:py3</span> <span id="%3Apython3" class="t">:python3</span>
:[range]py3 <span class="s">{stmt}</span>
:[range]py3 <a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a> <span class="s">[trim]</span> [{endmarker}]
<span class="s">{script}</span>
<span class="s">{endmarker}</span>

:[range]python3 <span class="s">{stmt}</span>
:[range]python3 <a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a> <span class="s">[trim]</span> [{endmarker}]
<span class="s">{script}</span>
<span class="s">{endmarker}</span>
	The <span class="e">:py3</span> and <span class="e">:python3</span> commands work similar to <span class="e">:python</span>.  <a href="insert.txt.html#A" class="d">A</a>
	simple check if the <span class="e">:py3</span> command <a href="motion.txt.html#is" class="d">is</a> working: 
<span class="e">		:py3 print("Hello")</span>

	To see what version of <a href="if_pyth.txt.html#Python" class="d">Python</a> you have: 
<span class="e">		:py3 import sys</span>
<span class="e">		:py3 print(sys.version)</span>
							<span id="%3Apy3file" class="t">:py3file</span>
:[range]py3f[ile] <a href="editing.txt.html#%7Bfile%7D" class="s">{file}</a>
	The <span class="e">:py3file</span> command works similar to <span class="e">:pyfile</span>.
							<span id="%3Apy3do" class="t">:py3do</span>
:[range]py3do <span class="s">{body}</span>
	The <span class="e">:py3do</span> command works similar to <span class="e">:pydo</span>.

							<span id="E880" class="t">E880</span>
Raising SystemExit exception in <a href="if_pyth.txt.html#python" class="d">python</a> isn't endorsed way to quit vim, use:

<span class="e">	:py vim.command("qall!")</span>

							<span id="has-python" class="t">has-python</span>
You can test if <a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="motion.txt.html#is" class="d">is</a> available with: 
<span class="e">	if has('pythonx')</span>
<span class="e">	  echo 'there is Python'</span>
<span class="e">	endif</span>
<span class="e">	if has('python3')</span>
<span class="e">	  echo 'there is Python 3.x'</span>
<span class="e">	endif</span>
<span class="e"></span>
<a href="if_pyth.txt.html#Python" class="d">Python</a> 2 <a href="motion.txt.html#is" class="d">is</a> no longer supported. Thus <span class="e">has('python')</span> always returns
zero <a href="luaref.txt.html#for" class="d">for</a> backwards compatibility reasons.

<span class="h">==============================================================================</span>
<a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="change.txt.html#X" class="d">X</a>						<span id="python_x" class="t">python_x</span> <span id="pythonx" class="t">pythonx</span>

The "<a href="if_pyth.txt.html#pythonx" class="d">pythonx</a>" and "pyx" prefixes were introduced <a href="luaref.txt.html#for" class="d">for</a> <a href="if_pyth.txt.html#python" class="d">python</a> code which
works with <a href="if_pyth.txt.html#Python" class="d">Python</a> 2.6+ and <a href="if_pyth.txt.html#Python" class="d">Python</a> 3. As Nvim only supports <a href="if_pyth.txt.html#Python" class="d">Python</a> 3,
all these commands are now synonymous to their "<a href="if_pyth.txt.html#python3" class="d">python3</a>" equivalents.

							<span id="%3Apyx" class="t">:pyx</span> <span id="%3Apythonx" class="t">:pythonx</span>
<span class="e">:pyx</span> and <span class="e">:pythonx</span> work the same <a href="motion.txt.html#as" class="d">as</a> <span class="e">:python3</span>.  To check if <span class="e">:pyx</span> works: 
<span class="e">	:pyx print("Hello")</span>
<span class="e"></span>
To see what version of <a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="motion.txt.html#is" class="d">is</a> being used: 
<span class="e">	:pyx import sys</span>
<span class="e">	:pyx print(sys.version)</span>

					<span id="%3Apyxfile" class="t">:pyxfile</span> <span id="python_x-special-comments" class="t">python_x-special-comments</span>
<span class="e">:pyxfile</span> works the same <a href="motion.txt.html#as" class="d">as</a> <span class="e">:py3file</span>.

							<span id="%3Apyxdo" class="t">:pyxdo</span>
<span class="e">:pyxdo</span> works the same <a href="motion.txt.html#as" class="d">as</a> <span class="e">:py3do</span>.

							<span id="has-pythonx" class="t">has-pythonx</span>
To check if <span class="e">pyx*</span> <a href="vimeval.txt.html#functions" class="d">functions</a> and commands are available: 
<span class="e">	if has('pythonx')</span>
<span class="e">	  echo 'pyx* commands are available. (Python ' .. &amp;pyx .. ')'</span>
<span class="e">	endif</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
 vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
</main>
<p>Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
</p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>
</body>
</html>