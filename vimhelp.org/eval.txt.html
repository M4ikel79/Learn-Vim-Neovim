<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Vim help pages, always up-to-date">
<title>Vim: eval.txt</title>
<link rel="shortcut icon" href="s/KXPobNpJBGAI5V1t/favicon-vim.ico">
<!-- favicon is based on http://amnoid.de/tmp/vim_solidbright_512.png and is used with permission by its author -->

<link rel="stylesheet" href="s/MsMIu46igYudff1x/tom-select.min.css">
<script defer src="s/RLcAbtLBYX-q5me0/tom-select.base.min.js"></script>

<link rel="stylesheet" href="s/QRMkrs52-wJfIQ-w/vimhelp.css">
<noscript><link rel="stylesheet" href="s/eRFCn9A-K4lmzV_A/noscript.css"></noscript>
<script defer src="s/KpwrKyx19dtnhPoe/vimhelp.js"></script>
</head>
<body>




<div class="bar">
  <div class="ql">Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</div>
  <div class="tag srch need-js">
    <select id="vh-select-tag"></select>
    <div class="placeholder">Go to keyword<span class="not-mobile">&nbsp;(shortcut: <kbd>k</kbd>)</span></div>
  </div>
  <form class="site srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
    <div class="placeholder need-js">Site search<span class="not-mobile">&nbsp;(shortcut: <kbd>s</kbd>)</span></div>
  </form>
  <div id="theme-switcher" class="need-js">
  <button id="theme-current" title="Switch theme">Theme</button>
  <div id="theme-dropdown"><ul>
    <li><button id="theme-native" title="Switch to native theme">Native</button></li>
    <li><button id="theme-light" title="Switch to light theme">Light</button></li>
    <li><button id="theme-dark" title="Switch to dark theme">Dark</button></li>
  </ul></div>
</div>

</div>

<main>
<div id="vh-sidebar">
<ul><li><a href="eval.txt.html#">↑Top↑</a></li>
<li><a href="eval.txt.html#variables">Variables</a></li>
<li><a href="eval.txt.html#expression-syntax">Expression syntax</a></li>
<li><a href="eval.txt.html#internal-variables">Internal variable</a></li>
<li><a href="eval.txt.html#functions">Builtin Functions</a></li>
<li><a href="eval.txt.html#user-functions">Defining functions</a></li>
<li><a href="eval.txt.html#curly-braces-names">Curly braces names</a></li>
<li><a href="eval.txt.html#expression-commands">Commands</a></li>
<li><a href="eval.txt.html#exception-handling">Exception handling</a></li>
<li><a href="eval.txt.html#eval-examples">Examples</a></li>
<li><a href="eval.txt.html#vimscript-version">Vim script versions</a></li>
<li><a href="eval.txt.html#no-eval-feature">No +eval feature</a></li>
<li><a href="eval.txt.html#eval-sandbox">The sandbox</a></li>
<li><a href="eval.txt.html#textlock">Textlock</a></li>
<li><a href="eval.txt.html#vim-script-library">Vim script library</a></li>
</ul>
</div>
<div id="vh-content">
<pre>
<span id="eval.txt" class="t">eval.txt</span>  	For <span class="i">Vim version 9.1.</span>  Last change: 2025 Dec 01


		  <span class="i">VIM REFERENCE MANUAL	  by Bram Moolenaar</span>


Expression evaluation			<span id="expression" class="t">expression</span> <span id="expr" class="t">expr</span> <span id="E15" class="t">E15</span> <span id="eval" class="t">eval</span>
							<span id="E1002" class="t">E1002</span>
Using expressions <a href="motion.txt.html#is" class="d">is</a> introduced in chapter 41 of the user manual <a href="usr_41.txt.html#usr_41.txt" class="l">usr_41.txt</a><a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note:</span> Expression evaluation can be disabled <a href="motion.txt.html#at" class="d">at</a> compile time.  If this has been
done, the features in this document are not available.  See <a href="various.txt.html#%2Beval" class="l">+eval</a> and
<a href="eval.txt.html#no-eval-feature" class="l">no-eval-feature</a><a href="repeat.txt.html#." class="d">.</a>

This file <a href="motion.txt.html#is" class="d">is</a> mainly about the backwards compatible (legacy) Vim script.  For
specifics of <a href="vim9.txt.html#Vim9" class="d">Vim9</a> script, which can execute much faster, supports type
checking and much more, see <a href="vim9.txt.html#vim9.txt" class="l">vim9.txt</a><a href="repeat.txt.html#." class="d">.</a>  Where the <a href="syntax.txt.html#syntax" class="d">syntax</a> or semantics differ
<a href="insert.txt.html#a" class="d">a</a> remark <a href="motion.txt.html#is" class="d">is</a> given.

1.  Variables			<a href="eval.txt.html#variables" class="l">variables</a>
    1.1 Variable types
    1.2 Function references		<a href="eval.txt.html#Funcref" class="l">Funcref</a>
    1.3 <a href="eval.txt.html#Lists" class="d">Lists</a>				<a href="eval.txt.html#Lists" class="l">Lists</a>
    1.4 <a href="eval.txt.html#Tuples" class="d">Tuples</a>				<a href="eval.txt.html#Tuples" class="l">Tuples</a>
    1.5 <a href="eval.txt.html#Dictionaries" class="d">Dictionaries</a>			<a href="eval.txt.html#Dictionaries" class="l">Dictionaries</a>
    1.6 <a href="eval.txt.html#Blobs" class="d">Blobs</a>				<a href="eval.txt.html#Blobs" class="l">Blobs</a>
    1.7 More about <a href="eval.txt.html#variables" class="d">variables</a>		<a href="eval.txt.html#more-variables" class="l">more-variables</a>
2.  Expression <a href="syntax.txt.html#syntax" class="d">syntax</a>		<a href="eval.txt.html#expression-syntax" class="l">expression-syntax</a>
3.  Internal variable		<a href="eval.txt.html#internal-variables" class="l">internal-variables</a>
4.  Builtin Functions		<a href="eval.txt.html#functions" class="l">functions</a>
5.  Defining <a href="eval.txt.html#functions" class="d">functions</a>		<a href="eval.txt.html#user-functions" class="l">user-functions</a>
6.  Curly braces names		<a href="eval.txt.html#curly-braces-names" class="l">curly-braces-names</a>
7.  Commands			<a href="eval.txt.html#expression-commands" class="l">expression-commands</a>
8.  Exception handling		<a href="eval.txt.html#exception-handling" class="l">exception-handling</a>
9.  Examples			<a href="eval.txt.html#eval-examples" class="l">eval-examples</a>
10. Vim <a href="usr_41.txt.html#script" class="d">script</a> version		<a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a>
11. No <a href="various.txt.html#%2Beval" class="d">+eval</a> feature		<a href="eval.txt.html#no-eval-feature" class="l">no-eval-feature</a>
12. The <a href="eval.txt.html#sandbox" class="d">sandbox</a>			<a href="eval.txt.html#eval-sandbox" class="l">eval-sandbox</a>
13. Textlock			<a href="eval.txt.html#textlock" class="l">textlock</a>
14. Vim <a href="usr_41.txt.html#script" class="d">script</a> library		<a href="eval.txt.html#vim-script-library" class="l">vim-script-library</a>

Testing support <a href="motion.txt.html#is" class="d">is</a> documented in <a href="testing.txt.html#testing.txt" class="l">testing.txt</a><a href="repeat.txt.html#." class="d">.</a>
Profiling <a href="motion.txt.html#is" class="d">is</a> documented <a href="motion.txt.html#at" class="d">at</a> <a href="repeat.txt.html#profiling" class="l">profiling</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
1. Variables						<span id="variables" class="t">variables</span>

<span class="h">1.1 Variable types </span>
					<span id="E712" class="t">E712</span> <span id="E896" class="t">E896</span> <span id="E897" class="t">E897</span> <span id="E899" class="t">E899</span> <span id="E1098" class="t">E1098</span>
					<span id="E1107" class="t">E1107</span> <span id="E1135" class="t">E1135</span> <span id="E1138" class="t">E1138</span> <span id="E1523" class="t">E1523</span>
There are eleven types of variables:

							<span id="Number" class="t">Number</span> <span id="Integer" class="t">Integer</span>
<a href="eval.txt.html#Number" class="d">Number</a>		<a href="insert.txt.html#A" class="d">A</a> 32 or 64 bit signed number.  <a href="eval.txt.html#expr-number" class="l">expr-number</a>
		The number of bits <a href="motion.txt.html#is" class="d">is</a> available in <a href="eval.txt.html#v%3Anumbersize" class="l">v:numbersize</a><a href="repeat.txt.html#." class="d">.</a>
		Examples:  -123  0x10  0177  0o177 0b1011

<a href="eval.txt.html#Float" class="d">Float</a>		<a href="insert.txt.html#A" class="d">A</a> floating point number. <a href="eval.txt.html#floating-point-format" class="l">floating-point-format</a> <span id="Float" class="t">Float</span>
		Examples: 123.456  1.15e-6  -1.1e3

<a href="eval.txt.html#String" class="d">String</a>		<a href="insert.txt.html#A" class="d">A</a> NUL terminated <a href="eval.txt.html#string" class="d">string</a> of 8-bit unsigned characters (bytes).
		<a href="eval.txt.html#expr-string" class="l">expr-string</a> Examples: "ab\txx\"<a href="starting.txt.html#--" class="d">--</a>"  'x-z''a,c'

<a href="eval.txt.html#List" class="d">List</a>		An ordered sequence of items, see <a href="eval.txt.html#List" class="l">List</a> for details.
		Example: [1, 2, ['a', 'b']]

<a href="eval.txt.html#Tuple" class="d">Tuple</a>		An ordered immutable sequence of items, see <a href="eval.txt.html#Tuple" class="l">Tuple</a> for
		details.
		Example: (1, 2, ('a', 'b'))

<a href="eval.txt.html#Dictionary" class="d">Dictionary</a>	An associative, unordered array: Each entry has <a href="insert.txt.html#a" class="d">a</a> key and <a href="insert.txt.html#a" class="d">a</a>
		value. <a href="eval.txt.html#Dictionary" class="l">Dictionary</a>
		Examples:
			<span class="s">{'blue': "#0000ff", 'red': "#ff0000"}</span>
			#{blue: "#0000ff"<a href="motion.txt.html#%2C" class="d">,</a> red: "#ff0000"<a href="motion.txt.html#%7D" class="d">}</a>

<a href="eval.txt.html#Funcref" class="d">Funcref</a>		<a href="insert.txt.html#A" class="d">A</a> <a href="intro.txt.html#reference" class="d">reference</a> to <a href="insert.txt.html#a" class="d">a</a> function <a href="eval.txt.html#Funcref" class="l">Funcref</a><a href="repeat.txt.html#." class="d">.</a>
		Example: function("strlen"<a href="motion.txt.html#%29" class="d">)</a>
		It can be bound to <a href="insert.txt.html#a" class="d">a</a> dictionary and arguments, <a href="motion.txt.html#it" class="d">it</a> then works
		like <a href="insert.txt.html#a" class="d">a</a> Partial.
		Example: function("Callback"<a href="motion.txt.html#%2C" class="d">,</a> <span class="s">[arg]</span>, myDict)

<a href="eval.txt.html#Special" class="d">Special</a>		<a href="eval.txt.html#v%3Afalse" class="l">v:false</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#v%3Atrue" class="l">v:true</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#v%3Anone" class="l">v:none</a> and <a href="eval.txt.html#v%3Anull" class="l">v:null</a><a href="repeat.txt.html#." class="d">.</a>  <span id="Special" class="t">Special</span>

<a href="eval.txt.html#Job" class="d">Job</a>		Used for <a href="insert.txt.html#a" class="d">a</a> job, see <a href="channel.txt.html#job_start%28%29" class="l">job_start()</a><a href="repeat.txt.html#." class="d">.</a> <span id="Job" class="t">Job</span> <span id="Jobs" class="t">Jobs</span>

<a href="eval.txt.html#Channel" class="d">Channel</a>		Used for <a href="insert.txt.html#a" class="d">a</a> channel, see <a href="channel.txt.html#ch_open%28%29" class="l">ch_open()</a><a href="repeat.txt.html#." class="d">.</a> <span id="Channel" class="t">Channel</span> <span id="Channels" class="t">Channels</span>

<a href="eval.txt.html#Blob" class="d">Blob</a>		Binary Large Object.  Stores any sequence of bytes.  See <a href="eval.txt.html#Blob" class="l">Blob</a>
		for details
		Example: 0zFF00ED015DAF
		0z <a href="motion.txt.html#is" class="d">is</a> an empty Blob.

The <a href="eval.txt.html#Number" class="d">Number</a> and <a href="eval.txt.html#String" class="d">String</a> types are converted automatically, depending on how they
are used.

Conversion from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> <a href="motion.txt.html#is" class="d">is</a> by making the ASCII representation of
the Number.  Examples:
<span class="h">	Number 123	--&gt;	String "123" </span>
<span class="h">	Number 0	--&gt;	String "0" </span>
<span class="h">	Number -1	--&gt;	String "-1" </span>
							<span id="octal" class="t">octal</span>
Conversion from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> only happens in legacy Vim script, not in
<a href="vim9.txt.html#Vim9" class="d">Vim9</a> script.  It <a href="motion.txt.html#is" class="d">is</a> done by converting the first digits to <a href="insert.txt.html#a" class="d">a</a> number.
Hexadecimal "0xf9"<a href="motion.txt.html#%2C" class="d">,</a> Octal "017" or "0o17"<a href="motion.txt.html#%2C" class="d">,</a> and Binary "0b10"
numbers are recognized
<span class="n">NOTE:</span> when using <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> or <a href="eval.txt.html#scriptversion-4" class="l">scriptversion-4</a> <a href="eval.txt.html#octal" class="d">octal</a> with <a href="insert.txt.html#a" class="d">a</a> leading "<a href="motion.txt.html#0" class="d">0</a>"
<a href="motion.txt.html#is" class="d">is</a> not recognized.  The <a href="eval.txt.html#0o" class="d">0o</a> <a href="intro.txt.html#notation" class="d">notation</a> requires patch 8.2.0886.
If the <a href="eval.txt.html#String" class="d">String</a> doesn't start with digits, the result <a href="motion.txt.html#is" class="d">is</a> zero.
Examples:
<span class="h">	String "456"	--&gt;	Number 456 </span>
<span class="h">	String "6bar"	--&gt;	Number 6 </span>
<span class="h">	String "foo"	--&gt;	Number 0 </span>
<span class="h">	String "0xf1"	--&gt;	Number 241 </span>
<span class="h">	String "0100"	--&gt;	Number 64 </span>
<span class="h">	String "0o100"	--&gt;	Number 64 </span>
<span class="h">	String "0b101"	--&gt;	Number 5 </span>
<span class="h">	String "-8"	--&gt;	Number -8 </span>
<span class="h">	String "+8"	--&gt;	Number 0 </span>

To force conversion from <a href="eval.txt.html#String" class="d">String</a> to Number, add zero to it: 
<span class="e">	:echo "0100" + 0</span>
<span class="h">	64 </span>

To avoid <a href="insert.txt.html#a" class="d">a</a> leading zero to cause <a href="eval.txt.html#octal" class="d">octal</a> conversion, or for using <a href="insert.txt.html#a" class="d">a</a> different
base, use <a href="builtin.txt.html#str2nr%28%29" class="l">str2nr()</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="TRUE" class="t">TRUE</span> <span id="FALSE" class="t">FALSE</span> <span id="Boolean" class="t">Boolean</span>
For <a href="options.txt.html#boolean" class="d">boolean</a> operators Numbers are used.  Zero <a href="motion.txt.html#is" class="d">is</a> FALSE, non-zero <a href="motion.txt.html#is" class="d">is</a> TRUE.
You can also use <a href="eval.txt.html#v%3Afalse" class="l">v:false</a> and <a href="eval.txt.html#v%3Atrue" class="l">v:true</a><a href="motion.txt.html#%2C" class="d">,</a> in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="vim9.txt.html#false" class="l">false</a> and <a href="vim9.txt.html#true" class="l">true</a><a href="repeat.txt.html#." class="d">.</a>
When <a href="eval.txt.html#TRUE" class="d">TRUE</a> <a href="motion.txt.html#is" class="d">is</a> returned from <a href="insert.txt.html#a" class="d">a</a> function <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> the <a href="eval.txt.html#Number" class="d">Number</a> one, <a href="eval.txt.html#FALSE" class="d">FALSE</a> <a href="motion.txt.html#is" class="d">is</a> the
number zero.

<span class="n">Note</span> that in the command: 
<span class="e">	:if "foo"</span>
<span class="e">	:" NOT executed</span>
"foo" <a href="motion.txt.html#is" class="d">is</a> converted to 0, which means FALSE.  If the <a href="eval.txt.html#string" class="d">string</a> starts with <a href="insert.txt.html#a" class="d">a</a>
non-zero number <a href="motion.txt.html#it" class="d">it</a> means TRUE: 
<span class="e">	:if "8foo"</span>
<span class="e">	:" executed</span>
To test for <a href="insert.txt.html#a" class="d">a</a> non-empty string, use empty(): 
<span class="e">	:if !empty("foo")</span>
<span class="e"></span>
						<span id="falsy" class="t">falsy</span> <span id="truthy" class="t">truthy</span>
An <a href="eval.txt.html#expression" class="d">expression</a> can be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> condition, ignoring the type and only using
whether the value <a href="motion.txt.html#is" class="d">is</a> "sort of <a href="vim9.txt.html#true" class="d">true</a>" or "sort of <a href="vim9.txt.html#false" class="d">false</a>"<a href="repeat.txt.html#." class="d">.</a>  Falsy is:
	the number zero
	empty string, blob, <a href="eval.txt.html#list" class="d">list</a> or dictionary
Other values are truthy.  Examples:
	<a href="motion.txt.html#0" class="d">0</a>	<a href="eval.txt.html#falsy" class="d">falsy</a>
	1	<a href="eval.txt.html#truthy" class="d">truthy</a>
	-1	<a href="eval.txt.html#truthy" class="d">truthy</a>
	0.0	<a href="eval.txt.html#falsy" class="d">falsy</a>
	0.1	<a href="eval.txt.html#truthy" class="d">truthy</a>
	<a href="motion.txt.html#%27%27" class="d">''</a>	<a href="eval.txt.html#falsy" class="d">falsy</a>
	'x'	<a href="eval.txt.html#truthy" class="d">truthy</a>
	<a href="motion.txt.html#%5B%5D" class="d">[]</a>	<a href="eval.txt.html#falsy" class="d">falsy</a>
	[0]	<a href="eval.txt.html#truthy" class="d">truthy</a>
	<a href="intro.txt.html#%7B%7D" class="d">{}</a>	<a href="eval.txt.html#falsy" class="d">falsy</a>
	#{x: 1} <a href="eval.txt.html#truthy" class="d">truthy</a>
	0z	<a href="eval.txt.html#falsy" class="d">falsy</a>
	0z00	<a href="eval.txt.html#truthy" class="d">truthy</a>

							<span id="non-zero-arg" class="t">non-zero-arg</span>
Function arguments often behave slightly different from <a href="eval.txt.html#TRUE" class="l">TRUE</a><a href="cmdline.txt.html#%3A" class="d">:</a> If the
argument <a href="motion.txt.html#is" class="d">is</a> present and <a href="motion.txt.html#it" class="d">it</a> evaluates to <a href="insert.txt.html#a" class="d">a</a> non-zero Number, <a href="eval.txt.html#v%3Atrue" class="l">v:true</a> or <a href="insert.txt.html#a" class="d">a</a>
non-empty String, then the value <a href="motion.txt.html#is" class="d">is</a> considered to be TRUE.
<span class="n">Note</span> that " " and "<a href="motion.txt.html#0" class="d">0</a>" are also non-empty strings, thus considered to be TRUE.
<a href="insert.txt.html#A" class="d">A</a> List, <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> or <a href="eval.txt.html#Float" class="d">Float</a> <a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> or String, thus evaluate to FALSE.

		<span id="E611" class="t">E611</span> <span id="E745" class="t">E745</span> <span id="E728" class="t">E728</span> <span id="E703" class="t">E703</span> <span id="E729" class="t">E729</span> <span id="E730" class="t">E730</span> <span id="E731" class="t">E731</span> <span id="E908" class="t">E908</span> <span id="E910" class="t">E910</span>
		<span id="E913" class="t">E913</span> <span id="E974" class="t">E974</span> <span id="E975" class="t">E975</span> <span id="E976" class="t">E976</span> <span id="E1319" class="t">E1319</span> <span id="E1320" class="t">E1320</span> <span id="E1321" class="t">E1321</span> <span id="E1322" class="t">E1322</span>
		<span id="E1323" class="t">E1323</span> <span id="E1324" class="t">E1324</span> <span id="E1520" class="t">E1520</span> <span id="E1522" class="t">E1522</span>
<a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Job" class="l">Job</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Channel" class="l">Channel</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Blob" class="l">Blob</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="vim9class.txt.html#Class" class="l">Class</a>
and <a href="vim9class.txt.html#object" class="l">object</a> types are not automatically converted.

							<span id="E805" class="t">E805</span> <span id="E806" class="t">E806</span> <span id="E808" class="t">E808</span>
When mixing <a href="eval.txt.html#Number" class="d">Number</a> and <a href="eval.txt.html#Float" class="d">Float</a> the <a href="eval.txt.html#Number" class="d">Number</a> <a href="motion.txt.html#is" class="d">is</a> converted to Float.  Otherwise
there <a href="motion.txt.html#is" class="d">is</a> no automatic conversion of Float.  You can use <a href="builtin.txt.html#str2float%28%29" class="d">str2float()</a> for <a href="eval.txt.html#String" class="d">String</a>
to Float, <a href="builtin.txt.html#printf%28%29" class="d">printf()</a> for <a href="eval.txt.html#Float" class="d">Float</a> to <a href="eval.txt.html#String" class="d">String</a> and <a href="builtin.txt.html#float2nr%28%29" class="d">float2nr()</a> for <a href="eval.txt.html#Float" class="d">Float</a> to Number.

					<span id="E362" class="t">E362</span> <span id="E891" class="t">E891</span> <span id="E892" class="t">E892</span> <span id="E893" class="t">E893</span> <span id="E894" class="t">E894</span>
					<span id="E907" class="t">E907</span> <span id="E911" class="t">E911</span> <span id="E914" class="t">E914</span> <span id="E1521" class="t">E1521</span>
When expecting <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Float" class="d">Float</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> can also be used, but nothing else.

						<span id="no-type-checking" class="t">no-type-checking</span>
You will not get an error if you try to change the type of <a href="insert.txt.html#a" class="d">a</a> variable.


<span class="h">1.2 Function references </span>
					<span id="Funcref" class="t">Funcref</span> <span id="E695" class="t">E695</span> <span id="E718" class="t">E718</span> <span id="E1192" class="t">E1192</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> variable <a href="motion.txt.html#is" class="d">is</a> obtained with the <a href="builtin.txt.html#function%28%29" class="l">function()</a> function, the <a href="builtin.txt.html#funcref%28%29" class="l">funcref()</a>
function, (in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script) the name of <a href="insert.txt.html#a" class="d">a</a> function, or created with the
<a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a> <a href="eval.txt.html#expr-lambda" class="l">expr-lambda</a><a href="repeat.txt.html#." class="d">.</a>  It can be used in an <a href="eval.txt.html#expression" class="d">expression</a> in the place
of <a href="insert.txt.html#a" class="d">a</a> function name, before the parenthesis around the arguments, to invoke the
function <a href="motion.txt.html#it" class="d">it</a> refers to.  Example in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script: 
<span class="e"></span>
<span class="e">	:var Fn = MyFunc</span>
<span class="e">	:echo Fn()</span>
<span class="e"></span>
Legacy script: 
<span class="e">	:let Fn = function("MyFunc")</span>
<span class="e">	:echo Fn()</span>
							<span id="E704" class="t">E704</span> <span id="E705" class="t">E705</span> <span id="E707" class="t">E707</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> variable <a href="vim_faq.txt.html#must" class="d">must</a> start with <a href="insert.txt.html#a" class="d">a</a> capital, "s:"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#w%3A" class="d">w:</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#t%3A" class="d">t:</a>" or "<a href="eval.txt.html#b%3A" class="d">b:</a>"<a href="repeat.txt.html#." class="d">.</a>  You
can use "<a href="eval.txt.html#g%3A" class="d">g:</a>" but the following name <a href="vim_faq.txt.html#must" class="d">must</a> still start with <a href="insert.txt.html#a" class="d">a</a> capital.  You
cannot have both <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> variable and <a href="insert.txt.html#a" class="d">a</a> function with the same name.

<a href="insert.txt.html#A" class="d">A</a> special <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> defining <a href="insert.txt.html#a" class="d">a</a> function and directly assigning its <a href="eval.txt.html#Funcref" class="d">Funcref</a> to <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#Dictionary" class="d">Dictionary</a> entry.  Example: 
<span class="e">	:function dict.init() dict</span>
<span class="e">	:   let self.val = 0</span>
<span class="e">	:endfunction</span>
<span class="e"></span>
The key of the <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> can start with <a href="insert.txt.html#a" class="d">a</a> lower <a href="change.txt.html#case" class="d">case</a> letter.  The actual
function name <a href="motion.txt.html#is" class="d">is</a> not used here.  Also see <a href="eval.txt.html#numbered-function" class="l">numbered-function</a><a href="repeat.txt.html#." class="d">.</a>

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> can also be used with the <a href="userfunc.txt.html#%3Acall" class="l">:call</a> command: 
<span class="e">	:call Fn()</span>
<span class="e">	:call dict.init()</span>
<span class="e"></span>
The name of the referenced function can be obtained with <a href="builtin.txt.html#string%28%29" class="l">string()</a><a href="repeat.txt.html#." class="d">.</a> 
<span class="e">	:let func = string(Fn)</span>
<span class="e"></span>
You can use <a href="builtin.txt.html#call%28%29" class="l">call()</a> to invoke <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> and use <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> variable for the
arguments: 
<span class="e">	:let r = call(Fn, mylist)</span>

								<span id="Partial" class="t">Partial</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Funcref" class="d">Funcref</a> optionally binds <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> and/or arguments.  This <a href="motion.txt.html#is" class="d">is</a> also called
<a href="insert.txt.html#a" class="d">a</a> Partial.  This <a href="motion.txt.html#is" class="d">is</a> created by passing the <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> and/or arguments to
<a href="builtin.txt.html#function%28%29" class="d">function()</a> or funcref().  When calling the function the <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> and/or
arguments will be passed to the function.  Example: 
<span class="e"></span>
<span class="e">	let Cb = function('Callback', ['foo'], myDict)</span>
<span class="e">	call Cb('bar')</span>
<span class="e"></span>
This will invoke the function <a href="motion.txt.html#as" class="d">as</a> if using: 
<span class="e">	call myDict.Callback('foo', 'bar')</span>
<span class="e"></span>
This <a href="motion.txt.html#is" class="d">is</a> very useful when passing <a href="insert.txt.html#a" class="d">a</a> function around, e.g. in the arguments of
<a href="channel.txt.html#ch_open%28%29" class="l">ch_open()</a><a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note</span> that binding <a href="insert.txt.html#a" class="d">a</a> function to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> also happens when the function <a href="motion.txt.html#is" class="d">is</a>
<a href="insert.txt.html#a" class="d">a</a> member of the Dictionary: 
<span class="e"></span>
<span class="e">	let myDict.myFunction = MyFunction</span>
<span class="e">	call myDict.myFunction()</span>
<span class="e"></span>
Here MyFunction() will get myDict passed <a href="motion.txt.html#as" class="d">as</a> "<a href="eval.txt.html#self" class="d">self</a>"<a href="repeat.txt.html#." class="d">.</a>  This happens when the
"myFunction" member <a href="motion.txt.html#is" class="d">is</a> accessed.  When making assigning "myFunction" to
otherDict and calling it, <a href="motion.txt.html#it" class="d">it</a> will be bound to otherDict: 
<span class="e"></span>
<span class="e">	let otherDict.myFunction = myDict.myFunction</span>
<span class="e">	call otherDict.myFunction()</span>
<span class="e"></span>
Now "<a href="eval.txt.html#self" class="d">self</a>" will be "otherDict"<a href="repeat.txt.html#." class="d">.</a>  But when the dictionary was bound explicitly
this won't happen: 
<span class="e"></span>
<span class="e">	let myDict.myFunction = function(MyFunction, myDict)</span>
<span class="e">	let otherDict.myFunction = myDict.myFunction</span>
<span class="e">	call otherDict.myFunction()</span>
<span class="e"></span>
Here "<a href="eval.txt.html#self" class="d">self</a>" will be "myDict"<a href="motion.txt.html#%2C" class="d">,</a> because <a href="motion.txt.html#it" class="d">it</a> was bound explicitly.


<span class="h">1.3 Lists </span>
						<span id="list" class="t">list</span> <span id="List" class="t">List</span> <span id="Lists" class="t">Lists</span> <span id="E686" class="t">E686</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#List" class="d">List</a> <a href="motion.txt.html#is" class="d">is</a> an ordered sequence of items.  An item can be of any type.  Items
can be accessed by their <a href="index.txt.html#index" class="d">index</a> number.  Items can be added and removed <a href="motion.txt.html#at" class="d">at</a> any
position in the sequence.


<span class="h">List creation </span>
							<span id="E696" class="t">E696</span> <span id="E697" class="t">E697</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#List" class="d">List</a> <a href="motion.txt.html#is" class="d">is</a> created with <a href="insert.txt.html#a" class="d">a</a> comma-separated sequence of items in square brackets.
Examples: 
<span class="e">	:let mylist = [1, "two", 3, "four"]</span>
<span class="e">	:let emptylist = []</span>
<span class="e"></span>
An item can be any expression.  Using <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> for an item creates <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#List" class="d">List</a> of Lists: 
<span class="e">	:let nestlist = [[11, 12], [21, 22], [31, 32]]</span>
<span class="e"></span>
An extra comma after the last item <a href="motion.txt.html#is" class="d">is</a> ignored.


<span class="h">List index </span>
							<span id="list-index" class="t">list-index</span> <span id="E684" class="t">E684</span>
An item in the <a href="eval.txt.html#List" class="d">List</a> can be accessed by putting the <a href="index.txt.html#index" class="d">index</a> in square brackets
after the List.  Indexes are zero-based, thus the first item has <a href="index.txt.html#index" class="d">index</a> zero. 
<span class="e">	:let item = mylist[0]		" get the first item: 1</span>
<span class="e">	:let item = mylist[2]		" get the third item: 3</span>
<span class="e"></span>
When the resulting item <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> this can be repeated: 
<span class="e">	:let item = nestlist[0][1]	" get the first list, second item: 12</span>

<a href="insert.txt.html#A" class="d">A</a> negative <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> counted from the end.  Index -1 refers to the last item in
the List, -2 to the last but one item, etc. 
<span class="e">	:let last = mylist[-1]		" get the last item: "four"</span>
<span class="e"></span>
To avoid an error for an invalid <a href="index.txt.html#index" class="d">index</a> use the <a href="builtin.txt.html#get%28%29" class="l">get()</a> function.  When an item
<a href="motion.txt.html#is" class="d">is</a> not available <a href="motion.txt.html#it" class="d">it</a> returns zero or the default value you specify: 
<span class="e">	:echo get(mylist, idx)</span>
<span class="e">	:echo get(mylist, idx, "NONE")</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">List concatenation </span>
							<span id="list-concatenation" class="t">list-concatenation</span>
Two lists can be concatenated with the "<a href="motion.txt.html#%2B" class="d">+</a>" operator: 
<span class="e">	:let longlist = mylist + [5, 6]</span>
<span class="e">	:let longlist = [5, 6] + mylist</span>
To prepend or append an item, turn <a href="motion.txt.html#it" class="d">it</a> into <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> by putting <a href="motion.txt.html#%5B%5D" class="d">[]</a> around it.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#list" class="d">list</a> can be concatenated with another one in-place using <a href="eval.txt.html#%3Alet%2B%3D" class="l">:let+=</a> or
<a href="builtin.txt.html#extend%28%29" class="l">extend()</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:let mylist += [7, 8]</span>
<span class="e">	:call extend(mylist, [7, 8])</span>

See <a href="eval.txt.html#list-modification" class="l">list-modification</a> below for more about <a href="change.txt.html#changing" class="d">changing</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> in-place.


<span class="h">Sublist </span>
							<span id="sublist" class="t">sublist</span>
<a href="insert.txt.html#A" class="d">A</a> part of the <a href="eval.txt.html#List" class="d">List</a> can be obtained by specifying the first and last index,
separated by <a href="insert.txt.html#a" class="d">a</a> colon in square brackets: 
<span class="e">	:let shortlist = mylist[2:-1]	" get List [3, "four"]</span>
<span class="e"></span>
Omitting the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> similar to zero.  Omitting the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
similar to -1. 
<span class="e">	:let endlist = mylist[2:]	" from item 2 to the end: [3, "four"]</span>
<span class="e">	:let shortlist = mylist[2:2]	" List with one item: [3]</span>
<span class="e">	:let otherlist = mylist[:]	" make a copy of the List</span>
<span class="e"></span>
Notice that the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> inclusive.  If you prefer using an <a href="motion.txt.html#exclusive" class="d">exclusive</a>
<a href="index.txt.html#index" class="d">index</a> use the <a href="builtin.txt.html#slice%28%29" class="l">slice()</a> function.

If the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> beyond the last item of the <a href="eval.txt.html#List" class="d">List</a> or the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
before the first item, the result <a href="motion.txt.html#is" class="d">is</a> an empty list.  There <a href="motion.txt.html#is" class="d">is</a> no error
message.

If the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> equal to or greater than the length of the <a href="eval.txt.html#list" class="d">list</a> the
length minus one <a href="motion.txt.html#is" class="d">is</a> used: 
<span class="e">	:let mylist = [0, 1, 2, 3]</span>
<span class="e">	:echo mylist[2:8]		" result: [2, 3]</span>
<span class="e"></span>
<span class="n">NOTE:</span> mylist[s:e] means using the variable "s:e" <a href="motion.txt.html#as" class="d">as</a> index.  Watch out for
using <a href="insert.txt.html#a" class="d">a</a> single <a href="print.txt.html#letter" class="d">letter</a> variable before the "<a href="cmdline.txt.html#%3A" class="d">:</a>"<a href="repeat.txt.html#." class="d">.</a>  <a href="insert.txt.html#Insert" class="d">Insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> when needed:
mylist[s <a href="cmdline.txt.html#%3A" class="d">:</a> e].


<span class="h">List identity </span>
							<span id="list-identity" class="t">list-identity</span>
When variable "aa" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> and you assign <a href="motion.txt.html#it" class="d">it</a> to another variable "bb"<a href="motion.txt.html#%2C" class="d">,</a> both
<a href="eval.txt.html#variables" class="d">variables</a> refer to the same list.  Thus <a href="change.txt.html#changing" class="d">changing</a> the <a href="eval.txt.html#list" class="d">list</a> "aa" will also
change "bb"<a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:let aa = [1, 2, 3]</span>
<span class="e">	:let bb = aa</span>
<span class="e">	:call add(aa, 4)</span>
<span class="e">	:echo bb</span>
	[1, 2, 3, 4]

Making <a href="insert.txt.html#a" class="d">a</a> copy of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> <a href="motion.txt.html#is" class="d">is</a> done with the <a href="builtin.txt.html#copy%28%29" class="l">copy()</a> function.  Using [:] also
works, <a href="motion.txt.html#as" class="d">as</a> explained above.  This creates <a href="insert.txt.html#a" class="d">a</a> shallow copy of the list: Changing
<a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> item in the <a href="eval.txt.html#list" class="d">list</a> will also change the item in the copied list: 
<span class="e">	:let aa = [[1, 'a'], 2, 3]</span>
<span class="e">	:let bb = copy(aa)</span>
<span class="e">	:call add(aa, 4)</span>
<span class="e">	:let aa[0][1] = 'aaa'</span>
<span class="e">	:echo aa</span>
	[[1, aaa], 2, 3, 4] 
<span class="e">	:echo bb</span>
	[[1, aaa], 2, 3]

To make <a href="insert.txt.html#a" class="d">a</a> completely independent <a href="eval.txt.html#list" class="d">list</a> use <a href="builtin.txt.html#deepcopy%28%29" class="l">deepcopy()</a><a href="repeat.txt.html#." class="d">.</a>  This also makes <a href="insert.txt.html#a" class="d">a</a>
copy of the values in the list, recursively.  Up to <a href="insert.txt.html#a" class="d">a</a> hundred levels deep.

The <a href="motion.txt.html#operator" class="d">operator</a> "<a href="motion.txt.html#is" class="d">is</a>" can be used to check if two <a href="eval.txt.html#variables" class="d">variables</a> refer to the same
List.  "isnot" does the opposite.  In contrast "<a href="change.txt.html#%3D%3D" class="d">==</a>" compares if two lists have
the same value. 
<span class="e">	:let alist = [1, 2, 3]</span>
<span class="e">	:let blist = [1, 2, 3]</span>
<span class="e">	:echo alist is blist</span>
	<a href="motion.txt.html#0" class="d">0</a> 
<span class="e">	:echo alist == blist</span>
	1

<span class="n">Note</span> about comparing lists: Two lists are considered equal if they have the
same length and all items compare equal, <a href="motion.txt.html#as" class="d">as</a> with using "<a href="change.txt.html#%3D%3D" class="d">==</a>"<a href="repeat.txt.html#." class="d">.</a>  There <a href="motion.txt.html#is" class="d">is</a> one
exception: When comparing <a href="insert.txt.html#a" class="d">a</a> number with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> they are considered
different.  There <a href="motion.txt.html#is" class="d">is</a> no automatic type conversion, <a href="motion.txt.html#as" class="d">as</a> with using "<a href="change.txt.html#%3D%3D" class="d">==</a>" on
variables.  Example: 
<span class="e">	echo 4 == "4"</span>
	1 
<span class="e">	echo [4] == ["4"]</span>
	<a href="motion.txt.html#0" class="d">0</a>

Thus comparing <a href="eval.txt.html#Lists" class="d">Lists</a> <a href="motion.txt.html#is" class="d">is</a> more strict than comparing numbers and strings.  You
can compare simple values this way too by putting them in <a href="insert.txt.html#a" class="d">a</a> list: 
<span class="e"></span>
<span class="e">	:let a = 5</span>
<span class="e">	:let b = "5"</span>
<span class="e">	:echo a == b</span>
	1 
<span class="e">	:echo [a] == [b]</span>
	<a href="motion.txt.html#0" class="d">0</a>


<span class="h">List unpack </span>

To unpack the items in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> to individual variables, <a href="change.txt.html#put" class="d">put</a> the <a href="eval.txt.html#variables" class="d">variables</a> in
square brackets, like <a href="eval.txt.html#list" class="d">list</a> items: 
<span class="e">	:let [var1, var2] = mylist</span>
<span class="e"></span>
When the number of <a href="eval.txt.html#variables" class="d">variables</a> does not match the number of items in the <a href="eval.txt.html#list" class="d">list</a>
this produces an error.  To handle any extra items from the <a href="eval.txt.html#list" class="d">list</a> append "<a href="motion.txt.html#%3B" class="d">;</a>"
and <a href="insert.txt.html#a" class="d">a</a> variable name: 
<span class="e">	:let [var1, var2; rest] = mylist</span>
<span class="e"></span>
This works like: 
<span class="e">	:let var1 = mylist[0]</span>
<span class="e">	:let var2 = mylist[1]</span>
<span class="e">	:let rest = mylist[2:]</span>
<span class="e"></span>
Except that there <a href="motion.txt.html#is" class="d">is</a> no error if there are only two items.  "rest" will be an
empty <a href="eval.txt.html#list" class="d">list</a> then.


<span class="h">List modification </span>
							<span id="list-modification" class="t">list-modification</span>
To change <a href="insert.txt.html#a" class="d">a</a> specific item of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> use <a href="eval.txt.html#%3Alet" class="l">:let</a> this way: 
<span class="e">	:let list[4] = "four"</span>
<span class="e">	:let listlist[0][3] = item</span>
<span class="e"></span>
To change part of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> you can specify the first and last item to be
modified.  The value <a href="vim_faq.txt.html#must" class="d">must</a> <a href="motion.txt.html#at" class="d">at</a> least have the number of items in the range: 
<span class="e">	:let list[3:5] = [3, 4, 5]</span>
<span class="e"></span>
To add items to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> in-place, you can use <a href="eval.txt.html#%3Alet%2B%3D" class="l">:let+=</a> <a href="motion.txt.html#%28" class="d">(</a><a href="eval.txt.html#list-concatenation" class="l">list-concatenation</a>): 
<span class="e">	:let listA = [1, 2]</span>
<span class="e">	:let listA += [3, 4]</span>

When two <a href="eval.txt.html#variables" class="d">variables</a> refer to the same List, <a href="change.txt.html#changing" class="d">changing</a> one <a href="eval.txt.html#List" class="d">List</a> in-place will
cause the referenced <a href="eval.txt.html#List" class="d">List</a> to be changed in-place: 
<span class="e">	:let listA = [1, 2]</span>
<span class="e">	:let listB = listA</span>
<span class="e">	:let listB += [3, 4]</span>
<span class="e">	:echo listA</span>
<span class="e">	[1, 2, 3, 4]</span>

Adding and removing items from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> <a href="motion.txt.html#is" class="d">is</a> done with functions.  Here are <a href="insert.txt.html#a" class="d">a</a> few
examples: 
<span class="e">	:call insert(list, 'a')		" prepend item 'a'</span>
<span class="e">	:call insert(list, 'a', 3)	" insert item 'a' before list[3]</span>
<span class="e">	:call add(list, "new")		" append String item</span>
<span class="e">	:call add(list, [1, 2])		" append a List as one new item</span>
<span class="e">	:call extend(list, [1, 2])	" extend the list with two more items</span>
<span class="e">	:let i = remove(list, 3)	" remove item 3</span>
<span class="e">	:unlet list[3]			" idem</span>
<span class="e">	:let l = remove(list, 3, -1)	" remove items 3 to last item</span>
<span class="e">	:unlet list[3 : ]		" idem</span>
<span class="e">	:call filter(list, 'v:val !~ "x"')  " remove items with an 'x'</span>
<span class="e"></span>
Changing the order of items in <a href="insert.txt.html#a" class="d">a</a> list: 
<span class="e">	:call sort(list)		" sort a list alphabetically</span>
<span class="e">	:call reverse(list)		" reverse the order of items</span>
<span class="e">	:call uniq(sort(list))		" sort and remove duplicates</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">For loop </span>

The <a href="eval.txt.html#%3Afor" class="l">:for</a> loop executes commands for each item in <a href="insert.txt.html#a" class="d">a</a> List, Tuple, <a href="eval.txt.html#String" class="d">String</a> or
Blob.  <a href="insert.txt.html#A" class="d">A</a> variable <a href="motion.txt.html#is" class="d">is</a> set to each item in sequence.  Example with <a href="insert.txt.html#a" class="d">a</a> List: 
<span class="e">	:for item in mylist</span>
<span class="e">	:   call Doit(item)</span>
<span class="e">	:endfor</span>
<span class="e"></span>
This works like: 
<span class="e">	:let index = 0</span>
<span class="e">	:while index &lt; len(mylist)</span>
<span class="e">	:   let item = mylist[index]</span>
<span class="e">	:   :call Doit(item)</span>
<span class="e">	:   let index = index + 1</span>
<span class="e">	:endwhile</span>
<span class="e"></span>
If all you want to <a href="diff.txt.html#do" class="d">do</a> <a href="motion.txt.html#is" class="d">is</a> modify each item in the <a href="eval.txt.html#list" class="d">list</a> then the <a href="builtin.txt.html#map%28%29" class="l">map()</a>
function will be <a href="insert.txt.html#a" class="d">a</a> simpler <a href="eval.txt.html#method" class="d">method</a> than <a href="insert.txt.html#a" class="d">a</a> for loop.

Just like the <a href="eval.txt.html#%3Alet" class="l">:let</a> command, <a href="eval.txt.html#%3Afor" class="l">:for</a> also accepts <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> of variables.  This
requires the argument to be <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> of Lists. 
<span class="e">	:for [lnum, col] in [[1, 3], [2, 8], [3, 0]]</span>
<span class="e">	:   call Doit(lnum, col)</span>
<span class="e">	:endfor</span>
<span class="e"></span>
This works like <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#%3Alet" class="l">:let</a> command <a href="motion.txt.html#is" class="d">is</a> done for each <a href="eval.txt.html#list" class="d">list</a> item.  Again, the types
<a href="vim_faq.txt.html#must" class="d">must</a> remain the same to avoid an error.

It <a href="motion.txt.html#is" class="d">is</a> also possible to <a href="change.txt.html#put" class="d">put</a> remaining items in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> variable: 
<span class="e">	:for [i, j; rest] in listlist</span>
<span class="e">	:   call Doit(i, j)</span>
<span class="e">	:   if !empty(rest)</span>
<span class="e">	:      echo "remainder: " .. string(rest)</span>
<span class="e">	:   endif</span>
<span class="e">	:endfor</span>
<span class="e"></span>
For <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> one <a href="eval.txt.html#tuple" class="d">tuple</a> item <a href="motion.txt.html#at" class="d">at</a> <a href="insert.txt.html#a" class="d">a</a> time <a href="motion.txt.html#is" class="d">is</a> used.

For <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="d">Blob</a> one byte <a href="motion.txt.html#at" class="d">at</a> <a href="insert.txt.html#a" class="d">a</a> time <a href="motion.txt.html#is" class="d">is</a> used.

For <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> one character, including any composing characters, <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a>
String.  Example: 
<span class="e">	for c in text</span>
<span class="e">	  echo 'This character is ' .. c</span>
<span class="e">	endfor</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">List functions </span>
						<span id="E714" class="t">E714</span>
Functions that are useful with <a href="insert.txt.html#a" class="d">a</a> List: 
<span class="e">	:let r = call(funcname, list)	" call a function with an argument list</span>
<span class="e">	:if empty(list)			" check if list is empty</span>
<span class="e">	:let l = len(list)		" number of items in list</span>
<span class="e">	:let big = max(list)		" maximum value in list</span>
<span class="e">	:let small = min(list)		" minimum value in list</span>
<span class="e">	:let xs = count(list, 'x')	" count nr of times 'x' appears in list</span>
<span class="e">	:let i = index(list, 'x')	" index of first 'x' in list</span>
<span class="e">	:let lines = getline(1, 10)	" get ten text lines from buffer</span>
<span class="e">	:call append('$', lines)	" append text lines in buffer</span>
<span class="e">	:let list = split("a b c")	" create list from items in a string</span>
<span class="e">	:let string = join(list, ', ')	" create string from list items</span>
<span class="e">	:let s = string(list)		" String representation of list</span>
<span class="e">	:call map(list, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item</span>
<span class="e"></span>
Don't forget that <a href="insert.txt.html#a" class="d">a</a> combination of features can make things simple.  For
example, to add up all the numbers in <a href="insert.txt.html#a" class="d">a</a> list: 
<span class="e">	:exe 'let sum = ' .. join(nrlist, '+')</span>
<span class="e"></span>
<span class="h">1.4 Tuples </span>
						<span id="tuple" class="t">tuple</span> <span id="Tuple" class="t">Tuple</span> <span id="Tuples" class="t">Tuples</span>
						<span id="E1532" class="t">E1532</span> <span id="E1533" class="t">E1533</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> <a href="motion.txt.html#is" class="d">is</a> an ordered sequence of items.  An item can be of any type.  Items
can be accessed by their <a href="index.txt.html#index" class="d">index</a> number.  <a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> <a href="motion.txt.html#is" class="d">is</a> immutable.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> <a href="motion.txt.html#is" class="d">is</a> similar to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> but uses <a href="various.txt.html#less" class="d">less</a> memory and provides O(1) lookup
time for an item.

<span class="h">Tuple creation </span>
						<span id="E1526" class="t">E1526</span> <span id="E1527" class="t">E1527</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> <a href="motion.txt.html#is" class="d">is</a> created with <a href="insert.txt.html#a" class="d">a</a> comma-separated sequence of items in parentheses.
Examples: 
<span class="e">	:let mytuple = (1, "two", 3, "four")</span>
<span class="e">	:let tuple = (5,)</span>
<span class="e">	:let emptytuple = ()</span>
<span class="e"></span>
An item can be any expression.  If there <a href="motion.txt.html#is" class="d">is</a> only one item in the tuple, then
the item <a href="vim_faq.txt.html#must" class="d">must</a> be followed by <a href="insert.txt.html#a" class="d">a</a> comma.

Using <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> for an item creates <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="d">Tuple</a> of Tuples: 
<span class="e">	:let nesttuple = ((11, 12), (21, 22), (31, 32))</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Tuple index </span>
							<span id="tuple-index" class="t">tuple-index</span> <span id="E1519" class="t">E1519</span>
An item in the <a href="eval.txt.html#Tuple" class="d">Tuple</a> can be accessed by putting the <a href="index.txt.html#index" class="d">index</a> in square brackets
after the Tuple.  Indexes are zero-based, thus the first item has <a href="index.txt.html#index" class="d">index</a> zero.

<span class="e">	:let item = mytuple[0]		" get the first item: 1</span>
<span class="e">	:let item = mytuple[2]		" get the third item: 3</span>
<span class="e"></span>
When the resulting item <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> this can be repeated: 
<span class="e">	:let item = nesttuple[0][1]	" get the first tuple, second item: 12</span>

<a href="insert.txt.html#A" class="d">A</a> negative <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> counted from the end.  Index -1 refers to the last item in
the Tuple, -2 to the last but one item, etc. 
<span class="e">	:let last = mytuple[-1]		" get the last item: "four"</span>
<span class="e"></span>
To avoid an error for an invalid <a href="index.txt.html#index" class="d">index</a> use the <a href="builtin.txt.html#get%28%29" class="l">get()</a> function.  When an item
<a href="motion.txt.html#is" class="d">is</a> not available <a href="motion.txt.html#it" class="d">it</a> returns zero or the default value you specify: 
<span class="e">	:echo get(mytuple, idx)</span>
<span class="e">	:echo get(mytuple, idx, "NONE")</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Tuple modification </span>
							<span id="tuple-modification" class="t">tuple-modification</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#tuple" class="d">tuple</a> <a href="motion.txt.html#is" class="d">is</a> immutable and items cannot be added or removed from <a href="insert.txt.html#a" class="d">a</a> tuple.  But
<a href="eval.txt.html#List" class="d">List</a> and <a href="eval.txt.html#Dict" class="d">Dict</a> items within <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> can be modified: 
<span class="e">	:let tuple = (1, [2, 3], {'a': 4})</span>
<span class="e">	:let tuple[1][0] = 10</span>
<span class="e">	:let tuple[2]['a'] = 20</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Tuple concatenation </span>
							<span id="tuple-concatenation" class="t">tuple-concatenation</span>
Two tuples can be concatenated with the "<a href="motion.txt.html#%2B" class="d">+</a>" operator: 
<span class="e">	:let longtuple = mytuple + (5, 6)</span>
<span class="e">	:let longtuple = (5, 6) + mytuple</span>
To prepend or append an item, turn <a href="motion.txt.html#it" class="d">it</a> into <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> by putting () around it.
The item <a href="vim_faq.txt.html#must" class="d">must</a> be followed by <a href="insert.txt.html#a" class="d">a</a> comma.

							<span id="E1540" class="t">E1540</span>
Two variadic tuples with same item type can be concatenated but with different
item types cannot be concatenated.  Examples: 
<span class="e">    var a: tuple&lt;...list&lt;number&gt;&gt; = (1, 2)</span>
<span class="e">    var b: tuple&lt;...list&lt;string&gt;&gt; = ('a', 'b')</span>
<span class="e">    echo a + b		# not allowed</span>
<span class="e"></span>
<span class="e">    var a: tuple&lt;number, number&gt; = (1, 2)</span>
<span class="e">    var b: tuple&lt;...list&lt;string&gt;&gt; = ('a', 'b')</span>
<span class="e">    echo a + b		# allowed</span>
<span class="e"></span>
<span class="e">    var a: tuple&lt;...list&lt;number&gt;&gt; = (1, 2)</span>
<span class="e">    var b: tuple&lt;number, number&gt; = (3, 4)</span>
<span class="e">    echo a + b		# not allowed</span>
<span class="e"></span>
<span class="e">    var a: tuple&lt;...list&lt;number&gt;&gt; = (1, 2)</span>
<span class="e">    var b: tuple&lt;number, ...list&lt;number&gt;&gt; = (3, 4)</span>
<span class="e">    echo a + b		# not allowed</span>

<span class="n">Note</span> that <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> <a href="motion.txt.html#is" class="d">is</a> immutable and items cannot be added or removed from <a href="insert.txt.html#a" class="d">a</a>
tuple.


<span class="h">Subtuple </span>
							<span id="subtuple" class="t">subtuple</span>
<a href="insert.txt.html#A" class="d">A</a> part of the <a href="eval.txt.html#Tuple" class="d">Tuple</a> can be obtained by specifying the first and last index,
separated by <a href="insert.txt.html#a" class="d">a</a> colon in square brackets: 
<span class="e">	:let shorttuple = mytuple[2:-1]	" get Tuple (3, "four")</span>
<span class="e"></span>
Omitting the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> similar to zero.  Omitting the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
similar to -1. 
<span class="e">	:let endtuple = mytuple[2:]	" from item 2 to the end: (3, "four")</span>
<span class="e">	:let shorttuple = mytuple[2:2]	" Tuple with one item: (3,)</span>
<span class="e">	:let othertuple = mytuple[:]	" make a copy of the Tuple</span>
<span class="e"></span>
Notice that the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> inclusive.  If you prefer using an <a href="motion.txt.html#exclusive" class="d">exclusive</a>
index, use the <a href="builtin.txt.html#slice%28%29" class="l">slice()</a> function.

If the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> beyond the last item of the <a href="eval.txt.html#Tuple" class="d">Tuple</a> or the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
before the first item, the result <a href="motion.txt.html#is" class="d">is</a> an empty tuple.  There <a href="motion.txt.html#is" class="d">is</a> no error
message.

If the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> equal to or greater than the length of the tuple, the
length minus one <a href="motion.txt.html#is" class="d">is</a> used: 
<span class="e">	:let mytuple = (0, 1, 2, 3)</span>
<span class="e">	:echo mytuple[2:8]		" result: (2, 3)</span>
<span class="e"></span>
<span class="n">NOTE:</span> mytuple[s:e] means using the variable "s:e" <a href="motion.txt.html#as" class="d">as</a> index.  Watch out for
using <a href="insert.txt.html#a" class="d">a</a> single <a href="print.txt.html#letter" class="d">letter</a> variable before the "<a href="cmdline.txt.html#%3A" class="d">:</a>"<a href="repeat.txt.html#." class="d">.</a>  <a href="insert.txt.html#Insert" class="d">Insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> when needed:
mytuple[s <a href="cmdline.txt.html#%3A" class="d">:</a> e].


<span class="h">Tuple identity </span>
							<span id="tuple-identity" class="t">tuple-identity</span>
When variable "aa" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> and you assign <a href="motion.txt.html#it" class="d">it</a> to another variable "bb"<a href="motion.txt.html#%2C" class="d">,</a> both
<a href="eval.txt.html#variables" class="d">variables</a> refer to the same tuple: 
<span class="e">	:let aa = (1, 2, 3)</span>
<span class="e">	:let bb = aa</span>


Making <a href="insert.txt.html#a" class="d">a</a> copy of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> <a href="motion.txt.html#is" class="d">is</a> done with the <a href="builtin.txt.html#copy%28%29" class="l">copy()</a> function.  Using [:] also
works, <a href="motion.txt.html#as" class="d">as</a> explained above.  This creates <a href="insert.txt.html#a" class="d">a</a> shallow copy of the tuple: For
example, <a href="change.txt.html#changing" class="d">changing</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> item in the <a href="eval.txt.html#tuple" class="d">tuple</a> will also change the item in the
copied tuple: 
<span class="e">	:let aa = ([1, 'a'], 2, 3)</span>
<span class="e">	:let bb = copy(aa)</span>
<span class="e">	:let aa[0][1] = 'aaa'</span>
<span class="e">	:echo aa</span>
	([1, aaa], 2, 3) 
<span class="e">	:echo bb</span>
	([1, aaa], 2, 3)

To make <a href="insert.txt.html#a" class="d">a</a> completely independent tuple, use <a href="builtin.txt.html#deepcopy%28%29" class="l">deepcopy()</a><a href="repeat.txt.html#." class="d">.</a>  This also makes <a href="insert.txt.html#a" class="d">a</a>
copy of the values in the tuple, recursively.  Up to <a href="insert.txt.html#a" class="d">a</a> hundred levels deep.

The <a href="motion.txt.html#operator" class="d">operator</a> "<a href="motion.txt.html#is" class="d">is</a>" can be used to check if two <a href="eval.txt.html#variables" class="d">variables</a> refer to the same
Tuple.  "isnot" does the opposite.  In contrast, "<a href="change.txt.html#%3D%3D" class="d">==</a>" compares if two tuples
have the same value. 
<span class="e">	:let atuple = (1, 2, 3)</span>
<span class="e">	:let btuple = (1, 2, 3)</span>
<span class="e">	:echo atuple is btuple</span>
	<a href="motion.txt.html#0" class="d">0</a> 
<span class="e">	:echo atuple == btuple</span>
	1

<span class="n">Note</span> about comparing tuples: Two tuples are considered equal if they have the
same length and all items compare equal, <a href="motion.txt.html#as" class="d">as</a> with using "<a href="change.txt.html#%3D%3D" class="d">==</a>"<a href="repeat.txt.html#." class="d">.</a>  There <a href="motion.txt.html#is" class="d">is</a> one
exception: When comparing <a href="insert.txt.html#a" class="d">a</a> number with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> they are considered
different.  There <a href="motion.txt.html#is" class="d">is</a> no automatic type conversion, <a href="motion.txt.html#as" class="d">as</a> with using "<a href="change.txt.html#%3D%3D" class="d">==</a>" on
variables.  Example: 
<span class="e">	echo 4 == "4"</span>
	1 
<span class="e">	echo (4,) == ("4",)</span>
	<a href="motion.txt.html#0" class="d">0</a>

Thus comparing <a href="eval.txt.html#Tuples" class="d">Tuples</a> <a href="motion.txt.html#is" class="d">is</a> more strict than comparing numbers and strings.  You
can compare simple values this way too by putting them in <a href="insert.txt.html#a" class="d">a</a> tuple: 
<span class="e"></span>
<span class="e">	:let a = 5</span>
<span class="e">	:let b = "5"</span>
<span class="e">	:echo a == b</span>
	1 
<span class="e">	:echo (a,) == (b,)</span>
	<a href="motion.txt.html#0" class="d">0</a>


<span class="h">Tuple unpack </span>

To unpack the items in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#tuple" class="d">tuple</a> to individual variables, <a href="change.txt.html#put" class="d">put</a> the <a href="eval.txt.html#variables" class="d">variables</a> in
square brackets, like <a href="eval.txt.html#list" class="d">list</a> items: 
<span class="e">	:let [var1, var2] = mytuple</span>
<span class="e"></span>
When the number of <a href="eval.txt.html#variables" class="d">variables</a> does not match the number of items in the <a href="eval.txt.html#tuple" class="d">tuple</a>
this produces an error.  To handle any extra items from the tuple, append "<a href="motion.txt.html#%3B" class="d">;</a>"
and <a href="insert.txt.html#a" class="d">a</a> variable name (which will then be of type tuple): 
<span class="e">	:let [var1, var2; rest] = mytuple</span>
<span class="e"></span>
This works like: 
<span class="e">	:let var1 = mytuple[0]</span>
<span class="e">	:let var2 = mytuple[1]</span>
<span class="e">	:let rest = mytuple[2:]</span>
<span class="e"></span>
Except that there <a href="motion.txt.html#is" class="d">is</a> no error if there are only two items.  "rest" will be an
empty <a href="eval.txt.html#tuple" class="d">tuple</a> then.


<span class="h">Tuple functions </span>
						<span id="E1536" class="t">E1536</span>
Functions that are useful with <a href="insert.txt.html#a" class="d">a</a> Tuple: 
<span class="e">	:let xs = count(tuple, 'x')	" count number of 'x's in tuple</span>
<span class="e">	:if empty(tuple)		" check if tuple is empty</span>
<span class="e">	:let i = index(tuple, 'x')	" index of first 'x' in tuple</span>
<span class="e">	:let l = items(tuple)		" list of items in a tuple</span>
<span class="e">	:let string = join(tuple, ', ')	" create string from tuple items</span>
<span class="e">	:let l = len(tuple)		" number of items in tuple</span>
<span class="e">	:let big = max(tuple)		" maximum value in tuple</span>
<span class="e">	:let small = min(tuple)		" minimum value in tuple</span>
<span class="e">	:let r = repeat(tuple, n)	" repeat a tuple n times</span>
<span class="e">	:let r = reverse(tuple)		" reverse a tuple</span>
<span class="e">	:let s = slice(tuple, n1, n2)	" slice a tuple</span>
<span class="e">	:let s = string(tuple)		" String representation of tuple</span>
<span class="e">	:let l = tuple2list(tuple)	" convert a tuple to list</span>
<span class="e">	:let t = list2tuple(list)	" convert a list to tuple</span>

						<span id="E1524" class="t">E1524</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#tuple" class="d">tuple</a> cannot be used with the <a href="builtin.txt.html#map%28%29" class="l">map()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#mapnew%28%29" class="l">mapnew()</a> and <a href="builtin.txt.html#filter%28%29" class="l">filter()</a> functions.

<span class="h">1.5 Dictionaries </span>
				<span id="dict" class="t">dict</span> <span id="Dict" class="t">Dict</span> <span id="Dictionaries" class="t">Dictionaries</span> <span id="Dictionary" class="t">Dictionary</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> an associative array: Each entry has <a href="insert.txt.html#a" class="d">a</a> key and <a href="insert.txt.html#a" class="d">a</a> value.  The
entry can be located with the key.  The entries are stored without <a href="insert.txt.html#a" class="d">a</a> specific
ordering.


<span class="h">Dictionary creation </span>
						<span id="E720" class="t">E720</span> <span id="E721" class="t">E721</span> <span id="E722" class="t">E722</span> <span id="E723" class="t">E723</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> created with <a href="insert.txt.html#a" class="d">a</a> comma-separated sequence of entries in curly
braces.  Each entry has <a href="insert.txt.html#a" class="d">a</a> key and <a href="insert.txt.html#a" class="d">a</a> value, separated by <a href="insert.txt.html#a" class="d">a</a> colon.  Each key can
only appear once.  Examples: 
<span class="e">	:let mydict = {'one': 1, 'two': 2, 'three': 3}</span>
<span class="e">	:let emptydict = {}</span>
							<span id="E713" class="t">E713</span> <span id="E716" class="t">E716</span> <span id="E717" class="t">E717</span>
<a href="insert.txt.html#A" class="d">A</a> key <a href="motion.txt.html#is" class="d">is</a> always <a href="insert.txt.html#a" class="d">a</a> String.  You can use <a href="insert.txt.html#a" class="d">a</a> Number, <a href="motion.txt.html#it" class="d">it</a> will be converted to <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#String" class="d">String</a> automatically.  Thus the <a href="eval.txt.html#String" class="d">String</a> '4' and the number 4 will find the same
entry.  <span class="n">Note</span> that the <a href="eval.txt.html#String" class="d">String</a> '04' and the <a href="eval.txt.html#Number" class="d">Number</a> 04 are different, since the
<a href="eval.txt.html#Number" class="d">Number</a> will be converted to the <a href="eval.txt.html#String" class="d">String</a> '4', leading zeros are dropped.  The
empty <a href="eval.txt.html#string" class="d">string</a> can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> key.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="insert.txt.html#a" class="d">a</a> literal key can be used if <a href="motion.txt.html#it" class="d">it</a> consists only of alphanumeric
characters, underscore and dash, see <a href="vim9.txt.html#vim9-literal-dict" class="l">vim9-literal-dict</a><a href="repeat.txt.html#." class="d">.</a>
						<span id="literal-Dict" class="t">literal-Dict</span> <span id="%23%7B%7D" class="t">#{}</span>
To avoid having to <a href="change.txt.html#put" class="d">put</a> <a href="quotes.txt.html#quotes" class="d">quotes</a> around every key the <a href="eval.txt.html#%23%7B%7D" class="d">#{}</a> form can be used in
legacy script.  This does require the key to consist only of ASCII letters,
digits, '-' and '_'.  Example: 
<span class="e">	:let mydict = #{zero: 0, one_key: 1, two-key: 2, 333: 3}</span>
<span class="n">Note</span> that 333 here <a href="motion.txt.html#is" class="d">is</a> the <a href="eval.txt.html#string" class="d">string</a> "333"<a href="repeat.txt.html#." class="d">.</a>  Empty keys are not possible with #{}.
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the <a href="eval.txt.html#%23%7B%7D" class="d">#{}</a> form cannot be used because <a href="motion.txt.html#it" class="d">it</a> can be confused with
the start of <a href="insert.txt.html#a" class="d">a</a> comment.

<a href="insert.txt.html#A" class="d">A</a> value can be any expression.  Using <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> for <a href="insert.txt.html#a" class="d">a</a> value creates <a href="insert.txt.html#a" class="d">a</a>
nested Dictionary: 
<span class="e">	:let nestdict = {1: {11: 'a', 12: 'b'}, 2: {21: 'c'}}</span>
<span class="e"></span>
An extra comma after the last entry <a href="motion.txt.html#is" class="d">is</a> ignored.


<span class="h">Accessing entries </span>

The normal way to access an entry <a href="motion.txt.html#is" class="d">is</a> by putting the key in square brackets: 
<span class="e">	:let mydict = {'one': 1, 'two': 2, 'three': 3}</span>
<span class="e">	:let val = mydict["one"]</span>
<span class="e">	:let mydict["four"] = 4</span>
<span class="e">	:let val = mydict.one</span>
<span class="e">	:let mydict.four = 4</span>
<span class="e"></span>
You can add new entries to an existing <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> this way, unlike Lists.

For keys that consist entirely of letters, digits and underscore the following
form can be used <a href="eval.txt.html#expr-entry" class="l">expr-entry</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:let val = mydict.one</span>
<span class="e">	:let mydict.four = 4</span>
<span class="e"></span>
Since an entry can be any type, also <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> and <a href="insert.txt.html#a" class="d">a</a> Dictionary, the indexing and
key lookup can be repeated: 
<span class="e">	:echo dict.key[idx].key</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Dictionary to List conversion </span>

You may want to loop over the entries in <a href="insert.txt.html#a" class="d">a</a> dictionary.  For this you need to
turn the <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> into <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> and pass <a href="motion.txt.html#it" class="d">it</a> to <a href="eval.txt.html#%3Afor" class="l">:for</a><a href="repeat.txt.html#." class="d">.</a>

Most often you want to loop over the keys, using the <a href="builtin.txt.html#keys%28%29" class="l">keys()</a> function: 
<span class="e">	:for key in keys(mydict)</span>
<span class="e">	:   echo key .. ': ' .. mydict[key]</span>
<span class="e">	:endfor</span>
<span class="e"></span>
The <a href="eval.txt.html#List" class="d">List</a> of keys <a href="motion.txt.html#is" class="d">is</a> unsorted.  You may want to sort them first: 
<span class="e">	:for key in sort(keys(mydict))</span>
<span class="e"></span>
To loop over the values use the <a href="builtin.txt.html#values%28%29" class="l">values()</a> function:  
<span class="e">	:for v in values(mydict)</span>
<span class="e">	:   echo "value: " .. v</span>
<span class="e">	:endfor</span>
<span class="e"></span>
If you want both the key and the value use the <a href="builtin.txt.html#items%28%29" class="l">items()</a> function.  It returns
<a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> in which each item <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> with two items, the key and the value: 
<span class="e">	:for [key, value] in items(mydict)</span>
<span class="e">	:   echo key .. ': ' .. value</span>
<span class="e">	:endfor</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Dictionary identity </span>
							<span id="dict-identity" class="t">dict-identity</span>
Just like <a href="eval.txt.html#Lists" class="d">Lists</a> you need to use <a href="builtin.txt.html#copy%28%29" class="l">copy()</a> and <a href="builtin.txt.html#deepcopy%28%29" class="l">deepcopy()</a> to make <a href="insert.txt.html#a" class="d">a</a> copy of <a href="insert.txt.html#a" class="d">a</a>
Dictionary.  Otherwise, assignment results in referring to the same
Dictionary: 
<span class="e">	:let onedict = {'a': 1, 'b': 2}</span>
<span class="e">	:let adict = onedict</span>
<span class="e">	:let adict['a'] = 11</span>
<span class="e">	:echo onedict['a']</span>
<span class="e">	11</span>
<span class="e"></span>
Two <a href="eval.txt.html#Dictionaries" class="d">Dictionaries</a> compare equal if all the key-value pairs compare equal.  For
more info see <a href="eval.txt.html#list-identity" class="l">list-identity</a><a href="repeat.txt.html#." class="d">.</a>


<span class="h">Dictionary modification </span>
							<span id="dict-modification" class="t">dict-modification</span>
To change an already existing entry of <a href="insert.txt.html#a" class="d">a</a> Dictionary, or to add <a href="insert.txt.html#a" class="d">a</a> new entry,
use <a href="eval.txt.html#%3Alet" class="l">:let</a> this way: 
<span class="e">	:let dict[4] = "four"</span>
<span class="e">	:let dict['one'] = item</span>
<span class="e"></span>
Removing an entry from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> done with <a href="builtin.txt.html#remove%28%29" class="l">remove()</a> or <a href="eval.txt.html#%3Aunlet" class="l">:unlet</a><a href="repeat.txt.html#." class="d">.</a>
Three ways to remove the entry with key "aaa" from dict: 
<span class="e">	:let i = remove(dict, 'aaa')</span>
<span class="e">	:unlet dict.aaa</span>
<span class="e">	:unlet dict['aaa']</span>
<span class="e"></span>
Merging <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> with another <a href="motion.txt.html#is" class="d">is</a> done with <a href="builtin.txt.html#extend%28%29" class="l">extend()</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:call extend(adict, bdict)</span>
This <a href="vim9class.txt.html#extends" class="d">extends</a> adict with all entries from bdict.  Duplicate keys cause entries
in adict to be overwritten.  An optional third argument can change this.
<span class="n">Note</span> that the order of entries in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> irrelevant, thus don't
expect "<a href="eval.txt.html#%3Aecho" class="d">:echo</a> adict" to show the items from bdict after the older entries in
adict.

Weeding out entries from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> can be done with <a href="builtin.txt.html#filter%28%29" class="l">filter()</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:call filter(dict, 'v:val =~ "x"')</span>
This removes all entries from "<a href="eval.txt.html#dict" class="d">dict</a>" with <a href="insert.txt.html#a" class="d">a</a> value not matching 'x'.
This can also be used to remove all entries: 
<span class="e">	call filter(dict, 0)</span>
<span class="e"></span>
In some situations <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not allowed to remove or add entries to <a href="insert.txt.html#a" class="d">a</a> Dictionary.
Especially when iterating over all the entries.  You will get <span id="E1313" class="t">E1313</span> or
another error in that case.


<span class="h">Dictionary function </span>
				<span id="Dictionary-function" class="t">Dictionary-function</span> <span id="self" class="t">self</span> <span id="E725" class="t">E725</span> <span id="E862" class="t">E862</span>
When <a href="insert.txt.html#a" class="d">a</a> function <a href="motion.txt.html#is" class="d">is</a> defined with the "<a href="eval.txt.html#dict" class="d">dict</a>" attribute <a href="motion.txt.html#it" class="d">it</a> can be used in <a href="insert.txt.html#a" class="d">a</a>
special way with <a href="insert.txt.html#a" class="d">a</a> dictionary.  Example: 
<span class="e">	:function Mylen() dict</span>
<span class="e">	:   return len(self.data)</span>
<span class="e">	:endfunction</span>
<span class="e">	:let mydict = {'data': [0, 1, 2, 3], 'len': function("Mylen")}</span>
<span class="e">	:echo mydict.len()</span>
<span class="e"></span>
This <a href="motion.txt.html#is" class="d">is</a> like <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="d">method</a> in <a href="vim9class.txt.html#object" class="d">object</a> oriented programming.  The entry in the
<a href="eval.txt.html#Dictionary" class="d">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a><a href="repeat.txt.html#." class="d">.</a>  The local variable "<a href="eval.txt.html#self" class="d">self</a>" refers to the dictionary
the function was invoked from.  When using <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> you can use classes
and objects, see <span class="e">:class</span>.

It <a href="motion.txt.html#is" class="d">is</a> also possible to add <a href="insert.txt.html#a" class="d">a</a> function without the "<a href="eval.txt.html#dict" class="d">dict</a>" attribute <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#Funcref" class="d">Funcref</a> to <a href="insert.txt.html#a" class="d">a</a> Dictionary, but the "<a href="eval.txt.html#self" class="d">self</a>" variable <a href="motion.txt.html#is" class="d">is</a> not available then.

				<span id="numbered-function" class="t">numbered-function</span> <span id="anonymous-function" class="t">anonymous-function</span>
To avoid the extra name for the function <a href="motion.txt.html#it" class="d">it</a> can be defined and directly
assigned to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> in this way: 
<span class="e">	:let mydict = {'data': [0, 1, 2, 3]}</span>
<span class="e">	:function mydict.len()</span>
<span class="e">	:   return len(self.data)</span>
<span class="e">	:endfunction</span>
<span class="e">	:echo mydict.len()</span>
<span class="e"></span>
The function will then get <a href="insert.txt.html#a" class="d">a</a> number and the value of dict.len <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a>
that references this function.  The function can only be used through <a href="insert.txt.html#a" class="d">a</a>
<a href="eval.txt.html#Funcref" class="l">Funcref</a><a href="repeat.txt.html#." class="d">.</a>  It will automatically be deleted when there <a href="motion.txt.html#is" class="d">is</a> no <a href="eval.txt.html#Funcref" class="l">Funcref</a>
remaining that refers to it.

It <a href="motion.txt.html#is" class="d">is</a> not necessary to use the "<a href="eval.txt.html#dict" class="d">dict</a>" attribute for <a href="insert.txt.html#a" class="d">a</a> numbered function.

If you get an error for <a href="insert.txt.html#a" class="d">a</a> numbered function, you can find out what <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> with
<a href="insert.txt.html#a" class="d">a</a> trick.  Assuming the function <a href="motion.txt.html#is" class="d">is</a> 42, the command is: 
<span class="e">	:function g:42</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Functions for Dictionaries </span>
							<span id="E715" class="t">E715</span>
Functions that can be used with <a href="insert.txt.html#a" class="d">a</a> Dictionary: 
<span class="e">	:if has_key(dict, 'foo')	" TRUE if dict has entry with key "foo"</span>
<span class="e">	:if empty(dict)			" TRUE if dict is empty</span>
<span class="e">	:let l = len(dict)		" number of items in dict</span>
<span class="e">	:let big = max(dict)		" maximum value in dict</span>
<span class="e">	:let small = min(dict)		" minimum value in dict</span>
<span class="e">	:let xs = count(dict, 'x')	" count nr of times 'x' appears in dict</span>
<span class="e">	:let s = string(dict)		" String representation of dict</span>
<span class="e">	:call map(dict, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">1.6 Blobs </span>
						<span id="blob" class="t">blob</span> <span id="Blob" class="t">Blob</span> <span id="Blobs" class="t">Blobs</span> <span id="E978" class="t">E978</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Blob" class="d">Blob</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> binary object.  It can be used to read an image from <a href="insert.txt.html#a" class="d">a</a> file and
send <a href="motion.txt.html#it" class="d">it</a> over <a href="insert.txt.html#a" class="d">a</a> channel, for example.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Blob" class="d">Blob</a> mostly behaves like <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> of numbers, where each number has the
value of an 8-bit byte, from <a href="motion.txt.html#0" class="d">0</a> to 255.


<span class="h">Blob creation </span>

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Blob" class="d">Blob</a> can be created with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#blob-literal" class="l">blob-literal</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:let b = 0zFF00ED015DAF</span>
Dots can be inserted between bytes (pair of hex characters) for readability,
they don't change the value: 
<span class="e">	:let b = 0zFF00.ED01.5DAF</span>
<span class="e"></span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#blob" class="d">blob</a> can be read from <a href="insert.txt.html#a" class="d">a</a> file with <a href="builtin.txt.html#readfile%28%29" class="l">readfile()</a> passing the <span class="s">{type}</span> argument
set to "<a href="motion.txt.html#B" class="d">B</a>"<a href="motion.txt.html#%2C" class="d">,</a> for example: 
<span class="e">	:let b = readfile('image.png', 'B')</span>
<span class="e"></span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#blob" class="d">blob</a> can be read from <a href="insert.txt.html#a" class="d">a</a> <a href="channel.txt.html#channel" class="d">channel</a> with the <a href="channel.txt.html#ch_readblob%28%29" class="l">ch_readblob()</a> function.


<span class="h">Blob index </span>
							<span id="blob-index" class="t">blob-index</span> <span id="E979" class="t">E979</span>
<a href="insert.txt.html#A" class="d">A</a> byte in the <a href="eval.txt.html#Blob" class="d">Blob</a> can be accessed by putting the <a href="index.txt.html#index" class="d">index</a> in square brackets
after the Blob.  Indexes are zero-based, thus the first byte has <a href="index.txt.html#index" class="d">index</a> zero. 
<span class="e">	:let myblob = 0z00112233</span>
<span class="e">	:let byte = myblob[0]		" get the first byte: 0x00</span>
<span class="e">	:let byte = myblob[2]		" get the third byte: 0x22</span>
<span class="e"></span>
<a href="insert.txt.html#A" class="d">A</a> negative <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> counted from the end.  Index -1 refers to the last byte in
the Blob, -2 to the last but one byte, etc. 
<span class="e">	:let last = myblob[-1]		" get the last byte: 0x33</span>
<span class="e"></span>
To avoid an error for an invalid <a href="index.txt.html#index" class="d">index</a> use the <a href="builtin.txt.html#get%28%29" class="l">get()</a> function.  When an item
<a href="motion.txt.html#is" class="d">is</a> not available <a href="motion.txt.html#it" class="d">it</a> returns -1 or the default value you specify: 
<span class="e">	:echo get(myblob, idx)</span>
<span class="e">	:echo get(myblob, idx, 999)</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Blob iteration </span>

The <a href="eval.txt.html#%3Afor" class="l">:for</a> loop executes commands for each byte of <a href="insert.txt.html#a" class="d">a</a> Blob.  The loop variable
<a href="motion.txt.html#is" class="d">is</a> set to each byte in the Blob.  Example: 
<span class="e">	:for byte in 0z112233</span>
<span class="e">	:   call Doit(byte)</span>
<span class="e">	:endfor</span>
This calls Doit() with 0x11, 0x22 and 0x33.


<span class="h">Blob concatenation </span>
							<span id="blob-concatenation" class="t">blob-concatenation</span>
Two blobs can be concatenated with the "<a href="motion.txt.html#%2B" class="d">+</a>" operator: 
<span class="e">	:let longblob = myblob + 0z4455</span>
<span class="e">	:let longblob = 0z4455 + myblob</span>

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#blob" class="d">blob</a> can be concatenated with another one in-place using <a href="eval.txt.html#%3Alet%2B%3D" class="l">:let+=</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:let myblob += 0z6677</span>

See <a href="eval.txt.html#blob-modification" class="l">blob-modification</a> below for more about <a href="change.txt.html#changing" class="d">changing</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#blob" class="d">blob</a> in-place.


<span class="h">Part of a blob </span>

<a href="insert.txt.html#A" class="d">A</a> part of the <a href="eval.txt.html#Blob" class="d">Blob</a> can be obtained by specifying the first and last index,
separated by <a href="insert.txt.html#a" class="d">a</a> colon in square brackets: 
<span class="e">	:let myblob = 0z00112233</span>
<span class="e">	:let shortblob = myblob[1:2]	" get 0z1122</span>
<span class="e">	:let shortblob = myblob[2:-1]	" get 0z2233</span>
<span class="e"></span>
Omitting the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> similar to zero.  Omitting the last <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
similar to -1. 
<span class="e">	:let endblob = myblob[2:]	" from item 2 to the end: 0z2233</span>
<span class="e">	:let shortblob = myblob[2:2]	" Blob with one byte: 0z22</span>
<span class="e">	:let otherblob = myblob[:]	" make a copy of the Blob</span>
<span class="e"></span>
If the first <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> beyond the last byte of the <a href="eval.txt.html#Blob" class="d">Blob</a> or the second <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a>
before the first index, the result <a href="motion.txt.html#is" class="d">is</a> an empty Blob.  There <a href="motion.txt.html#is" class="d">is</a> no error
message.

If the second <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> equal to or greater than the length of the <a href="eval.txt.html#list" class="d">list</a> the
length minus one <a href="motion.txt.html#is" class="d">is</a> used: 
<span class="e">	:echo myblob[2:8]		" result: 0z2233</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">Blob modification </span>
						<span id="blob-modification" class="t">blob-modification</span> <span id="E1184" class="t">E1184</span>
To change <a href="insert.txt.html#a" class="d">a</a> specific byte of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#blob" class="d">blob</a> use <a href="eval.txt.html#%3Alet" class="l">:let</a> this way: 
<span class="e">	:let blob[4] = 0x44</span>
<span class="e"></span>
When the <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> just one beyond the <a href="intro.txt.html#end" class="d">end</a> of the Blob, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> appended.  Any
higher <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> an error.

To change <a href="insert.txt.html#a" class="d">a</a> sequence of bytes the [:] <a href="intro.txt.html#notation" class="d">notation</a> can be used: 
<span class="e">	let blob[1:3] = 0z445566</span>
The length of the replaced bytes <a href="vim_faq.txt.html#must" class="d">must</a> be exactly the same <a href="motion.txt.html#as" class="d">as</a> the value
provided. <span id="E972" class="t">E972</span>

To change part of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#blob" class="d">blob</a> you can specify the first and last byte to be
modified.  The value <a href="vim_faq.txt.html#must" class="d">must</a> have the same number of bytes in the range: 
<span class="e">	:let blob[3:5] = 0z334455</span>
<span class="e"></span>
To add items to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="d">Blob</a> in-place, you can use <a href="eval.txt.html#%3Alet%2B%3D" class="l">:let+=</a> <a href="motion.txt.html#%28" class="d">(</a><a href="eval.txt.html#blob-concatenation" class="l">blob-concatenation</a>): 
<span class="e">	:let blobA = 0z1122</span>
<span class="e">	:let blobA += 0z3344</span>

When two <a href="eval.txt.html#variables" class="d">variables</a> refer to the same Blob, <a href="change.txt.html#changing" class="d">changing</a> one <a href="eval.txt.html#Blob" class="d">Blob</a> in-place will
cause the referenced <a href="eval.txt.html#Blob" class="d">Blob</a> to be changed in-place: 
<span class="e">	:let blobA = 0z1122</span>
<span class="e">	:let blobB = blobA</span>
<span class="e">	:let blobB += 0z3344</span>
<span class="e">	:echo blobA</span>
<span class="e">	0z11223344</span>

You can also use the <a href="eval.txt.html#functions" class="d">functions</a> <a href="builtin.txt.html#add%28%29" class="l">add()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#remove%28%29" class="l">remove()</a> and <a href="builtin.txt.html#insert%28%29" class="l">insert()</a><a href="repeat.txt.html#." class="d">.</a>


<span class="h">Blob identity </span>

<a href="eval.txt.html#Blobs" class="d">Blobs</a> can be compared for equality: 
<span class="e">	if blob == 0z001122</span>
And for equal identity: 
<span class="e">	if blob is otherblob</span>
							<span id="blob-identity" class="t">blob-identity</span> <span id="E977" class="t">E977</span>
When variable "aa" <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="d">Blob</a> and you assign <a href="motion.txt.html#it" class="d">it</a> to another variable "bb"<a href="motion.txt.html#%2C" class="d">,</a> both
<a href="eval.txt.html#variables" class="d">variables</a> refer to the same Blob.  Then the "<a href="motion.txt.html#is" class="d">is</a>" <a href="motion.txt.html#operator" class="d">operator</a> returns true.

When making <a href="insert.txt.html#a" class="d">a</a> copy using [:] or <a href="builtin.txt.html#copy%28%29" class="l">copy()</a> the values are the same, but the
identity <a href="motion.txt.html#is" class="d">is</a> different: 
<span class="e">	:let blob = 0z112233</span>
<span class="e">	:let blob2 = blob</span>
<span class="e">	:echo blob == blob2</span>
	1 
<span class="e">	:echo blob is blob2</span>
	1 
<span class="e">	:let blob3 = blob[:]</span>
<span class="e">	:echo blob == blob3</span>
	1 
<span class="e">	:echo blob is blob3</span>
	<a href="motion.txt.html#0" class="d">0</a>

Making <a href="insert.txt.html#a" class="d">a</a> copy of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="d">Blob</a> <a href="motion.txt.html#is" class="d">is</a> done with the <a href="builtin.txt.html#copy%28%29" class="l">copy()</a> function.  Using [:] also
works, <a href="motion.txt.html#as" class="d">as</a> explained above.


<span class="h">1.7 More about variables </span>
							<span id="more-variables" class="t">more-variables</span>
If you need to know the type of <a href="insert.txt.html#a" class="d">a</a> variable or expression, use the <a href="builtin.txt.html#type%28%29" class="l">type()</a>
function.

When the '!' flag <a href="motion.txt.html#is" class="d">is</a> included in the <a href="options.txt.html#%27viminfo%27" class="o">'viminfo'</a> option, global <a href="eval.txt.html#variables" class="d">variables</a> that
start with an <a href="change.txt.html#uppercase" class="d">uppercase</a> letter, and don't contain <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#lowercase" class="d">lowercase</a> letter, are
stored in the <a href="starting.txt.html#viminfo" class="d">viminfo</a> file <a href="starting.txt.html#viminfo-file" class="l">viminfo-file</a><a href="repeat.txt.html#." class="d">.</a>

When the <a href="options.txt.html#%27sessionoptions%27" class="o">'sessionoptions'</a> option contains "global"<a href="motion.txt.html#%2C" class="d">,</a> global <a href="eval.txt.html#variables" class="d">variables</a> that
start with an <a href="change.txt.html#uppercase" class="d">uppercase</a> <a href="print.txt.html#letter" class="d">letter</a> and contain <a href="motion.txt.html#at" class="d">at</a> least one <a href="change.txt.html#lowercase" class="d">lowercase</a> <a href="print.txt.html#letter" class="d">letter</a> are
stored in the session file <a href="starting.txt.html#session-file" class="l">session-file</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">variable name		can be stored where </span>
my_var_6		not
My_Var_6		session file
MY_VAR_6		<a href="starting.txt.html#viminfo" class="d">viminfo</a> file


In legacy <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> possible to form <a href="insert.txt.html#a" class="d">a</a> variable name with curly braces, see
<a href="eval.txt.html#curly-braces-names" class="l">curly-braces-names</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
2. Expression <a href="syntax.txt.html#syntax" class="d">syntax</a>					<span id="expression-syntax" class="t">expression-syntax</span>
							<span id="E1143" class="t">E1143</span>
Expression <a href="syntax.txt.html#syntax" class="d">syntax</a> summary, from least to most significant:

<a href="eval.txt.html#expr1" class="l">expr1</a>  	<a href="eval.txt.html#expr2" class="d">expr2</a>
	<a href="eval.txt.html#expr2" class="d">expr2</a> <a href="pattern.txt.html#%3F" class="d">?</a> <a href="eval.txt.html#expr1" class="d">expr1</a> <a href="cmdline.txt.html#%3A" class="d">:</a> <a href="eval.txt.html#expr1" class="d">expr1</a>	if-then-else

<a href="eval.txt.html#expr2" class="l">expr2</a>  	<a href="eval.txt.html#expr3" class="d">expr3</a>
	<a href="eval.txt.html#expr3" class="d">expr3</a> || <a href="eval.txt.html#expr3" class="d">expr3</a> <a href="userfunc.txt.html#..." class="d">...</a>	logical OR

<a href="eval.txt.html#expr3" class="l">expr3</a>  	<a href="eval.txt.html#expr4" class="d">expr4</a>
	<a href="eval.txt.html#expr4" class="d">expr4</a> &amp;&amp; <a href="eval.txt.html#expr4" class="d">expr4</a> <a href="userfunc.txt.html#..." class="d">...</a>	logical AND

<a href="eval.txt.html#expr4" class="l">expr4</a>  	<a href="eval.txt.html#expr5" class="d">expr5</a>
	<a href="eval.txt.html#expr5" class="d">expr5</a> <a href="change.txt.html#%3D%3D" class="d">==</a> <a href="eval.txt.html#expr5" class="d">expr5</a>		equal
	<a href="eval.txt.html#expr5" class="d">expr5</a> != <a href="eval.txt.html#expr5" class="d">expr5</a>		not equal
	<a href="eval.txt.html#expr5" class="d">expr5</a> <a href="change.txt.html#%3E" class="d">&gt;</a>	 <a href="eval.txt.html#expr5" class="d">expr5</a>		greater than
	<a href="eval.txt.html#expr5" class="d">expr5</a> &gt;= <a href="eval.txt.html#expr5" class="d">expr5</a>		greater than or equal
	<a href="eval.txt.html#expr5" class="d">expr5</a> <a href="change.txt.html#%3C" class="d">&lt;</a>	 <a href="eval.txt.html#expr5" class="d">expr5</a>		smaller than
	<a href="eval.txt.html#expr5" class="d">expr5</a> &lt;= <a href="eval.txt.html#expr5" class="d">expr5</a>		smaller than or equal
	<a href="eval.txt.html#expr5" class="d">expr5</a> =~ <a href="eval.txt.html#expr5" class="d">expr5</a>		<a href="pattern.txt.html#regexp" class="d">regexp</a> matches
	<a href="eval.txt.html#expr5" class="d">expr5</a> !~ <a href="eval.txt.html#expr5" class="d">expr5</a>		<a href="pattern.txt.html#regexp" class="d">regexp</a> doesn't match

	<a href="eval.txt.html#expr5" class="d">expr5</a> ==? <a href="eval.txt.html#expr5" class="d">expr5</a>		equal, ignoring <a href="change.txt.html#case" class="d">case</a>
	<a href="eval.txt.html#expr5" class="d">expr5</a> ==# <a href="eval.txt.html#expr5" class="d">expr5</a>		equal, match <a href="change.txt.html#case" class="d">case</a>
	etc.			As above, append <a href="pattern.txt.html#%3F" class="d">?</a> for ignoring case, <a href="pattern.txt.html#%23" class="d">#</a> for
				matching <a href="change.txt.html#case" class="d">case</a>

	<a href="eval.txt.html#expr5" class="d">expr5</a> <a href="motion.txt.html#is" class="d">is</a> <a href="eval.txt.html#expr5" class="d">expr5</a>		same <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> or <a href="eval.txt.html#Blob" class="l">Blob</a>
				instance
	<a href="eval.txt.html#expr5" class="d">expr5</a> isnot <a href="eval.txt.html#expr5" class="d">expr5</a>	different <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> or
				<a href="eval.txt.html#Blob" class="l">Blob</a> instance

<a href="eval.txt.html#expr5" class="l">expr5</a>  	<a href="eval.txt.html#expr6" class="d">expr6</a>
	<a href="eval.txt.html#expr6" class="d">expr6</a> <a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a> <a href="eval.txt.html#expr6" class="d">expr6</a>		bitwise left <a href="intro.txt.html#shift" class="d">shift</a>
	<a href="eval.txt.html#expr6" class="d">expr6</a> <a href="change.txt.html#%3E%3E" class="d">&gt;&gt;</a> <a href="eval.txt.html#expr6" class="d">expr6</a>		bitwise right <a href="intro.txt.html#shift" class="d">shift</a>

<a href="eval.txt.html#expr6" class="l">expr6</a>  	<a href="eval.txt.html#expr7" class="d">expr7</a>
	<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="motion.txt.html#%2B" class="d">+</a>	 <a href="eval.txt.html#expr7" class="d">expr7</a> <a href="userfunc.txt.html#..." class="d">...</a>	number addition, <a href="eval.txt.html#list" class="d">list</a> or <a href="eval.txt.html#tuple" class="d">tuple</a> or <a href="eval.txt.html#blob" class="d">blob</a>
				concatenation
	<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="motion.txt.html#-" class="d">-</a>	 <a href="eval.txt.html#expr7" class="d">expr7</a> <a href="userfunc.txt.html#..." class="d">...</a>	number subtraction
	<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="repeat.txt.html#." class="d">.</a>	 <a href="eval.txt.html#expr7" class="d">expr7</a> <a href="userfunc.txt.html#..." class="d">...</a>	<a href="eval.txt.html#string" class="d">string</a> concatenation
	<a href="eval.txt.html#expr7" class="d">expr7</a> .. <a href="eval.txt.html#expr7" class="d">expr7</a> <a href="userfunc.txt.html#..." class="d">...</a>	<a href="eval.txt.html#string" class="d">string</a> concatenation

<a href="eval.txt.html#expr7" class="l">expr7</a>  	<a href="eval.txt.html#expr8" class="d">expr8</a>
	<a href="eval.txt.html#expr8" class="d">expr8</a> *	 <a href="eval.txt.html#expr8" class="d">expr8</a> <a href="userfunc.txt.html#..." class="d">...</a>	number multiplication
	<a href="eval.txt.html#expr8" class="d">expr8</a> <a href="pattern.txt.html#%2F" class="d">/</a>	 <a href="eval.txt.html#expr8" class="d">expr8</a> <a href="userfunc.txt.html#..." class="d">...</a>	number division
	<a href="eval.txt.html#expr8" class="d">expr8</a> <a href="motion.txt.html#%25" class="d">%</a>	 <a href="eval.txt.html#expr8" class="d">expr8</a> <a href="userfunc.txt.html#..." class="d">...</a>	number modulo

<a href="eval.txt.html#expr8" class="l">expr8</a>  	<a href="eval.txt.html#expr9" class="d">expr9</a>
	<span class="s">&lt;type&gt;</span>expr9		type check and conversion <a href="motion.txt.html#%28" class="d">(</a><a href="vim9.txt.html#Vim9" class="l">Vim9</a> only)

<a href="eval.txt.html#expr9" class="l">expr9</a>  	<a href="eval.txt.html#expr10" class="d">expr10</a>
	<a href="change.txt.html#%21" class="d">!</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			logical NOT
	<a href="motion.txt.html#-" class="d">-</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			unary minus
	<a href="motion.txt.html#%2B" class="d">+</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			unary plus

<a href="eval.txt.html#expr10" class="l">expr10</a>  <a href="eval.txt.html#expr11" class="d">expr11</a>
	expr10[expr1]		byte of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> or item of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or
				<a href="eval.txt.html#Tuple" class="l">Tuple</a>
	expr10[expr1 <a href="cmdline.txt.html#%3A" class="d">:</a> expr1]	<a href="eval.txt.html#substring" class="d">substring</a> of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> or <a href="eval.txt.html#sublist" class="d">sublist</a> of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a>
				or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#slice" class="d">slice</a> of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a>
	expr10.name		entry in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a>
	expr10(expr1, ...)	function call with <a href="eval.txt.html#Funcref" class="l">Funcref</a> variable
	expr10-&gt;name(expr1, ...)	<a href="eval.txt.html#method" class="l">method</a> call

<a href="eval.txt.html#expr11" class="l">expr11</a>  number  		number constant
	"<a href="eval.txt.html#string" class="d">string</a>"		<a href="eval.txt.html#string" class="d">string</a> constant, <a href="intro.txt.html#backslash" class="d">backslash</a> <a href="motion.txt.html#is" class="d">is</a> special
	<span class="o">'string'</span>		<a href="eval.txt.html#string" class="d">string</a> constant, <a href="motion.txt.html#%27" class="d">'</a> <a href="motion.txt.html#is" class="d">is</a> doubled
	[expr1, ...]		<a href="eval.txt.html#List" class="l">List</a>
	(expr1, ...)		<a href="eval.txt.html#Tuple" class="l">Tuple</a>
	<span class="s">{expr1: expr1, ...}</span>	<a href="eval.txt.html#Dictionary" class="l">Dictionary</a>
	#{key: expr1, ...}	legacy <a href="eval.txt.html#Dictionary" class="l">Dictionary</a>
	&amp;option			option value
	(expr1)			nested <a href="eval.txt.html#expression" class="d">expression</a>
	variable		internal variable
	va{ria}ble		internal variable with curly braces
	$VAR			environment variable
	<a href="eval.txt.html#%40r" class="d">@r</a>			contents of register 'r'
	function(expr1, ...)	function call
	func{ti}on(expr1, ...)	function call with curly braces
	<span class="s">{args -&gt; expr1}</span>		legacy <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a>
	(args) =&gt; <a href="eval.txt.html#expr1" class="d">expr1</a>		<a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a>


"<a href="userfunc.txt.html#..." class="d">...</a>" indicates that the operations in this level can be concatenated.
Example: 
<span class="e">	&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"</span>
<span class="e"></span>
All expressions within one level are parsed from left to right.

Expression nesting <a href="motion.txt.html#is" class="d">is</a> limited to 1000 levels deep (300 when build with MSVC)
to avoid running out of stack and crashing. <span id="E1169" class="t">E1169</span>


<a href="eval.txt.html#expr1" class="d">expr1</a>				<span id="expr1" class="t">expr1</span> <span id="ternary" class="t">ternary</span> <span id="falsy-operator" class="t">falsy-operator</span> <span id="%3F%3F" class="t">??</span> <span id="E109" class="t">E109</span>
-----

The <a href="eval.txt.html#ternary" class="d">ternary</a> operator: <a href="eval.txt.html#expr2" class="d">expr2</a> <a href="pattern.txt.html#%3F" class="d">?</a> <a href="eval.txt.html#expr1" class="d">expr1</a> <a href="cmdline.txt.html#%3A" class="d">:</a> <a href="eval.txt.html#expr1" class="d">expr1</a>
The <a href="eval.txt.html#falsy" class="d">falsy</a> operator:   <a href="eval.txt.html#expr2" class="d">expr2</a> <a href="eval.txt.html#%3F%3F" class="d">??</a> <a href="eval.txt.html#expr1" class="d">expr1</a>

<span class="h">Ternary operator </span>

In legacy <a href="usr_41.txt.html#script" class="d">script</a> the <a href="eval.txt.html#expression" class="d">expression</a> before the '?' <a href="motion.txt.html#is" class="d">is</a> evaluated to <a href="insert.txt.html#a" class="d">a</a> number.  If
<a href="motion.txt.html#it" class="d">it</a> evaluates to <a href="eval.txt.html#TRUE" class="l">TRUE</a><a href="motion.txt.html#%2C" class="d">,</a> the result <a href="motion.txt.html#is" class="d">is</a> the value of the <a href="eval.txt.html#expression" class="d">expression</a> between the
'?' and ':', otherwise the result <a href="motion.txt.html#is" class="d">is</a> the value of the <a href="eval.txt.html#expression" class="d">expression</a> after the
':'.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the first <a href="eval.txt.html#expression" class="d">expression</a> <a href="vim_faq.txt.html#must" class="d">must</a> evaluate to <a href="insert.txt.html#a" class="d">a</a> boolean, see
<a href="vim9.txt.html#vim9-boolean" class="l">vim9-boolean</a><a href="repeat.txt.html#." class="d">.</a>

Example: 
<span class="e">	:echo lnum == 1 ? "top" : lnum</span>
<span class="e"></span>
Since the first <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> an "<a href="eval.txt.html#expr2" class="d">expr2</a>"<a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#it" class="d">it</a> cannot contain another ?:.  The
other two expressions can, thus allow for recursive use of ?:.
Example: 
<span class="e">	:echo lnum == 1 ? "top" : lnum == 1000 ? "last" : lnum</span>
<span class="e"></span>
To keep this readable, using <a href="repeat.txt.html#line-continuation" class="l">line-continuation</a> <a href="motion.txt.html#is" class="d">is</a> suggested: 
<span class="e">	:echo lnum == 1</span>
<span class="e">	:\	? "top"</span>
<span class="e">	:\	: lnum == 1000</span>
<span class="e">	:\		? "last"</span>
<span class="e">	:\		: lnum</span>
<span class="e"></span>
You should always <a href="change.txt.html#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> before the ':', otherwise <a href="motion.txt.html#it" class="d">it</a> can be mistaken for
use in <a href="insert.txt.html#a" class="d">a</a> variable such <a href="motion.txt.html#as" class="d">as</a> "<a href="userfunc.txt.html#a%3A1" class="d">a:1</a>"<a href="repeat.txt.html#." class="d">.</a>

<span class="h">Falsy operator </span>

This <a href="motion.txt.html#is" class="d">is</a> also known <a href="motion.txt.html#as" class="d">as</a> the "<a href="vim9.txt.html#null" class="d">null</a> coalescing <a href="motion.txt.html#operator" class="d">operator</a>"<a href="motion.txt.html#%2C" class="d">,</a> but that's too
complicated, thus we just call <a href="motion.txt.html#it" class="d">it</a> the <a href="eval.txt.html#falsy" class="d">falsy</a> operator.

The <a href="eval.txt.html#expression" class="d">expression</a> before the '??' <a href="motion.txt.html#is" class="d">is</a> evaluated.  If <a href="motion.txt.html#it" class="d">it</a> evaluates to
<a href="eval.txt.html#truthy" class="l">truthy</a><a href="motion.txt.html#%2C" class="d">,</a> this <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> the result.  Otherwise the <a href="eval.txt.html#expression" class="d">expression</a> after the '??'
<a href="motion.txt.html#is" class="d">is</a> evaluated and used <a href="motion.txt.html#as" class="d">as</a> the result.  This <a href="motion.txt.html#is" class="d">is</a> most useful to have <a href="insert.txt.html#a" class="d">a</a> default
value for an <a href="eval.txt.html#expression" class="d">expression</a> that may result in zero or empty: 
<span class="e">	echo theList ?? 'list is empty'</span>
<span class="e">	echo GetName() ?? 'unknown'</span>
<span class="e"></span>
These are similar, but not equal: 
<span class="e">	expr2 ?? expr1</span>
<span class="e">	expr2 ? expr2 : expr1</span>
In the second line "<a href="eval.txt.html#expr2" class="d">expr2</a>" <a href="motion.txt.html#is" class="d">is</a> evaluated twice.  And in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the type
of <a href="eval.txt.html#expr2" class="d">expr2</a> before "<a href="pattern.txt.html#%3F" class="d">?</a>" <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> boolean.


<a href="eval.txt.html#expr2" class="d">expr2</a> and <a href="eval.txt.html#expr3" class="d">expr3</a>						<span id="expr2" class="t">expr2</span> <span id="expr3" class="t">expr3</span>
<span class="h">---------------</span>

<a href="eval.txt.html#expr3" class="d">expr3</a> || <a href="eval.txt.html#expr3" class="d">expr3</a> ..	logical OR		<span id="expr-barbar" class="t">expr-barbar</span>
<a href="eval.txt.html#expr4" class="d">expr4</a> &amp;&amp; <a href="eval.txt.html#expr4" class="d">expr4</a> ..	logical AND		<span id="expr-%26%26" class="t">expr-&amp;&amp;</span>

The "||" and "&amp;&amp;" operators take one argument on each side.

In legacy <a href="usr_41.txt.html#script" class="d">script</a> the arguments are (converted to) Numbers.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the values <a href="vim_faq.txt.html#must" class="d">must</a> be boolean, see <a href="vim9.txt.html#vim9-boolean" class="l">vim9-boolean</a><a href="repeat.txt.html#." class="d">.</a>  Use "<a href="change.txt.html#%21%21" class="d">!!</a>" to
convert any type to <a href="insert.txt.html#a" class="d">a</a> boolean.

The result is:
<span class="h">    input			 output </span>
<span class="h">n1	n2		n1 || n2	n1 &amp;&amp; n2 </span>
<a href="eval.txt.html#FALSE" class="l">FALSE</a>  	<a href="eval.txt.html#FALSE" class="l">FALSE</a>  		<a href="eval.txt.html#FALSE" class="l">FALSE</a>  		<a href="eval.txt.html#FALSE" class="l">FALSE</a>
<a href="eval.txt.html#FALSE" class="l">FALSE</a>  	<a href="eval.txt.html#TRUE" class="l">TRUE</a>  		<a href="eval.txt.html#TRUE" class="l">TRUE</a>  		<a href="eval.txt.html#FALSE" class="l">FALSE</a>
<a href="eval.txt.html#TRUE" class="l">TRUE</a>  	<a href="eval.txt.html#FALSE" class="l">FALSE</a>  		<a href="eval.txt.html#TRUE" class="l">TRUE</a>  		<a href="eval.txt.html#FALSE" class="l">FALSE</a>
<a href="eval.txt.html#TRUE" class="l">TRUE</a>  	<a href="eval.txt.html#TRUE" class="l">TRUE</a>  		<a href="eval.txt.html#TRUE" class="l">TRUE</a>  		<a href="eval.txt.html#TRUE" class="l">TRUE</a>

The operators can be concatenated, for example: 
<span class="e"></span>
<span class="e">	&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"</span>
<span class="e"></span>
<span class="n">Note</span> that "&amp;&amp;" takes precedence over "||"<a href="motion.txt.html#%2C" class="d">,</a> so this has the meaning of: 
<span class="e"></span>
<span class="e">	&amp;nu || (&amp;list &amp;&amp; &amp;shell == "csh")</span>
<span class="e"></span>
Once the result <a href="motion.txt.html#is" class="d">is</a> known, the <a href="eval.txt.html#expression" class="d">expression</a> "short-circuits"<a href="motion.txt.html#%2C" class="d">,</a> that is, further
arguments are not evaluated.  This <a href="motion.txt.html#is" class="d">is</a> like what happens in C.  For example: 
<span class="e"></span>
<span class="e">	let a = 1</span>
<span class="e">	echo a || b</span>
<span class="e"></span>
This <a href="motion.txt.html#is" class="d">is</a> valid even if there <a href="motion.txt.html#is" class="d">is</a> no variable called "<a href="motion.txt.html#b" class="d">b</a>" because "<a href="insert.txt.html#a" class="d">a</a>" <a href="motion.txt.html#is" class="d">is</a> <a href="eval.txt.html#TRUE" class="l">TRUE</a><a href="motion.txt.html#%2C" class="d">,</a>
so the result <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="eval.txt.html#TRUE" class="l">TRUE</a><a href="repeat.txt.html#." class="d">.</a>  Similarly below: 
<span class="e"></span>
<span class="e">	echo exists("b") &amp;&amp; b == "yes"</span>
<span class="e"></span>
This <a href="motion.txt.html#is" class="d">is</a> valid whether "<a href="motion.txt.html#b" class="d">b</a>" has been defined or not.  The second clause will
only be evaluated if "<a href="motion.txt.html#b" class="d">b</a>" has been defined.


<a href="eval.txt.html#expr4" class="d">expr4</a>							<span id="expr4" class="t">expr4</span> <span id="E1153" class="t">E1153</span>
-----

<a href="eval.txt.html#expr5" class="d">expr5</a> <span class="s">{cmp}</span> <a href="eval.txt.html#expr5" class="d">expr5</a>

Compare two <a href="eval.txt.html#expr5" class="d">expr5</a> expressions.  In legacy <a href="usr_41.txt.html#script" class="d">script</a> the result <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#0" class="d">0</a> if <a href="motion.txt.html#it" class="d">it</a>
evaluates to false, or 1 if <a href="motion.txt.html#it" class="d">it</a> evaluates to true.  In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the result
<a href="motion.txt.html#is" class="d">is</a> <a href="vim9.txt.html#true" class="l">true</a> or <a href="vim9.txt.html#false" class="l">false</a><a href="repeat.txt.html#." class="d">.</a>

			<span id="expr-%3D%3D" class="t">expr-==</span>  <span id="expr-%21%3D" class="t">expr-!=</span>  <span id="expr-%3E" class="t">expr-&gt;</span>      	 <span id="expr-%3E%3D" class="t">expr-&gt;=</span>
			<span id="expr-%3C" class="t">expr-&lt;</span>   <span id="expr-%3C%3D" class="t">expr-&lt;=</span>  <span id="expr-%3D~" class="t">expr-=~</span>  <span id="expr-%21~" class="t">expr-!~</span>
			<span id="expr-%3D%3D%23" class="t">expr-==#</span> <span id="expr-%21%3D%23" class="t">expr-!=#</span> <span id="expr-%3E%23" class="t">expr-&gt;#</span>  <span id="expr-%3E%3D%23" class="t">expr-&gt;=#</span>
			<span id="expr-%3C%23" class="t">expr-&lt;#</span>  <span id="expr-%3C%3D%23" class="t">expr-&lt;=#</span> <span id="expr-%3D~%23" class="t">expr-=~#</span> <span id="expr-%21~%23" class="t">expr-!~#</span>
			<span id="expr-%3D%3D%3F" class="t">expr-==?</span> <span id="expr-%21%3D%3F" class="t">expr-!=?</span> <span id="expr-%3E%3F" class="t">expr-&gt;?</span>  <span id="expr-%3E%3D%3F" class="t">expr-&gt;=?</span>
			<span id="expr-%3C%3F" class="t">expr-&lt;?</span>  <span id="expr-%3C%3D%3F" class="t">expr-&lt;=?</span> <span id="expr-%3D~%3F" class="t">expr-=~?</span> <span id="expr-%21~%3F" class="t">expr-!~?</span>
			<span id="expr-is" class="t">expr-is</span> <span id="expr-isnot" class="t">expr-isnot</span> <span id="expr-is%23" class="t">expr-is#</span> <span id="expr-isnot%23" class="t">expr-isnot#</span>
			<span id="expr-is%3F" class="t">expr-is?</span> <span id="expr-isnot%3F" class="t">expr-isnot?</span> <span id="E1072" class="t">E1072</span>
<span class="h">		use 'ignorecase'    match case	   ignore case </span>
equal			<a href="change.txt.html#%3D%3D" class="d">==</a>		==#		==?
not equal		!=		!=#		!=?
greater than		<a href="change.txt.html#%3E" class="d">&gt;</a>		&gt;#		&gt;?
greater than or equal	&gt;=		&gt;=#		&gt;=?
smaller than		<a href="change.txt.html#%3C" class="d">&lt;</a>		&lt;#		&lt;?
smaller than or equal	&lt;=		&lt;=#		&lt;=?
<a href="pattern.txt.html#regexp" class="d">regexp</a> matches		=~		=~#		=~?
<a href="pattern.txt.html#regexp" class="d">regexp</a> doesn't match	!~		!~#		!~?
same instance		<a href="motion.txt.html#is" class="d">is</a>		is#		is?
different instance	isnot		isnot#		isnot?

Examples:
"abc" ==# "Abc"	  evaluates to <a href="motion.txt.html#0" class="d">0</a>
"abc" ==? "Abc"	  evaluates to 1
"abc" <a href="change.txt.html#%3D%3D" class="d">==</a> "Abc"	  evaluates to 1 if <a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> <a href="motion.txt.html#is" class="d">is</a> set, <a href="motion.txt.html#0" class="d">0</a> otherwise
<span class="n">NOTE:</span> In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> <a href="motion.txt.html#is" class="d">is</a> not used.

						<span id="E691" class="t">E691</span> <span id="E692" class="t">E692</span> <span id="E1517" class="t">E1517</span> <span id="E1518" class="t">E1518</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#List" class="l">List</a> can only be compared with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> and only "equal"<a href="motion.txt.html#%2C" class="d">,</a> "not equal"<a href="motion.txt.html#%2C" class="d">,</a>
"<a href="motion.txt.html#is" class="d">is</a>" and "isnot" can be used.  This compares the values of the list,
recursively.  Ignoring <a href="change.txt.html#case" class="d">case</a> means <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> ignored when comparing item values.
Same applies for <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="repeat.txt.html#." class="d">.</a>

							<span id="E735" class="t">E735</span> <span id="E736" class="t">E736</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> can only be compared with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> and only "equal"<a href="motion.txt.html#%2C" class="d">,</a> "not
equal"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#is" class="d">is</a>" and "isnot" can be used.  This compares the key/values of the
<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> recursively.  Ignoring <a href="change.txt.html#case" class="d">case</a> means <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> ignored when comparing
item values.

							<span id="E694" class="t">E694</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a> can only be compared with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a> and only "equal"<a href="motion.txt.html#%2C" class="d">,</a> "not
equal"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#is" class="d">is</a>" and "isnot" can be used.  Case <a href="motion.txt.html#is" class="d">is</a> never ignored.  Whether
arguments or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> are bound (with <a href="insert.txt.html#a" class="d">a</a> partial) matters.  The
<a href="eval.txt.html#Dictionaries" class="d">Dictionaries</a> <a href="vim_faq.txt.html#must" class="d">must</a> also be equal (or the same, in <a href="change.txt.html#case" class="d">case</a> of "<a href="motion.txt.html#is" class="d">is</a>"<a href="motion.txt.html#%29" class="d">)</a> and the
arguments <a href="vim_faq.txt.html#must" class="d">must</a> be equal (or the same).

To compare Funcrefs to see if they refer to the same function, ignoring bound
<a href="eval.txt.html#Dictionary" class="d">Dictionary</a> and arguments, use <a href="builtin.txt.html#get%28%29" class="l">get()</a> to get the function name: 
<span class="e">	if get(Part1, 'name') == get(Part2, 'name')</span>
<span class="e">	   " Part1 and Part2 refer to the same function</span>
							<span id="E1037" class="t">E1037</span>
Using "<a href="motion.txt.html#is" class="d">is</a>" or "isnot" with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> or <a href="eval.txt.html#Blob" class="l">Blob</a> checks
whether the expressions are referring to the same <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a>
<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> or <a href="eval.txt.html#Blob" class="l">Blob</a> instance.  <a href="insert.txt.html#A" class="d">A</a> copy of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a> <a href="motion.txt.html#is" class="d">is</a> different
from the original <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="repeat.txt.html#." class="d">.</a>  When using "<a href="motion.txt.html#is" class="d">is</a>" without <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a>
<a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> or <a href="eval.txt.html#Blob" class="l">Blob</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> equivalent to using "equal"<a href="motion.txt.html#%2C" class="d">,</a> using
"isnot" <a href="motion.txt.html#is" class="d">is</a> equivalent to using "not equal"<a href="repeat.txt.html#." class="d">.</a>  Except that <a href="insert.txt.html#a" class="d">a</a> different type
means the values are different: 
<span class="e">	echo 4 == '4'</span>
<span class="e">	1</span>
<span class="e">	echo 4 is '4'</span>
<span class="e">	0</span>
<span class="e">	echo 0 is []</span>
<span class="e">	0</span>
"is#"<a href="pattern.txt.html#%2F" class="d">/</a>"isnot#" and "is?"<a href="pattern.txt.html#%2F" class="d">/</a>"isnot?" can be used to match and ignore case.
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> this doesn't work, two strings are never identical.

In legacy script, when comparing <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> with <a href="insert.txt.html#a" class="d">a</a> Number, the <a href="eval.txt.html#String" class="d">String</a> <a href="motion.txt.html#is" class="d">is</a>
converted to <a href="insert.txt.html#a" class="d">a</a> Number, and the comparison <a href="motion.txt.html#is" class="d">is</a> done on Numbers.  This means
that: 
<span class="e">	echo 0 == 'x'</span>
<span class="e">	1</span>
because 'x' converted to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> <a href="motion.txt.html#is" class="d">is</a> zero.  However: 
<span class="e">	echo [0] == ['x']</span>
<span class="e">	0</span>
Inside <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> or <a href="eval.txt.html#Tuple" class="d">Tuple</a> or <a href="eval.txt.html#Dictionary" class="d">Dictionary</a> this conversion <a href="motion.txt.html#is" class="d">is</a> not used.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the types <a href="vim_faq.txt.html#must" class="d">must</a> match.

When comparing two Strings, this <a href="motion.txt.html#is" class="d">is</a> done with strcmp() or stricmp().  This
results in the mathematical difference (comparing byte values), not
necessarily the alphabetical difference in the local language.

When using the operators with <a href="insert.txt.html#a" class="d">a</a> trailing '#', or the short version and
<a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> <a href="motion.txt.html#is" class="d">is</a> off, the comparing <a href="motion.txt.html#is" class="d">is</a> done with strcmp(): <a href="change.txt.html#case" class="d">case</a> matters.

When using the operators with <a href="insert.txt.html#a" class="d">a</a> trailing '?', or the short version and
<a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> <a href="motion.txt.html#is" class="d">is</a> set, the comparing <a href="motion.txt.html#is" class="d">is</a> done with stricmp(): <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> ignored.

<a href="options.txt.html#%27smartcase%27" class="o">'smartcase'</a> <a href="motion.txt.html#is" class="d">is</a> not used.

The "=~" and "!~" operators match the lefthand argument with the righthand
argument, which <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> pattern.  See <a href="pattern.txt.html#pattern" class="l">pattern</a> for what <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> is.
This matching <a href="motion.txt.html#is" class="d">is</a> always done like <a href="options.txt.html#%27magic%27" class="o">'magic'</a> was set and <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> <a href="motion.txt.html#is" class="d">is</a> empty, no
matter what the actual value of <a href="options.txt.html#%27magic%27" class="o">'magic'</a> or <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> is.  This makes scripts
portable.  To avoid backslashes in the <a href="pattern.txt.html#regexp" class="d">regexp</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> to be doubled, use <a href="insert.txt.html#a" class="d">a</a>
single-quote string, see <a href="eval.txt.html#literal-string" class="l">literal-string</a><a href="repeat.txt.html#." class="d">.</a>
Since <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#is" class="d">is</a> considered to be <a href="insert.txt.html#a" class="d">a</a> single line, <a href="insert.txt.html#a" class="d">a</a> multi-line <a href="pattern.txt.html#pattern" class="d">pattern</a>
(containing \n, backslash-n) will not match.  However, <a href="insert.txt.html#a" class="d">a</a> literal NL character
can be matched like an ordinary character.  Examples:
	"foo\nbar" =~ "\n"	evaluates to 1
	"foo\nbar" =~ "\\n"	evaluates to <a href="motion.txt.html#0" class="d">0</a>


<a href="eval.txt.html#expr5" class="d">expr5</a>						<span id="expr5" class="t">expr5</span> <span id="bitwise-shift" class="t">bitwise-shift</span>
-----
<a href="eval.txt.html#expr6" class="d">expr6</a> <a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a> <a href="eval.txt.html#expr6" class="d">expr6</a>	bitwise left <a href="intro.txt.html#shift" class="d">shift</a>				<span id="expr-%3C%3C" class="t">expr-&lt;&lt;</span>
<a href="eval.txt.html#expr6" class="d">expr6</a> <a href="change.txt.html#%3E%3E" class="d">&gt;&gt;</a> <a href="eval.txt.html#expr6" class="d">expr6</a>	bitwise right <a href="intro.txt.html#shift" class="d">shift</a>				<span id="expr-%3E%3E" class="t">expr-&gt;&gt;</span>
							<span id="E1282" class="t">E1282</span> <span id="E1283" class="t">E1283</span>
The "<a href="change.txt.html#%3C%3C" class="d">&lt;&lt;</a>" and "<a href="change.txt.html#%3E%3E" class="d">&gt;&gt;</a>" operators can be used to perform bitwise left or right <a href="intro.txt.html#shift" class="d">shift</a>
of the left operand by the number of bits specified by the right operand.  The
operands are used <a href="motion.txt.html#as" class="d">as</a> positive numbers.  When shifting right with "<a href="change.txt.html#%3E%3E" class="d">&gt;&gt;</a>" the
topmost bit (sometimes called the sign bit) <a href="motion.txt.html#is" class="d">is</a> cleared.  If the right operand
(shift amount) <a href="motion.txt.html#is" class="d">is</a> more than the maximum number of bits in <a href="insert.txt.html#a" class="d">a</a> number
<a href="motion.txt.html#%28" class="d">(</a><a href="eval.txt.html#v%3Anumbersize" class="l">v:numbersize</a><a href="motion.txt.html#%29" class="d">)</a> the result <a href="motion.txt.html#is" class="d">is</a> zero.


<a href="eval.txt.html#expr6" class="d">expr6</a> and <a href="eval.txt.html#expr7" class="d">expr7</a>				<span id="expr6" class="t">expr6</span> <span id="expr7" class="t">expr7</span> <span id="E1036" class="t">E1036</span> <span id="E1051" class="t">E1051</span>
<span class="h">---------------</span>
								<span id="expr-%2B" class="t">expr-+</span>
<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="motion.txt.html#%2B" class="d">+</a> <a href="eval.txt.html#expr7" class="d">expr7</a>   <a href="eval.txt.html#Number" class="d">Number</a> addition, <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a> or <a href="eval.txt.html#Blob" class="l">Blob</a> concatenation
<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="motion.txt.html#-" class="d">-</a> <a href="eval.txt.html#expr7" class="d">expr7</a>   <a href="eval.txt.html#Number" class="d">Number</a> subtraction				<span id="expr--" class="t">expr--</span>
<a href="eval.txt.html#expr7" class="d">expr7</a> <a href="repeat.txt.html#." class="d">.</a> <a href="eval.txt.html#expr7" class="d">expr7</a>   <a href="eval.txt.html#String" class="d">String</a> concatenation				<span id="expr-." class="t">expr-.</span>
<a href="eval.txt.html#expr7" class="d">expr7</a> .. <a href="eval.txt.html#expr7" class="d">expr7</a>  <a href="eval.txt.html#String" class="d">String</a> concatenation				<span id="expr-.." class="t">expr-..</span>

For <a href="eval.txt.html#Lists" class="l">Lists</a> only "<a href="motion.txt.html#%2B" class="d">+</a>" <a href="motion.txt.html#is" class="d">is</a> possible and then both <a href="eval.txt.html#expr7" class="d">expr7</a> <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> list.  The
result <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> new <a href="eval.txt.html#list" class="d">list</a> with the two lists concatenated.  Same for <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="repeat.txt.html#." class="d">.</a>

For <a href="eval.txt.html#String" class="d">String</a> concatenation ".." <a href="motion.txt.html#is" class="d">is</a> preferred, since "<a href="repeat.txt.html#." class="d">.</a>" <a href="motion.txt.html#is" class="d">is</a> ambiguous, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> also
used for <a href="eval.txt.html#Dict" class="l">Dict</a> member access and floating point numbers.
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> and when <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a> <a href="motion.txt.html#is" class="d">is</a> 2 or higher, using "<a href="repeat.txt.html#." class="d">.</a>" <a href="motion.txt.html#is" class="d">is</a> not
allowed.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the arguments of ".." are converted to <a href="eval.txt.html#String" class="d">String</a> for simple
types: Number, Float, <a href="eval.txt.html#Special" class="d">Special</a> and Bool.  For other types <a href="builtin.txt.html#string%28%29" class="l">string()</a> should be
used.

<a href="eval.txt.html#expr8" class="d">expr8</a> * <a href="eval.txt.html#expr8" class="d">expr8</a>  <a href="eval.txt.html#Number" class="d">Number</a> multiplication				<span id="expr-star" class="t">expr-star</span>
<a href="eval.txt.html#expr8" class="d">expr8</a> <a href="pattern.txt.html#%2F" class="d">/</a> <a href="eval.txt.html#expr8" class="d">expr8</a>  <a href="eval.txt.html#Number" class="d">Number</a> division					<span id="expr-%2F" class="t">expr-/</span>
<a href="eval.txt.html#expr8" class="d">expr8</a> <a href="motion.txt.html#%25" class="d">%</a> <a href="eval.txt.html#expr8" class="d">expr8</a>  <a href="eval.txt.html#Number" class="d">Number</a> modulo					<span id="expr-%25" class="t">expr-%</span>

In legacy script, for all operators except "<a href="repeat.txt.html#." class="d">.</a>" and ".."<a href="motion.txt.html#%2C" class="d">,</a> Strings are converted
to Numbers.

For bitwise operators see <a href="builtin.txt.html#and%28%29" class="l">and()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#or%28%29" class="l">or()</a> and <a href="builtin.txt.html#xor%28%29" class="l">xor()</a><a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note</span> the difference between "<a href="motion.txt.html#%2B" class="d">+</a>" and ".." in legacy script:
	"123" <a href="motion.txt.html#%2B" class="d">+</a> "456" <a href="change.txt.html#%3D" class="d">=</a> 579
	"123" .. "456" <a href="change.txt.html#%3D" class="d">=</a> "123456"

Since '..' has the same precedence <a href="motion.txt.html#as" class="d">as</a> '+' and '-', you need to read: 
<span class="e">	1 .. 90 + 90.0</span>
As: 
<span class="e">	(1 .. 90) + 90.0</span>
That works in legacy script, since the <a href="eval.txt.html#String" class="d">String</a> "190" <a href="motion.txt.html#is" class="d">is</a> automatically converted
to the <a href="eval.txt.html#Number" class="d">Number</a> 190, which can be added to the <a href="eval.txt.html#Float" class="d">Float</a> 90.0.  However: 
<span class="e">	1 .. 90 * 90.0</span>
Should be read as: 
<span class="e">	1 .. (90 * 90.0)</span>
Since '..' has lower precedence than <a href="motion.txt.html#%27" class="d">'</a>*<a href="motion.txt.html#%27." class="d">'.</a>  This does NOT work, since this
attempts to concatenate <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Float" class="d">Float</a> and <a href="insert.txt.html#a" class="d">a</a> String.

When dividing <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> by zero the result depends on the value:
	  <a href="motion.txt.html#0" class="d">0</a> <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a> -0x80000000	(like NaN for Float)
	 &gt;0 <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a>  0x7fffffff	(like positive infinity)
	 &lt;0 <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a> -0x7fffffff	(like negative infinity)
	(before Vim 7.2 <a href="motion.txt.html#it" class="d">it</a> was always 0x7fffffff)
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> dividing <a href="insert.txt.html#a" class="d">a</a> number by zero <a href="motion.txt.html#is" class="d">is</a> an error.  	<span id="E1154" class="t">E1154</span>

When 64-bit <a href="eval.txt.html#Number" class="d">Number</a> support <a href="motion.txt.html#is" class="d">is</a> enabled:
	  <a href="motion.txt.html#0" class="d">0</a> <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a> -0x8000000000000000	(like NaN for Float)
	 &gt;0 <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a>  0x7fffffffffffffff	(like positive infinity)
	 &lt;0 <a href="pattern.txt.html#%2F" class="d">/</a> <a href="motion.txt.html#0" class="d">0</a>  <a href="change.txt.html#%3D" class="d">=</a> -0x7fffffffffffffff	(like negative infinity)

When the righthand side of '%' <a href="motion.txt.html#is" class="d">is</a> zero, the result <a href="motion.txt.html#is" class="d">is</a> 0.

<a href="eval.txt.html#None" class="d">None</a> of these work for <a href="eval.txt.html#Funcref" class="l">Funcref</a>s.

"<a href="repeat.txt.html#." class="d">.</a>"<a href="motion.txt.html#%2C" class="d">,</a> ".." and "<a href="motion.txt.html#%25" class="d">%</a>" <a href="diff.txt.html#do" class="d">do</a> not work for Float. <span id="E804" class="t">E804</span> <span id="E1035" class="t">E1035</span>


<a href="eval.txt.html#expr8" class="d">expr8</a>							<span id="expr8" class="t">expr8</span>
-----
<span class="s">&lt;type&gt;</span>expr9

This <a href="motion.txt.html#is" class="d">is</a> only available in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script, see <a href="vim9.txt.html#type-casting" class="l">type-casting</a><a href="repeat.txt.html#." class="d">.</a>


<a href="eval.txt.html#expr9" class="d">expr9</a>							<span id="expr9" class="t">expr9</span>
-----
<a href="change.txt.html#%21" class="d">!</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			logical NOT		<span id="expr-%21" class="t">expr-!</span>
<a href="motion.txt.html#-" class="d">-</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			unary minus		<span id="expr-unary--" class="t">expr-unary--</span>
<a href="motion.txt.html#%2B" class="d">+</a> <a href="eval.txt.html#expr9" class="d">expr9</a>			unary plus		<span id="expr-unary-%2B" class="t">expr-unary-+</span>

For '!' <a href="eval.txt.html#TRUE" class="l">TRUE</a> becomes <a href="eval.txt.html#FALSE" class="l">FALSE</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#FALSE" class="l">FALSE</a> becomes <a href="eval.txt.html#TRUE" class="l">TRUE</a> (one).
For '-' the sign of the number <a href="motion.txt.html#is" class="d">is</a> changed.
For '+' the number <a href="motion.txt.html#is" class="d">is</a> unchanged.  <span class="n">Note:</span> "++" has no effect.

In legacy <a href="usr_41.txt.html#script" class="d">script</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> will be converted to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> first.  <span class="n">Note</span> that if
the <a href="eval.txt.html#string" class="d">string</a> does not start with <a href="insert.txt.html#a" class="d">a</a> digit you likely don't get what you expect.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> an error <a href="motion.txt.html#is" class="d">is</a> given when "<a href="motion.txt.html#-" class="d">-</a>" or "<a href="motion.txt.html#%2B" class="d">+</a>" <a href="motion.txt.html#is" class="d">is</a> used and the type <a href="motion.txt.html#is" class="d">is</a> not
<a href="insert.txt.html#a" class="d">a</a> number.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> "<a href="change.txt.html#%21" class="d">!</a>" can be used for any type and the result <a href="motion.txt.html#is" class="d">is</a> always <a href="insert.txt.html#a" class="d">a</a>
boolean.  Use "<a href="change.txt.html#%21%21" class="d">!!</a>" to convert any type to <a href="insert.txt.html#a" class="d">a</a> boolean, according to whether the
value <a href="motion.txt.html#is" class="d">is</a> <a href="eval.txt.html#falsy" class="l">falsy</a><a href="repeat.txt.html#." class="d">.</a>

These three can be repeated and mixed.  Examples:
	!-1	    <a href="change.txt.html#%3D%3D" class="d">==</a> <a href="motion.txt.html#0" class="d">0</a>
	!!8	    <a href="change.txt.html#%3D%3D" class="d">==</a> 1
	--9	    <a href="change.txt.html#%3D%3D" class="d">==</a> 9


<a href="eval.txt.html#expr10" class="d">expr10</a>							<span id="expr10" class="t">expr10</span>
<span class="h">------</span>
This <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> either <a href="eval.txt.html#expr11" class="l">expr11</a> or <a href="insert.txt.html#a" class="d">a</a> sequence of the alternatives below,
in any order.  E.g., these are all possible:
	expr10[expr1].name
	expr10.name[expr1]
	expr10(expr1, ...)[expr1].name
	expr10-&gt;(expr1, ...)[expr1]
Evaluation <a href="motion.txt.html#is" class="d">is</a> always from left to right.

							<span id="expr-%5B%5D" class="t">expr-[]</span> <span id="E111" class="t">E111</span>
expr10[expr1]		item of <a href="eval.txt.html#String" class="d">String</a> or <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a>
						<span id="E909" class="t">E909</span> <span id="subscript" class="t">subscript</span> <span id="E1062" class="t">E1062</span>
In legacy Vim script:
If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> or <a href="eval.txt.html#String" class="d">String</a> this results in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> that contains the
expr1'th single byte from expr10.  <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> (a number <a href="motion.txt.html#is" class="d">is</a>
automatically converted to <a href="insert.txt.html#a" class="d">a</a> String), <a href="eval.txt.html#expr1" class="d">expr1</a> <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> Number.  This doesn't
recognize <a href="mbyte.txt.html#multibyte" class="d">multibyte</a> encodings, see <span class="e">byteidx()</span> for an alternative, or use
<span class="e">split()</span> to turn the <a href="eval.txt.html#string" class="d">string</a> into <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> of characters.  Example, to get the
byte under the cursor: 
<span class="e">	:let c = getline(".")[col(".") - 1]</span>
<span class="e"></span>
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script:  					<span id="E1147" class="t">E1147</span> <span id="E1148" class="t">E1148</span>
If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> this results in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> that contains the expr1'th
single character (including any composing characters) from expr10.  To use
byte indexes use <a href="builtin.txt.html#strpart%28%29" class="l">strpart()</a><a href="repeat.txt.html#." class="d">.</a>

Index zero gives the first byte or character.  Careful: text column numbers
start with one!

If the length of the <a href="eval.txt.html#String" class="d">String</a> <a href="motion.txt.html#is" class="d">is</a> <a href="various.txt.html#less" class="d">less</a> than the index, the result <a href="motion.txt.html#is" class="d">is</a> an empty
String.  <a href="insert.txt.html#A" class="d">A</a> negative <a href="index.txt.html#index" class="d">index</a> always results in an empty <a href="eval.txt.html#string" class="d">string</a> (reason: backward
compatibility).  Use [-1:] to get the last byte or character.
In <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="insert.txt.html#a" class="d">a</a> negative <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> used like with <a href="insert.txt.html#a" class="d">a</a> list: <a href="intro.txt.html#count" class="d">count</a> from the end.

If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> then <a href="motion.txt.html#it" class="d">it</a> results the item <a href="motion.txt.html#at" class="d">at</a> <a href="index.txt.html#index" class="d">index</a> expr1.  See
<a href="eval.txt.html#list-index" class="l">list-index</a> for possible <a href="index.txt.html#index" class="d">index</a> values.  If the <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> out of range this
results in an error.  Example: 
<span class="e">	:let item = mylist[-1]		" get last item</span>
<span class="e"></span>
Generally, if <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> equal to or higher than the length of the
<a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> or more negative than the length of the <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> this results in an
error.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> similar to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#as" class="d">as</a> explained above.


expr10[expr1a <a href="cmdline.txt.html#%3A" class="d">:</a> expr1b]	<a href="eval.txt.html#substring" class="d">substring</a> or <a href="eval.txt.html#sublist" class="l">sublist</a>  		<span id="expr-%5B%3A%5D" class="t">expr-[:]</span> <span id="substring" class="t">substring</span>

If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> this results in the <a href="eval.txt.html#substring" class="d">substring</a> with the bytes or
characters from expr1a to and including expr1b.  <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> String,
expr1a and expr1b are used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> Number.

In legacy Vim <a href="usr_41.txt.html#script" class="d">script</a> the indexes are byte indexes.  This doesn't recognize
<a href="mbyte.txt.html#multibyte" class="d">multibyte</a> encodings, see <a href="builtin.txt.html#byteidx%28%29" class="l">byteidx()</a> for computing the indexes.  If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a>
<a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> first converted to <a href="insert.txt.html#a" class="d">a</a> String.

In <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the indexes are character indexes and include composing
characters.  To use byte indexes use <a href="builtin.txt.html#strpart%28%29" class="l">strpart()</a><a href="repeat.txt.html#." class="d">.</a>  To use character indexes
without including composing characters use <a href="builtin.txt.html#strcharpart%28%29" class="l">strcharpart()</a><a href="repeat.txt.html#." class="d">.</a>

The item <a href="motion.txt.html#at" class="d">at</a> <a href="index.txt.html#index" class="d">index</a> expr1b <a href="motion.txt.html#is" class="d">is</a> included, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> inclusive.  For an <a href="motion.txt.html#exclusive" class="d">exclusive</a> <a href="index.txt.html#index" class="d">index</a>
use the <a href="builtin.txt.html#slice%28%29" class="l">slice()</a> function.

If expr1a <a href="motion.txt.html#is" class="d">is</a> omitted zero <a href="motion.txt.html#is" class="d">is</a> used.  If expr1b <a href="motion.txt.html#is" class="d">is</a> omitted the length of the
<a href="eval.txt.html#string" class="d">string</a> minus one <a href="motion.txt.html#is" class="d">is</a> used.

<a href="insert.txt.html#A" class="d">A</a> negative number can be used to measure from the <a href="intro.txt.html#end" class="d">end</a> of the string.  -1 <a href="motion.txt.html#is" class="d">is</a>
the last character, -2 the last but one, etc.

If an <a href="index.txt.html#index" class="d">index</a> goes out of range for the <a href="eval.txt.html#string" class="d">string</a> characters are omitted.  If
expr1b <a href="motion.txt.html#is" class="d">is</a> smaller than expr1a the result <a href="motion.txt.html#is" class="d">is</a> an empty string.

Examples: 
<span class="e">	:let c = name[-1:]		" last byte of a string</span>
<span class="e">	:let c = name[0:-1]		" the whole string</span>
<span class="e">	:let c = name[-2:-2]		" last but one byte of a string</span>
<span class="e">	:let s = line(".")[4:]		" from the fifth byte to the end</span>
<span class="e">	:let s = s[:-3]			" remove last two bytes</span>

							<span id="slice" class="t">slice</span>
If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> this results in <a href="insert.txt.html#a" class="d">a</a> new <a href="eval.txt.html#List" class="l">List</a> with the items indicated by
the indexes expr1a and expr1b.  This works like with <a href="insert.txt.html#a" class="d">a</a> String, <a href="motion.txt.html#as" class="d">as</a> explained
just above.  Also see <a href="eval.txt.html#sublist" class="l">sublist</a> below.  Examples: 
<span class="e">	:let l = mylist[:3]		" first four items</span>
<span class="e">	:let l = mylist[4:4]		" List with one item</span>
<span class="e">	:let l = mylist[:]		" shallow copy of a List</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> <a href="eval.txt.html#slice" class="d">slice</a> <a href="motion.txt.html#is" class="d">is</a> similar to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> slice.

If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a> this results in <a href="insert.txt.html#a" class="d">a</a> new <a href="eval.txt.html#Blob" class="l">Blob</a> with the bytes in the
indexes expr1a and expr1b, inclusive.  Examples: 
<span class="e">	:let b = 0zDEADBEEF</span>
<span class="e">	:let bs = b[1:2]		" 0zADBE</span>
<span class="e">	:let bs = b[:]			" copy of 0zDEADBEEF</span>
<span class="e"></span>
Using expr10[expr1] or expr10[expr1a <a href="cmdline.txt.html#%3A" class="d">:</a> expr1b] on <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a> results in an
error.

Watch out for confusion between <a href="insert.txt.html#a" class="d">a</a> namespace and <a href="insert.txt.html#a" class="d">a</a> variable followed by <a href="insert.txt.html#a" class="d">a</a> colon
for <a href="insert.txt.html#a" class="d">a</a> sublist: 
<span class="e">	mylist[n:]     " uses variable n</span>
<span class="e">	mylist[s:]     " uses namespace s:, error!</span>
<span class="e"></span>
<span class="e"></span>
expr10.name		entry in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a>  		<span id="expr-entry" class="t">expr-entry</span>
							<span id="E1203" class="t">E1203</span> <span id="E1229" class="t">E1229</span>
If <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> and <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> followed by <a href="insert.txt.html#a" class="d">a</a> dot, then the following
name will be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> key in the <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="repeat.txt.html#." class="d">.</a>  This <a href="motion.txt.html#is" class="d">is</a> just like:
expr10[name].

The name <a href="vim_faq.txt.html#must" class="d">must</a> consist of alphanumeric characters, just like <a href="insert.txt.html#a" class="d">a</a> variable name,
but <a href="motion.txt.html#it" class="d">it</a> may start with <a href="insert.txt.html#a" class="d">a</a> number.  Curly braces cannot be used.

There <a href="vim_faq.txt.html#must" class="d">must</a> not be white <a href="intro.txt.html#space" class="d">space</a> before or after the dot.

Examples: 
<span class="e">	:let dict = {"one": 1, 2: "two"}</span>
<span class="e">	:echo dict.one		" shows "1"</span>
<span class="e">	:echo dict.2		" shows "two"</span>
<span class="e">	:echo dict .2		" error because of space before the dot</span>
<span class="e"></span>
<span class="n">Note</span> that the dot <a href="motion.txt.html#is" class="d">is</a> also used for <a href="eval.txt.html#String" class="d">String</a> concatenation.  To avoid confusion
always <a href="change.txt.html#put" class="d">put</a> spaces around the dot for <a href="eval.txt.html#String" class="d">String</a> concatenation.


expr10(expr1, ...)	<a href="eval.txt.html#Funcref" class="l">Funcref</a> function call  		<span id="E1085" class="t">E1085</span>

When <a href="eval.txt.html#expr10" class="d">expr10</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a> type variable, invoke the function <a href="motion.txt.html#it" class="d">it</a> refers to.


expr10-&gt;name([args])	<a href="eval.txt.html#method" class="d">method</a> call			<span id="method" class="t">method</span> <span id="-%3E" class="t">-&gt;</span>
expr10-&gt;{lambda}([args])
							<span id="E260" class="t">E260</span> <span id="E276" class="t">E276</span> <span id="E1265" class="t">E1265</span>
For methods that are also available <a href="motion.txt.html#as" class="d">as</a> global <a href="eval.txt.html#functions" class="d">functions</a> this <a href="motion.txt.html#is" class="d">is</a> the same as: 
<span class="e">	name(expr10 [, args])</span>
There can also be methods specifically for the type of "<a href="eval.txt.html#expr10" class="d">expr10</a>"<a href="repeat.txt.html#." class="d">.</a>

This allows for chaining, passing the value that one <a href="eval.txt.html#method" class="d">method</a> returns to the
next method: 
<span class="e">	mylist-&gt;filter(filterexpr)-&gt;map(mapexpr)-&gt;sort()-&gt;join()</span>

Example of using <a href="insert.txt.html#a" class="d">a</a> lambda: 
<span class="e">	GetPercentage()-&gt;{x -&gt; x * 100}()-&gt;printf('%d%%')</span>

When using <a href="eval.txt.html#-%3E" class="d">-&gt;</a> the <a href="eval.txt.html#expr9" class="l">expr9</a> operators will be applied first, thus: 
<span class="e">	-1.234-&gt;string()</span>
Is equivalent to: 
<span class="e">	(-1.234)-&gt;string()</span>
And NOT: 
<span class="e">	-(1.234-&gt;string())</span>
<span class="e"></span>
What comes after "<a href="eval.txt.html#-%3E" class="d">-&gt;</a>" can be <a href="insert.txt.html#a" class="d">a</a> name, <a href="insert.txt.html#a" class="d">a</a> simple <a href="eval.txt.html#expression" class="d">expression</a> (not containing any
parenthesis), or any <a href="eval.txt.html#expression" class="d">expression</a> in parentheses: 
<span class="e">	base-&gt;name(args)</span>
<span class="e">	base-&gt;some.name(args)</span>
<span class="e">	base-&gt;alist[idx](args)</span>
<span class="e">	base-&gt;(getFuncRef())(args)</span>
<span class="n">Note</span> that in the last call the base <a href="motion.txt.html#is" class="d">is</a> passed to the function resulting from
"(getFuncRef())"<a href="motion.txt.html#%2C" class="d">,</a> inserted before "args"<a href="repeat.txt.html#." class="d">.</a>  <span id="E1275" class="t">E1275</span>

							<span id="E274" class="t">E274</span>
"-&gt;name(" <a href="vim_faq.txt.html#must" class="d">must</a> not contain white space.  There can be white <a href="intro.txt.html#space" class="d">space</a> before the
"<a href="eval.txt.html#-%3E" class="d">-&gt;</a>" and after the "<a href="motion.txt.html#%28" class="d">(</a>"<a href="motion.txt.html#%2C" class="d">,</a> thus you can split the lines like this: 
<span class="e">	mylist</span>
<span class="e">	\ -&gt;filter(filterexpr)</span>
<span class="e">	\ -&gt;map(mapexpr)</span>
<span class="e">	\ -&gt;sort()</span>
<span class="e">	\ -&gt;join()</span>
<span class="e"></span>
When using the <a href="eval.txt.html#lambda" class="d">lambda</a> form there <a href="vim_faq.txt.html#must" class="d">must</a> be no white <a href="intro.txt.html#space" class="d">space</a> between the <a href="motion.txt.html#%7D" class="d">}</a> and the
(.


							<span id="expr11" class="t">expr11</span>
number
<span class="h">------</span>
number			number constant			<span id="expr-number" class="t">expr-number</span>

			<span id="0x" class="t">0x</span> <span id="hex-number" class="t">hex-number</span> <span id="0o" class="t">0o</span> <span id="octal-number" class="t">octal-number</span> <span id="binary-number" class="t">binary-number</span>
Decimal, Hexadecimal (starting with <a href="eval.txt.html#0x" class="d">0x</a> or 0X), Binary (starting with 0b or 0B)
and Octal (starting with 0, <a href="eval.txt.html#0o" class="d">0o</a> or 0O).

Assuming 64 bit numbers are used (see <a href="eval.txt.html#v%3Anumbersize" class="l">v:numbersize</a><a href="motion.txt.html#%29" class="d">)</a> an unsigned number <a href="motion.txt.html#is" class="d">is</a>
truncated to 0x7fffffffffffffff or 9223372036854775807.  You can use -1 to get
0xffffffffffffffff.

						<span id="floating-point-format" class="t">floating-point-format</span>
Floating point numbers can be written in two forms:

	[-+]{N}.{M}
	[-+]{N}.{M}[eE][-+]{exp}

<span class="s">{N}</span> and <span class="s">{M}</span> are numbers.  Both <span class="s">{N}</span> and <span class="s">{M}</span> <a href="vim_faq.txt.html#must" class="d">must</a> be present and can only
contain digits, except that in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> in <span class="s">{N}</span> single <a href="quotes.txt.html#quotes" class="d">quotes</a> between
digits are ignored.
[-+] means there <a href="motion.txt.html#is" class="d">is</a> an optional plus or minus sign.
<span class="s">{exp}</span> <a href="motion.txt.html#is" class="d">is</a> the exponent, power of 10.
Only <a href="insert.txt.html#a" class="d">a</a> decimal point <a href="motion.txt.html#is" class="d">is</a> accepted, not <a href="insert.txt.html#a" class="d">a</a> comma.  No matter what the current
<a href="mbyte.txt.html#locale" class="d">locale</a> is.

Examples:
	123.456
	+0.0001
	55.0
	-0.123
	1.234e03
	1.0E-6
	-3.1416e+88

These are INVALID:
	3.		empty <span class="s">{M}</span>
	1e40		missing .{M}

Rationale:
Before floating point was introduced, the text "123.456" was interpreted <a href="motion.txt.html#as" class="d">as</a>
the two numbers "123" and "456"<a href="motion.txt.html#%2C" class="d">,</a> both converted to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> and concatenated,
resulting in the <a href="eval.txt.html#string" class="d">string</a> "123456"<a href="repeat.txt.html#." class="d">.</a>  Since this was considered pointless, and we
could not find <a href="motion.txt.html#it" class="d">it</a> intentionally being used in Vim scripts, this backwards
incompatibility was accepted in favor of being able to use the normal <a href="intro.txt.html#notation" class="d">notation</a>
for floating point numbers.

							<span id="float-pi" class="t">float-pi</span> <span id="float-e" class="t">float-e</span>
<a href="insert.txt.html#A" class="d">A</a> few useful values to copy&amp;paste: 
<span class="e">	:let pi = 3.14159265359</span>
<span class="e">	:let e  = 2.71828182846</span>
Or, if you don't want to write them in <a href="motion.txt.html#as" class="d">as</a> floating-point literals, you can
also use functions, like the following: 
<span class="e">	:let pi = acos(-1.0)</span>
<span class="e">	:let e  = exp(1.0)</span>

						<span id="floating-point-precision" class="t">floating-point-precision</span>
The precision and range of floating points numbers depends on what "double"
means in the library Vim was compiled with.  There <a href="motion.txt.html#is" class="d">is</a> no way to change this <a href="motion.txt.html#at" class="d">at</a>
runtime.

The default for displaying <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Float" class="l">Float</a> <a href="motion.txt.html#is" class="d">is</a> to use 6 decimal places, like using
printf("%g"<a href="motion.txt.html#%2C" class="d">,</a> f).  You can select something else when using the <a href="builtin.txt.html#printf%28%29" class="l">printf()</a>
function.  Example: 
<span class="e">	:echo printf('%.15e', atan(1))</span>
	7.853981633974483e-01



<a href="eval.txt.html#string" class="d">string</a>					<span id="string" class="t">string</span> <span id="String" class="t">String</span> <span id="expr-string" class="t">expr-string</span> <span id="E114" class="t">E114</span>
<span class="h">------</span>
"<a href="eval.txt.html#string" class="d">string</a>"		<a href="eval.txt.html#string" class="d">string</a> constant		<span id="expr-quote" class="t">expr-quote</span>

<span class="n">Note</span> that double <a href="quotes.txt.html#quotes" class="d">quotes</a> are used.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#string" class="d">string</a> constant accepts these special characters:
\...	three-digit <a href="eval.txt.html#octal" class="d">octal</a> number (e.g., "\316"<a href="motion.txt.html#%29" class="d">)</a>
\..	two-digit <a href="eval.txt.html#octal" class="d">octal</a> number (must be followed by non-digit)
\.	one-digit <a href="eval.txt.html#octal" class="d">octal</a> number (must be followed by non-digit)
\x..	byte specified with two hex numbers (e.g., "\x1f"<a href="motion.txt.html#%29" class="d">)</a>
\x.	byte specified with one hex number (must be followed by non-hex char)
\X..	same <a href="motion.txt.html#as" class="d">as</a> \x..
\X.	same <a href="motion.txt.html#as" class="d">as</a> \x.
\u....	character specified with up to 4 hex numbers, stored according to the
	current value of <a href="options.txt.html#%27encoding%27" class="o">'encoding'</a> (e.g., "\u02a4"<a href="motion.txt.html#%29" class="d">)</a>
\U....	same <a href="motion.txt.html#as" class="d">as</a> \u but allows up to 8 hex numbers.
\b	<a href="intro.txt.html#backspace" class="d">backspace</a> <a href="motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a>
\e	<a href="intro.txt.html#escape" class="d">escape</a> <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>
\f	formfeed 0x0C
\n	newline <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>
\r	return <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>
\t	<a href="intro.txt.html#tab" class="d">tab</a> <a href="motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>
\\	<a href="intro.txt.html#backslash" class="d">backslash</a>
\"	double <a href="change.txt.html#quote" class="d">quote</a>
\&lt;xxx&gt;	<a href="eval.txt.html#Special" class="d">Special</a> key named "xxx"<a href="repeat.txt.html#." class="d">.</a>  e.g. "\&lt;C-W&gt;" for <a href="index.txt.html#CTRL-W" class="k">CTRL-W</a>.  This <a href="motion.txt.html#is" class="d">is</a> for use
	in mappings, the 0x80 byte <a href="motion.txt.html#is" class="d">is</a> escaped.
	To use the double <a href="change.txt.html#quote" class="d">quote</a> character <a href="motion.txt.html#it" class="d">it</a> <a href="vim_faq.txt.html#must" class="d">must</a> be escaped: "&lt;M-\"<a href="change.txt.html#%3E" class="d">&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>
	Don't use <span class="s">&lt;Char-xxxx&gt;</span> to get <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> character, use \uxxxx <a href="motion.txt.html#as" class="d">as</a>
	mentioned above.
\&lt;*xxx&gt;	Like \&lt;xxx&gt; but prepends <a href="insert.txt.html#a" class="d">a</a> modifier instead of including <a href="motion.txt.html#it" class="d">it</a> in the
	character.  E.g. "\&lt;C-w&gt;" <a href="motion.txt.html#is" class="d">is</a> one character 0x17 while "\&lt;*C-w&gt;" <a href="motion.txt.html#is" class="d">is</a>
	four bytes: 3 for the CTRL modifier and then character "<a href="motion.txt.html#W" class="d">W</a>"<a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note</span> that "\xff" <a href="motion.txt.html#is" class="d">is</a> stored <a href="motion.txt.html#as" class="d">as</a> the byte 255, which may be invalid in some
encodings.  Use "\u00ff" to store character 255 according to the current value
of <a href="options.txt.html#%27encoding%27" class="o">'encoding'</a>.

<span class="n">Note</span> that "\000" and "\x00" force the <a href="intro.txt.html#end" class="d">end</a> of the string.


<a href="eval.txt.html#blob-literal" class="d">blob-literal</a>				<span id="blob-literal" class="t">blob-literal</span> <span id="E973" class="t">E973</span>
<span class="h">------------</span>

Hexadecimal <a href="starting.txt.html#starting" class="d">starting</a> with 0z or 0Z, with an arbitrary number of bytes.
The sequence <a href="vim_faq.txt.html#must" class="d">must</a> be an even number of hex characters.  Example: 
<span class="e">	:let b = 0zFF00ED015DAF</span>
<span class="e"></span>
<span class="e"></span>
<a href="eval.txt.html#literal-string" class="d">literal-string</a>						<span id="literal-string" class="t">literal-string</span> <span id="E115" class="t">E115</span>
<span class="h">---------------</span>
<span class="o">'string'</span>		<a href="eval.txt.html#string" class="d">string</a> constant			<span id="expr-%27" class="t">expr-'</span>

<span class="n">Note</span> that single <a href="quotes.txt.html#quotes" class="d">quotes</a> are used.

This <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#is" class="d">is</a> taken <a href="motion.txt.html#as" class="d">as</a> <a href="motion.txt.html#it" class="d">it</a> is.  No backslashes are removed or have <a href="insert.txt.html#a" class="d">a</a> special
meaning.  The only exception <a href="motion.txt.html#is" class="d">is</a> that two <a href="quotes.txt.html#quotes" class="d">quotes</a> stand for one <a href="change.txt.html#quote." class="d">quote.</a>

Single quoted strings are useful for patterns, so that backslashes <a href="diff.txt.html#do" class="d">do</a> not need
to be doubled.  These two commands are equivalent: 
<span class="e">	if a =~ "\\s*"</span>
<span class="e">	if a =~ '\s*'</span>
<span class="e"></span>
<span class="e"></span>
<a href="eval.txt.html#interpolated-string" class="d">interpolated-string</a>				<span id="%24quote" class="t">$quote</span> <span id="interpolated-string" class="t">interpolated-string</span>
<span class="h">--------------------</span>
<a href="motion.txt.html#%24" class="d">$</a>"<a href="eval.txt.html#string" class="d">string</a>"		interpolated <a href="eval.txt.html#string" class="d">string</a> constant		<span id="expr-%24quote" class="t">expr-$quote</span>
$'string'		interpolated literal <a href="eval.txt.html#string" class="d">string</a> constant	<span id="expr-%24%27" class="t">expr-$'</span>

Interpolated strings are an extension of the <a href="eval.txt.html#string" class="l">string</a> and <a href="eval.txt.html#literal-string" class="l">literal-string</a><a href="motion.txt.html#%2C" class="d">,</a>
allowing the <a href="helphelp.txt.html#inclusion" class="d">inclusion</a> of Vim <a href="usr_41.txt.html#script" class="d">script</a> expressions (see <a href="eval.txt.html#expr1" class="l">expr1</a>).  Any
<a href="eval.txt.html#expression" class="d">expression</a> returning <a href="insert.txt.html#a" class="d">a</a> value can be enclosed between curly braces.  The value
<a href="motion.txt.html#is" class="d">is</a> converted to <a href="insert.txt.html#a" class="d">a</a> string.  All the text and results of the expressions
are concatenated to make <a href="insert.txt.html#a" class="d">a</a> new string.
							<span id="E1278" class="t">E1278</span> <span id="E1279" class="t">E1279</span>
To include an opening brace '{' or closing brace '}' in the <a href="eval.txt.html#string" class="d">string</a> content
double it.  For double quoted strings using <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> also works.  <a href="insert.txt.html#A" class="d">A</a> single
closing brace '}' will result in an error.

Examples: 
<span class="e">	let your_name = input("What's your name? ")</span>
<span class="h">	What's your name?  Peter </span>

<span class="e">	echo</span>
<span class="e">	echo $"Hello, {your_name}!"</span>
<span class="h">	Hello, Peter! </span>

<span class="e">	echo $"The square root of {{9}} is {sqrt(9)}"</span>
<span class="h">	The square root of {9} is 3.0 </span>

						<span id="string-offset-encoding" class="t">string-offset-encoding</span>
<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#string" class="d">string</a> consists of multiple characters.  How the characters are stored
depends on <a href="options.txt.html#%27encoding%27" class="o">'encoding'</a>.  Most common <a href="motion.txt.html#is" class="d">is</a> UTF-8, which uses one byte for ASCII
characters, two bytes for other latin characters and more bytes for other
characters.

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#string" class="d">string</a> offset can <a href="intro.txt.html#count" class="d">count</a> characters or bytes.  Other programs may use
UTF-16 encoding (16-bit words) and an offset of UTF-16 words.  Some <a href="eval.txt.html#functions" class="d">functions</a>
use byte offsets, usually for <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> encoding.  Other <a href="eval.txt.html#functions" class="d">functions</a> use character
offsets, in which <a href="change.txt.html#case" class="d">case</a> the encoding doesn't matter.

The different offsets for the <a href="eval.txt.html#string" class="d">string</a> "<a href="insert.txt.html#a" class="d">a</a>©😊" are below:

  <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> offsets:
      [0]: 61, [1]: C2, [2]: A9, [3]: F0, [4]: 9F, [5]: 98, [6]: 8A
  UTF-16 offsets:
      [0]: 0061, [1]: 00A9, [2]: D83D, [3]: DE0A
  UTF-32 (character) offsets:
      [0]: 00000061, [1]: 000000A9, [2]: 0001F60A

You can use the "<a href="various.txt.html#g8" class="d">g8</a>" and "<a href="various.txt.html#ga" class="d">ga</a>" commands on <a href="insert.txt.html#a" class="d">a</a> character to see the
decimal/hex/octal values.

The <a href="eval.txt.html#functions" class="d">functions</a> <a href="builtin.txt.html#byteidx%28%29" class="l">byteidx()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#utf16idx%28%29" class="l">utf16idx()</a> and <a href="builtin.txt.html#charidx%28%29" class="l">charidx()</a> can be used to convert
between these indices.  The <a href="eval.txt.html#functions" class="d">functions</a> <a href="builtin.txt.html#strlen%28%29" class="l">strlen()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#strutf16len%28%29" class="l">strutf16len()</a> and
<a href="builtin.txt.html#strcharlen%28%29" class="l">strcharlen()</a> return the number of bytes, UTF-16 code units and characters in
<a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> respectively.

option						<span id="expr-option" class="t">expr-option</span> <span id="E112" class="t">E112</span> <span id="E113" class="t">E113</span>
<span class="h">------</span>
&amp;option			option value, local value if possible
&amp;g:option		global option value
&amp;l:option		local option value

Examples: 
<span class="e">	echo "tabstop is " .. &amp;tabstop</span>
<span class="e">	if &amp;insertmode</span>
<span class="e"></span>
Any option name can be used here.  See <a href="options.txt.html#options" class="l">options</a><a href="repeat.txt.html#." class="d">.</a>  When using the local value
and there <a href="motion.txt.html#is" class="d">is</a> no buffer-local or window-local value, the global value <a href="motion.txt.html#is" class="d">is</a> used
anyway.


register						<span id="expr-register" class="t">expr-register</span> <span id="%40r" class="t">@r</span>
<span class="h">--------</span>
<a href="eval.txt.html#%40r" class="d">@r</a>			contents of register 'r'

The result <a href="motion.txt.html#is" class="d">is</a> the contents of the named register, <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> single string.
Newlines are inserted where required.  To get the contents of the unnamed
register use <a href="repeat.txt.html#%40" class="d">@</a>" or @@.  See <a href="change.txt.html#registers" class="l">registers</a> for an explanation of the available
registers.

When using the '=' register you get the <a href="eval.txt.html#expression" class="d">expression</a> itself, not what <a href="motion.txt.html#it" class="d">it</a>
evaluates to.  Use <a href="builtin.txt.html#eval%28%29" class="l">eval()</a> to evaluate it.


nesting						<span id="expr-nesting" class="t">expr-nesting</span> <span id="E110" class="t">E110</span>
<span class="h">-------</span>
(expr1)			nested <a href="eval.txt.html#expression" class="d">expression</a>


environment variable					<span id="expr-env" class="t">expr-env</span>
<span class="h">--------------------</span>
$VAR			environment variable

The <a href="eval.txt.html#String" class="d">String</a> value of any environment variable.  When <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not defined, the
result <a href="motion.txt.html#is" class="d">is</a> an empty string.

The <a href="eval.txt.html#functions" class="d">functions</a> <span class="e">getenv()</span> and <span class="e">setenv()</span> can also be used and work for
environment <a href="eval.txt.html#variables" class="d">variables</a> with non-alphanumeric names.
The function <span class="e">environ()</span> can be used to get <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dict" class="d">Dict</a> with all environment
variables.


						<span id="expr-env-expand" class="t">expr-env-expand</span>
<span class="n">Note</span> that there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> difference between using $VAR directly and using
expand("$VAR").  Using <a href="motion.txt.html#it" class="d">it</a> directly will only expand environment <a href="eval.txt.html#variables" class="d">variables</a> that
are known inside the current Vim session.  Using <a href="builtin.txt.html#expand%28%29" class="d">expand()</a> will first try using
the environment <a href="eval.txt.html#variables" class="d">variables</a> known inside the current Vim session.  If that
fails, <a href="insert.txt.html#a" class="d">a</a> shell will be used to expand the variable.  This can be slow, but <a href="motion.txt.html#it" class="d">it</a>
does expand all <a href="eval.txt.html#variables" class="d">variables</a> that the shell knows about.  Example: 
<span class="e">	:echo $shell</span>
<span class="e">	:echo expand("$shell")</span>
The first one probably doesn't echo anything, the second echoes the $shell
variable (if your shell supports it).


internal variable			<span id="expr-variable" class="t">expr-variable</span> <span id="E1015" class="t">E1015</span> <span id="E1089" class="t">E1089</span>
<span class="h">-----------------</span>
variable		internal variable
See below <a href="eval.txt.html#internal-variables" class="l">internal-variables</a><a href="repeat.txt.html#." class="d">.</a>


function call		<span id="expr-function" class="t">expr-function</span> <span id="E116" class="t">E116</span> <span id="E118" class="t">E118</span> <span id="E119" class="t">E119</span> <span id="E120" class="t">E120</span>
<span class="h">-------------</span>
function(expr1, ...)	function call
See below <a href="eval.txt.html#functions" class="l">functions</a><a href="repeat.txt.html#." class="d">.</a>


<a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a>				<span id="expr-lambda" class="t">expr-lambda</span> <span id="lambda" class="t">lambda</span>
<span class="h">-----------------</span>
<span class="s">{args -&gt; expr1}</span>		legacy <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a>		<span id="E451" class="t">E451</span>
(args) =&gt; <a href="eval.txt.html#expr1" class="d">expr1</a>		<a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a>

<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a> creates <a href="insert.txt.html#a" class="d">a</a> new unnamed function which returns the result of
evaluating <a href="eval.txt.html#expr1" class="l">expr1</a><a href="repeat.txt.html#." class="d">.</a>  Lambda expressions differ from <a href="eval.txt.html#user-functions" class="l">user-functions</a> in
the following ways:

1. The body of the <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> an <a href="eval.txt.html#expr1" class="l">expr1</a> and not <a href="insert.txt.html#a" class="d">a</a> sequence of <a href="intro.txt.html#Ex" class="l">Ex</a>
   commands.
2. The prefix "a:" should not be used for arguments.  E.g.: 
<span class="e">	:let F = {arg1, arg2 -&gt; arg1 - arg2}</span>
<span class="e">	:echo F(5, 2)</span>
	3

The arguments are optional.  Example: 
<span class="e">	:let F = {-&gt; 'error function'}</span>
<span class="e">	:echo F('ignored')</span>
	error function

The <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="eval.txt.html#lambda" class="d">lambda</a> does not only use <a href="insert.txt.html#a" class="d">a</a> different syntax, <a href="motion.txt.html#it" class="d">it</a> also adds type
checking and can be split over multiple lines, see <a href="vim9.txt.html#vim9-lambda" class="l">vim9-lambda</a><a href="repeat.txt.html#." class="d">.</a>

							<span id="closure" class="t">closure</span>
Lambda expressions can access outer scope <a href="eval.txt.html#variables" class="d">variables</a> and arguments.  This <a href="motion.txt.html#is" class="d">is</a>
often called <a href="insert.txt.html#a" class="d">a</a> closure.  Example where "<a href="insert.txt.html#i" class="d">i</a>" and "a:arg" are used in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#lambda" class="d">lambda</a>
while they already exist in the function scope.  They remain valid even after
the function returns: 
<span class="e">	:function Foo(arg)</span>
<span class="e">	:  let i = 3</span>
<span class="e">	:  return {x -&gt; x + i - a:arg}</span>
<span class="e">	:endfunction</span>
<span class="e">	:let Bar = Foo(4)</span>
<span class="e">	:echo Bar(6)</span>
	5

<span class="n">Note</span> that the <a href="eval.txt.html#variables" class="d">variables</a> <a href="vim_faq.txt.html#must" class="d">must</a> exist in the outer scope before the <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="motion.txt.html#is" class="d">is</a>
defined for this to work.  See also <a href="userfunc.txt.html#%3Afunc-closure" class="l">:func-closure</a><a href="repeat.txt.html#." class="d">.</a>

Lambda and <a href="eval.txt.html#closure" class="d">closure</a> support can be checked with: 
<span class="e">	if has('lambda')</span>
<span class="e"></span>
Examples for using <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a> with <a href="builtin.txt.html#sort%28%29" class="l">sort()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="builtin.txt.html#map%28%29" class="l">map()</a> and <a href="builtin.txt.html#filter%28%29" class="l">filter()</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">	:echo map([1, 2, 3], {idx, val -&gt; val + 1})</span>
	[2, 3, 4] 
<span class="e">	:echo sort([3,7,2,1,4], {a, b -&gt; a - b})</span>
	[1, 2, 3, 4, 7]

The <a href="eval.txt.html#lambda" class="d">lambda</a> <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> also useful for Channel, <a href="eval.txt.html#Job" class="d">Job</a> and timer: 
<span class="e">	:let timer = timer_start(500,</span>
<span class="e">			\ {-&gt; execute("echo 'Handler called'", "")},</span>
<span class="e">			\ {'repeat': 3})</span>
	Handler called
	Handler called
	Handler called

<span class="n">Note</span> that <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> possible to cause memory to be used and not freed if the
<a href="eval.txt.html#closure" class="d">closure</a> <a href="motion.txt.html#is" class="d">is</a> referenced by the context <a href="motion.txt.html#it" class="d">it</a> depends on: 
<span class="e">	function Function()</span>
<span class="e">	   let x = 0</span>
<span class="e">	   let F = {-&gt; x}</span>
<span class="e">	 endfunction</span>
The <a href="eval.txt.html#closure" class="d">closure</a> uses "<a href="change.txt.html#x" class="d">x</a>" from the function scope, and "<a href="motion.txt.html#F" class="d">F</a>" in that same scope
refers to the closure.  This cycle results in the memory not being freed.
Recommendation: don't <a href="diff.txt.html#do" class="d">do</a> this.

Notice how <a href="builtin.txt.html#execute%28%29" class="d">execute()</a> <a href="motion.txt.html#is" class="d">is</a> used to execute an <a href="intro.txt.html#Ex" class="d">Ex</a> command.  That's ugly though.
In <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> you can use <a href="insert.txt.html#a" class="d">a</a> command block, see <a href="vim9.txt.html#inline-function" class="l">inline-function</a><a href="repeat.txt.html#." class="d">.</a>

Although you can use the loop variable of <a href="insert.txt.html#a" class="d">a</a> <span class="e">for</span> command, <a href="motion.txt.html#it" class="d">it</a> <a href="vim_faq.txt.html#must" class="d">must</a> still exist
when the <a href="eval.txt.html#closure" class="d">closure</a> <a href="motion.txt.html#is" class="d">is</a> called, otherwise you get an error.  <span id="E1302" class="t">E1302</span>

Lambda expressions have internal names like '&lt;lambda&gt;42'.  If you get an error
for <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#lambda" class="d">lambda</a> expression, you can find what <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> with the following command: 
<span class="e">	:function &lt;lambda&gt;42</span>
See also: <a href="eval.txt.html#numbered-function" class="l">numbered-function</a>

<span class="h">==============================================================================</span>
3. Internal variable			<span id="internal-variables" class="t">internal-variables</span> <span id="E461" class="t">E461</span> <span id="E1001" class="t">E1001</span>

An internal variable name can be made up of letters, digits and '_'.  But <a href="motion.txt.html#it" class="d">it</a>
cannot start with <a href="insert.txt.html#a" class="d">a</a> digit.  In legacy <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> also possible to use curly
braces, see <a href="eval.txt.html#curly-braces-names" class="l">curly-braces-names</a><a href="repeat.txt.html#." class="d">.</a>

In legacy <a href="usr_41.txt.html#script" class="d">script</a> an internal variable <a href="motion.txt.html#is" class="d">is</a> created with the "<a href="eval.txt.html#%3Alet" class="d">:let</a>" command
<a href="eval.txt.html#%3Alet" class="l">:let</a><a href="repeat.txt.html#." class="d">.</a>  An internal variable <a href="motion.txt.html#is" class="d">is</a> explicitly destroyed with the "<a href="eval.txt.html#%3Aunlet" class="d">:unlet</a>"
command <a href="eval.txt.html#%3Aunlet" class="l">:unlet</a><a href="repeat.txt.html#." class="d">.</a>
Using <a href="insert.txt.html#a" class="d">a</a> name that <a href="motion.txt.html#is" class="d">is</a> not an internal variable or refers to <a href="insert.txt.html#a" class="d">a</a> variable that has
been destroyed results in an error.

In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:let</span> <a href="motion.txt.html#is" class="d">is</a> not used and <a href="eval.txt.html#variables" class="d">variables</a> work differently, see <a href="vim9.txt.html#%3Avar" class="l">:var</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="variable-scope" class="t">variable-scope</span>
There are several name spaces for variables.  Which one <a href="motion.txt.html#is" class="d">is</a> to be used <a href="motion.txt.html#is" class="d">is</a>
specified by what <a href="motion.txt.html#is" class="d">is</a> prepended:

		(nothing) In <a href="insert.txt.html#a" class="d">a</a> function: local to the function;
			  in <a href="insert.txt.html#a" class="d">a</a> legacy script: global;
			  in <a href="insert.txt.html#a" class="d">a</a> <a href="vim9.txt.html#Vim9" class="l">Vim9</a>  script: local to the <a href="usr_41.txt.html#script" class="d">script</a>
<a href="eval.txt.html#buffer-variable" class="l">buffer-variable</a>    <a href="eval.txt.html#b%3A" class="d">b:</a>  	  Local to the current buffer.
<a href="eval.txt.html#window-variable" class="l">window-variable</a>    <a href="eval.txt.html#w%3A" class="d">w:</a>  	  Local to the current window.
<a href="eval.txt.html#tabpage-variable" class="l">tabpage-variable</a>   <a href="eval.txt.html#t%3A" class="d">t:</a>  	  Local to the current <a href="intro.txt.html#tab" class="d">tab</a> page.
<a href="eval.txt.html#global-variable" class="l">global-variable</a>    <a href="eval.txt.html#g%3A" class="d">g:</a>  	  Global.
<a href="eval.txt.html#local-variable" class="l">local-variable</a>     <a href="eval.txt.html#l%3A" class="d">l:</a>  	  Local to <a href="insert.txt.html#a" class="d">a</a> function (only in <a href="insert.txt.html#a" class="d">a</a> legacy function)
<a href="eval.txt.html#script-variable" class="l">script-variable</a>    s:  	  Local to <a href="insert.txt.html#a" class="d">a</a> <a href="repeat.txt.html#%3Asource" class="l">:source</a>'ed Vim script.
<a href="userfunc.txt.html#function-argument" class="l">function-argument</a>  a:  	  Function argument (only in <a href="insert.txt.html#a" class="d">a</a> legacy function).
<a href="eval.txt.html#vim-variable" class="l">vim-variable</a>       <a href="eval.txt.html#v%3A" class="d">v:</a>  	  Global, predefined by Vim.

The scope name by itself can be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="repeat.txt.html#." class="d">.</a>  For example, to
delete all <a href="map.txt.html#script-local" class="d">script-local</a> variables: 
<span class="e">	:for k in keys(s:)</span>
<span class="e">	:    unlet s:[k]</span>
<span class="e">	:endfor</span>
<span class="e"></span>
<span class="n">Note:</span> in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> can also be local to <a href="insert.txt.html#a" class="d">a</a> block of commands, see
<a href="vim9.txt.html#vim9-scopes" class="l">vim9-scopes</a><a href="repeat.txt.html#." class="d">.</a>
						<span id="buffer-variable" class="t">buffer-variable</span> <span id="b%3Avar" class="t">b:var</span> <span id="b%3A" class="t">b:</span>
<a href="insert.txt.html#A" class="d">A</a> variable name that <a href="motion.txt.html#is" class="d">is</a> preceded with "<a href="eval.txt.html#b%3A" class="d">b:</a>" <a href="motion.txt.html#is" class="d">is</a> local to the current buffer.
Thus you can have several "b:foo" variables, one for each buffer.
This kind of variable <a href="motion.txt.html#is" class="d">is</a> deleted when the buffer <a href="motion.txt.html#is" class="d">is</a> wiped out or deleted with
<a href="windows.txt.html#%3Abdelete" class="l">:bdelete</a><a href="repeat.txt.html#." class="d">.</a>

One local buffer variable <a href="motion.txt.html#is" class="d">is</a> predefined:
					<span id="b%3Achangedtick" class="t">b:changedtick</span> <span id="changetick" class="t">changetick</span>
<a href="eval.txt.html#b%3Achangedtick" class="d">b:changedtick</a>	The total number of changes to the current buffer.  It <a href="motion.txt.html#is" class="d">is</a>
		incremented for each change.  An <a href="undo.txt.html#undo" class="d">undo</a> command <a href="motion.txt.html#is" class="d">is</a> also <a href="insert.txt.html#a" class="d">a</a> change
		in this case.  Resetting <a href="options.txt.html#%27modified%27" class="o">'modified'</a> when <a href="editing.txt.html#writing" class="d">writing</a> the buffer <a href="motion.txt.html#is" class="d">is</a>
		also counted.
		This can be used to perform an action only when the buffer has
		changed.  Example: 
<span class="e">		    :if my_changedtick != b:changedtick</span>
<span class="e">		    :	let my_changedtick = b:changedtick</span>
<span class="e">		    :	call My_Update()</span>
<span class="e">		    :endif</span>
		You cannot change or delete the <a href="eval.txt.html#b%3Achangedtick" class="d">b:changedtick</a> variable.
		If you need more information about the change see
		<a href="builtin.txt.html#listener_add%28%29" class="l">listener_add()</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="window-variable" class="t">window-variable</span> <span id="w%3Avar" class="t">w:var</span> <span id="w%3A" class="t">w:</span>
<a href="insert.txt.html#A" class="d">A</a> variable name that <a href="motion.txt.html#is" class="d">is</a> preceded with "<a href="eval.txt.html#w%3A" class="d">w:</a>" <a href="motion.txt.html#is" class="d">is</a> local to the current window.  It
<a href="motion.txt.html#is" class="d">is</a> deleted when the <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a> closed.

						<span id="tabpage-variable" class="t">tabpage-variable</span> <span id="t%3Avar" class="t">t:var</span> <span id="t%3A" class="t">t:</span>
<a href="insert.txt.html#A" class="d">A</a> variable name that <a href="motion.txt.html#is" class="d">is</a> preceded with "<a href="eval.txt.html#t%3A" class="d">t:</a>" <a href="motion.txt.html#is" class="d">is</a> local to the current <a href="intro.txt.html#tab" class="d">tab</a> page,
It <a href="motion.txt.html#is" class="d">is</a> deleted when the <a href="intro.txt.html#tab" class="d">tab</a> page <a href="motion.txt.html#is" class="d">is</a> closed. {not available when compiled
without the <a href="various.txt.html#%2Bwindows" class="l">+windows</a> feature}

						<span id="global-variable" class="t">global-variable</span> <span id="g%3Avar" class="t">g:var</span> <span id="g%3A" class="t">g:</span>
Inside <a href="eval.txt.html#functions" class="d">functions</a> and in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> global <a href="eval.txt.html#variables" class="d">variables</a> are accessed with "<a href="eval.txt.html#g%3A" class="d">g:</a>"<a href="repeat.txt.html#." class="d">.</a>
Omitting this will access <a href="insert.txt.html#a" class="d">a</a> variable local to <a href="insert.txt.html#a" class="d">a</a> function or script.  "<a href="eval.txt.html#g%3A" class="d">g:</a>"
can also be used in any other place if you like.

						<span id="local-variable" class="t">local-variable</span> <span id="l%3Avar" class="t">l:var</span> <span id="l%3A" class="t">l:</span>
Inside <a href="eval.txt.html#functions" class="d">functions</a> local <a href="eval.txt.html#variables" class="d">variables</a> are accessed without prepending anything.
But you can also prepend "<a href="eval.txt.html#l%3A" class="d">l:</a>" if you like.  However, without prepending "<a href="eval.txt.html#l%3A" class="d">l:</a>"
you may run into reserved variable names.  For example "<a href="intro.txt.html#count" class="d">count</a>"<a href="repeat.txt.html#." class="d">.</a>  By itself <a href="motion.txt.html#it" class="d">it</a>
refers to "<a href="eval.txt.html#v%3Acount" class="d">v:count</a>"<a href="repeat.txt.html#." class="d">.</a>  Using "l:count" you can have <a href="insert.txt.html#a" class="d">a</a> local variable with the
same name.

						<span id="script-variable" class="t">script-variable</span> <span id="s%3Avar" class="t">s:var</span>
In <a href="insert.txt.html#a" class="d">a</a> legacy Vim <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> <a href="starting.txt.html#starting" class="d">starting</a> with "s:" can be used.  They cannot
be accessed from outside of the scripts, thus are local to the script.
In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the "s:" prefix can be omitted, <a href="eval.txt.html#variables" class="d">variables</a> are <a href="map.txt.html#script-local" class="d">script-local</a> by
default.

They can be used in:
<a href="motion.txt.html#-" class="d">-</a> commands executed while the <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> sourced
<a href="motion.txt.html#-" class="d">-</a> <a href="eval.txt.html#functions" class="d">functions</a> defined in the <a href="usr_41.txt.html#script" class="d">script</a>
<a href="motion.txt.html#-" class="d">-</a> <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> defined in the <a href="usr_41.txt.html#script" class="d">script</a>
<a href="motion.txt.html#-" class="d">-</a> <a href="eval.txt.html#functions" class="d">functions</a> and <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> defined in <a href="eval.txt.html#functions" class="d">functions</a> and <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> which were
  defined in the <a href="usr_41.txt.html#script" class="d">script</a> (recursively)
<a href="motion.txt.html#-" class="d">-</a> user defined commands defined in the <a href="usr_41.txt.html#script" class="d">script</a>
Thus not in:
<a href="motion.txt.html#-" class="d">-</a> other scripts sourced from this one
<a href="motion.txt.html#-" class="d">-</a> mappings
<a href="motion.txt.html#-" class="d">-</a> <a href="gui.txt.html#menus" class="d">menus</a>
<a href="motion.txt.html#-" class="d">-</a> etc.

Script <a href="eval.txt.html#variables" class="d">variables</a> can be used to avoid conflicts with global variable names.
Take this example: 
<span class="e"></span>
<span class="e">	let s:counter = 0</span>
<span class="e">	function MyCounter()</span>
<span class="e">	  let s:counter = s:counter + 1</span>
<span class="e">	  echo s:counter</span>
<span class="e">	endfunction</span>
<span class="e">	command Tick call MyCounter()</span>
<span class="e"></span>
You can now invoke "Tick" from any script, and the "s:counter" variable in
that <a href="usr_41.txt.html#script" class="d">script</a> will not be changed, only the "s:counter" in the <a href="usr_41.txt.html#script" class="d">script</a> where
"Tick" was defined <a href="motion.txt.html#is" class="d">is</a> used.

Another example that does the same: 
<span class="e"></span>
<span class="e">	let s:counter = 0</span>
<span class="e">	command Tick let s:counter = s:counter + 1 | echo s:counter</span>
<span class="e"></span>
When calling <a href="insert.txt.html#a" class="d">a</a> function and invoking <a href="insert.txt.html#a" class="d">a</a> user-defined command, the context for
<a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> <a href="motion.txt.html#is" class="d">is</a> set to the <a href="usr_41.txt.html#script" class="d">script</a> where the function or command was
defined.

The <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> are also available when <a href="insert.txt.html#a" class="d">a</a> function <a href="motion.txt.html#is" class="d">is</a> defined inside <a href="insert.txt.html#a" class="d">a</a>
function that <a href="motion.txt.html#is" class="d">is</a> defined in <a href="insert.txt.html#a" class="d">a</a> script.  Example: 
<span class="e"></span>
<span class="e">	let s:counter = 0</span>
<span class="e">	function StartCounting(incr)</span>
<span class="e">	  if a:incr</span>
<span class="e">	    function MyCounter()</span>
<span class="e">	      let s:counter = s:counter + 1</span>
<span class="e">	    endfunction</span>
<span class="e">	  else</span>
<span class="e">	    function MyCounter()</span>
<span class="e">	      let s:counter = s:counter - 1</span>
<span class="e">	    endfunction</span>
<span class="e">	  endif</span>
<span class="e">	endfunction</span>
<span class="e"></span>
This defines the MyCounter() function either for counting up or counting down
when calling StartCounting().  It doesn't matter from where StartCounting() <a href="motion.txt.html#is" class="d">is</a>
called, the s:counter variable will be accessible in MyCounter().

When the same <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> sourced again <a href="motion.txt.html#it" class="d">it</a> will use the same <a href="usr_41.txt.html#script" class="d">script</a> variables.
They will remain valid <a href="motion.txt.html#as" class="d">as</a> long <a href="motion.txt.html#as" class="d">as</a> Vim <a href="motion.txt.html#is" class="d">is</a> running.  This can be used to
maintain <a href="insert.txt.html#a" class="d">a</a> counter: 
<span class="e"></span>
<span class="e">	if !exists("s:counter")</span>
<span class="e">	  let s:counter = 1</span>
<span class="e">	  echo "script executed for the first time"</span>
<span class="e">	else</span>
<span class="e">	  let s:counter = s:counter + 1</span>
<span class="e">	  echo "script executed " .. s:counter .. " times now"</span>
<span class="e">	endif</span>
<span class="e"></span>
<span class="n">Note</span> that this means that <a href="filetype.txt.html#filetype" class="d">filetype</a> plugins don't get <a href="insert.txt.html#a" class="d">a</a> different set of <a href="usr_41.txt.html#script" class="d">script</a>
<a href="eval.txt.html#variables" class="d">variables</a> for each buffer.  Use local buffer <a href="eval.txt.html#variables" class="d">variables</a> instead <a href="eval.txt.html#b%3Avar" class="l">b:var</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">PREDEFINED VIM VARIABLES</span>			<span id="vim-variable" class="t">vim-variable</span> <span id="v%3Avar" class="t">v:var</span> <span id="v%3A" class="t">v:</span>
							<span id="E963" class="t">E963</span> <span id="E1063" class="t">E1063</span>
Most <a href="eval.txt.html#variables" class="d">variables</a> are read-only, when <a href="insert.txt.html#a" class="d">a</a> variable can be set by the user, <a href="motion.txt.html#it" class="d">it</a> will
be mentioned <a href="motion.txt.html#at" class="d">at</a> the variable description below.  The type cannot be changed.

					<span id="v%3Aargv" class="t">v:argv</span> <span id="argv-variable" class="t">argv-variable</span>
<a href="eval.txt.html#v%3Aargv" class="d">v:argv</a>		The command line arguments Vim was invoked with.  This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
		<a href="eval.txt.html#list" class="d">list</a> of strings.  The first item <a href="motion.txt.html#is" class="d">is</a> the Vim command.
		See <a href="eval.txt.html#v%3Aprogpath" class="l">v:progpath</a> for the command with full path.

					<span id="v%3Abeval_col" class="t">v:beval_col</span> <span id="beval_col-variable" class="t">beval_col-variable</span>
<a href="eval.txt.html#v%3Abeval_col" class="d">v:beval_col</a>	The number of the column, over which the mouse pointer is.
		This <a href="motion.txt.html#is" class="d">is</a> the byte <a href="index.txt.html#index" class="d">index</a> in the <a href="eval.txt.html#v%3Abeval_lnum" class="l">v:beval_lnum</a> line.
		Only valid while evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> option.

					<span id="v%3Abeval_bufnr" class="t">v:beval_bufnr</span> <span id="beval_bufnr-variable" class="t">beval_bufnr-variable</span>
<a href="eval.txt.html#v%3Abeval_bufnr" class="d">v:beval_bufnr</a>	The number of the buffer, over which the mouse pointer is.
		Only valid while evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> option.

					<span id="v%3Abeval_lnum" class="t">v:beval_lnum</span> <span id="beval_lnum-variable" class="t">beval_lnum-variable</span>
<a href="eval.txt.html#v%3Abeval_lnum" class="d">v:beval_lnum</a>	The number of the line, over which the mouse pointer is.  Only
		valid while evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> option.

					<span id="v%3Abeval_text" class="t">v:beval_text</span> <span id="beval_text-variable" class="t">beval_text-variable</span>
<a href="eval.txt.html#v%3Abeval_text" class="d">v:beval_text</a>	The text under or after the mouse pointer.  Usually <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#word" class="d">word</a> <a href="motion.txt.html#as" class="d">as</a>
		<a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> useful for debugging <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#C" class="d">C</a> program.  <a href="options.txt.html#%27iskeyword%27" class="o">'iskeyword'</a> applies,
		but <a href="insert.txt.html#a" class="d">a</a> dot and "<a href="eval.txt.html#-%3E" class="d">-&gt;</a>" before the position <a href="motion.txt.html#is" class="d">is</a> included.  When on <a href="insert.txt.html#a" class="d">a</a>
		']' the text before <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used, including the matching '[' and
		<a href="motion.txt.html#word" class="d">word</a> before it.  When on <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#Visual" class="d">Visual</a> area within one line the
		highlighted text <a href="motion.txt.html#is" class="d">is</a> used.  Also see <a href="cmdline.txt.html#%3Ccexpr%3E" class="l">&lt;cexpr&gt;</a><a href="repeat.txt.html#." class="d">.</a>
		Only valid while evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> option.

					<span id="v%3Abeval_winnr" class="t">v:beval_winnr</span> <span id="beval_winnr-variable" class="t">beval_winnr-variable</span>
<a href="eval.txt.html#v%3Abeval_winnr" class="d">v:beval_winnr</a>	The number of the window, over which the mouse pointer is.
		Only valid while evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> option.  The
		first <a href="windows.txt.html#window" class="d">window</a> has number zero (unlike most other places where <a href="insert.txt.html#a" class="d">a</a>
		<a href="windows.txt.html#window" class="d">window</a> gets <a href="insert.txt.html#a" class="d">a</a> number).

					<span id="v%3Abeval_winid" class="t">v:beval_winid</span> <span id="beval_winid-variable" class="t">beval_winid-variable</span>
<a href="eval.txt.html#v%3Abeval_winid" class="d">v:beval_winid</a>	The <a href="windows.txt.html#window-ID" class="l">window-ID</a> of the window, over which the mouse pointer
		is.  Otherwise like v:beval_winnr.

					<span id="v%3Achar" class="t">v:char</span> <span id="char-variable" class="t">char-variable</span>
<a href="eval.txt.html#v%3Achar" class="d">v:char</a>		Argument for evaluating <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> and used for the typed
		character when using <span class="s">&lt;expr&gt;</span> in an abbreviation <a href="map.txt.html#%3Amap-%3Cexpr%3E" class="l">:map-&lt;expr&gt;</a><a href="repeat.txt.html#." class="d">.</a>
		It <a href="motion.txt.html#is" class="d">is</a> also used by the <a href="autocmd.txt.html#InsertCharPre" class="l">InsertCharPre</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="autocmd.txt.html#InsertEnter" class="l">InsertEnter</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="autocmd.txt.html#KeyInputPre" class="l">KeyInputPre</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="autocmd.txt.html#CmdlineLeave" class="l">CmdlineLeave</a> and <a href="autocmd.txt.html#CmdlineLeavePre" class="l">CmdlineLeavePre</a> events.

			<span id="v%3Acharconvert_from" class="t">v:charconvert_from</span> <span id="charconvert_from-variable" class="t">charconvert_from-variable</span>
<a href="eval.txt.html#v%3Acharconvert_from" class="d">v:charconvert_from</a>
		The name of the character encoding of <a href="insert.txt.html#a" class="d">a</a> file to be converted.
		Only valid while evaluating the <a href="options.txt.html#%27charconvert%27" class="o">'charconvert'</a> option.

			<span id="v%3Acharconvert_to" class="t">v:charconvert_to</span> <span id="charconvert_to-variable" class="t">charconvert_to-variable</span>
<a href="eval.txt.html#v%3Acharconvert_to" class="d">v:charconvert_to</a>
		The name of the character encoding of <a href="insert.txt.html#a" class="d">a</a> file after conversion.
		Only valid while evaluating the <a href="options.txt.html#%27charconvert%27" class="o">'charconvert'</a> option.

					<span id="v%3Aclipmethod" class="t">v:clipmethod</span>
<a href="eval.txt.html#v%3Aclipmethod" class="d">v:clipmethod</a>	The current <a href="eval.txt.html#method" class="d">method</a> of accessing the <a href="gui.txt.html#clipboard" class="d">clipboard</a> that <a href="motion.txt.html#is" class="d">is</a> being
		used.  Can either have the value of:
			<a href="wayland.txt.html#wayland" class="d">wayland</a>		The Wayland protocol <a href="motion.txt.html#is" class="d">is</a> being used.
			x11		<a href="options.txt.html#X11" class="d">X11</a> selections are being used.
			none		The above methods are unavailable or
					cannot be used.
		See <a href="options.txt.html#%27clipmethod%27" class="o">'clipmethod'</a> for more details.

					<span id="v%3Acmdarg" class="t">v:cmdarg</span> <span id="cmdarg-variable" class="t">cmdarg-variable</span>
<a href="eval.txt.html#v%3Acmdarg" class="d">v:cmdarg</a>	This variable <a href="motion.txt.html#is" class="d">is</a> used for two purposes:
		1. The extra arguments given to <a href="insert.txt.html#a" class="d">a</a> file read/write command.
		   Currently these are "++enc=" and "++ff="<a href="repeat.txt.html#." class="d">.</a>  This variable <a href="motion.txt.html#is" class="d">is</a>
		   set before an <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event for <a href="insert.txt.html#a" class="d">a</a> file read/write
		   command <a href="motion.txt.html#is" class="d">is</a> triggered.  There <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> leading <a href="intro.txt.html#space" class="d">space</a> to make <a href="motion.txt.html#it" class="d">it</a>
		   possible to append this variable directly after the
		   read/write command.  <span class="n">Note:</span> The "<a href="editing.txt.html#%2Bcmd" class="d">+cmd</a>" argument isn't
		   included here, because <a href="motion.txt.html#it" class="d">it</a> will be executed anyway.
		2. When <a href="print.txt.html#printing" class="d">printing</a> <a href="insert.txt.html#a" class="d">a</a> PostScript file with "<a href="print.txt.html#%3Ahardcopy" class="d">:hardcopy</a>" this <a href="motion.txt.html#is" class="d">is</a>
		   the argument for the "<a href="print.txt.html#%3Ahardcopy" class="d">:hardcopy</a>" command.  This can be used
		   in <a href="options.txt.html#%27printexpr%27" class="o">'printexpr'</a>.

					<span id="v%3Acmdbang" class="t">v:cmdbang</span> <span id="cmdbang-variable" class="t">cmdbang-variable</span>
<a href="eval.txt.html#v%3Acmdbang" class="d">v:cmdbang</a>	Set like <a href="eval.txt.html#v%3Acmdarg" class="d">v:cmdarg</a> for <a href="insert.txt.html#a" class="d">a</a> file read/write command.  When <a href="insert.txt.html#a" class="d">a</a> "<a href="change.txt.html#%21" class="d">!</a>"
		was used the value <a href="motion.txt.html#is" class="d">is</a> 1, otherwise <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> 0.  <span class="n">Note</span> that this
		can only be used in autocommands.  For user commands <a href="map.txt.html#%3Cbang%3E" class="l">&lt;bang&gt;</a>
		can be used.

						<span id="v%3Acollate" class="t">v:collate</span> <span id="collate-variable" class="t">collate-variable</span>
<a href="eval.txt.html#v%3Acollate" class="d">v:collate</a>	The current <a href="mbyte.txt.html#locale" class="d">locale</a> setting for collation order of the runtime
		environment.  This allows Vim scripts to be aware of the
		current <a href="mbyte.txt.html#locale" class="d">locale</a> encoding.  Technical: it's the value of
		LC_COLLATE.  When not using <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#locale" class="d">locale</a> the value <a href="motion.txt.html#is" class="d">is</a> "<a href="change.txt.html#C" class="d">C</a>"<a href="repeat.txt.html#." class="d">.</a>
		This variable can not be set directly, use the <a href="mlang.txt.html#%3Alanguage" class="l">:language</a>
		command.
		See <a href="mlang.txt.html#multi-lang" class="l">multi-lang</a><a href="repeat.txt.html#." class="d">.</a>

								<span id="v%3Acolornames" class="t">v:colornames</span>
<a href="eval.txt.html#v%3Acolornames" class="d">v:colornames</a>	<a href="insert.txt.html#A" class="d">A</a> dictionary that maps color names to hex color strings.
		These color names can be used with the <a href="syntax.txt.html#highlight-guifg" class="l">highlight-guifg</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="syntax.txt.html#highlight-guibg" class="l">highlight-guibg</a><a href="motion.txt.html#%2C" class="d">,</a> and <a href="syntax.txt.html#highlight-guisp" class="l">highlight-guisp</a> parameters.

		The key values in the dictionary (the color names) should be
		lower cased, because Vim looks up <a href="insert.txt.html#a" class="d">a</a> color by its lower <a href="change.txt.html#case" class="d">case</a>
		name.

		Updating an entry in <a href="eval.txt.html#v%3Acolornames" class="d">v:colornames</a> has no immediate effect on
		the <a href="syntax.txt.html#syntax" class="d">syntax</a> highlighting.  The highlight commands (probably in
		<a href="insert.txt.html#a" class="d">a</a> colorscheme script) need to be re-evaluated in order to use
		the updated color values.  For example: 
<span class="e"></span>
<span class="e">		    :let v:colornames['fuscia'] = '#cf3ab4'</span>
<span class="e">		    :let v:colornames['mauve'] = '#915f6d'</span>
<span class="e">		    :highlight Normal guifg=fuscia guibg=mauve</span>

		This cannot be used to override the <a href="syntax.txt.html#cterm-colors" class="l">cterm-colors</a> but <a href="motion.txt.html#it" class="d">it</a> can
		be used to override other colors.  For example, the <a href="options.txt.html#X11" class="d">X11</a> colors
		defined in the <span class="e">colors/lists/default.vim</span> (previously defined
		in <a href="gui_w32.txt.html#rgb.txt" class="l">rgb.txt</a>).  When defining new color names in <a href="insert.txt.html#a" class="d">a</a> plugin, the
		recommended practice <a href="motion.txt.html#is" class="d">is</a> to set <a href="insert.txt.html#a" class="d">a</a> color entry only when <a href="motion.txt.html#it" class="d">it</a> does
		not already exist.  For example: 
<span class="e"></span>
<span class="e">		    :call extend(v:colornames, {</span>
<span class="e">			\ 'fuscia': '#cf3ab4',</span>
<span class="e">			\ 'mauve': '#915f6d,</span>
<span class="e">			\ }, 'keep')</span>

		Using <a href="builtin.txt.html#extend%28%29" class="l">extend()</a> with the <span class="o">'keep'</span> option updates each color only
		if <a href="motion.txt.html#it" class="d">it</a> did not exist in <a href="eval.txt.html#v%3Acolornames" class="l">v:colornames</a><a href="repeat.txt.html#." class="d">.</a>  Doing so allows the
		user to choose the precise color value for <a href="insert.txt.html#a" class="d">a</a> common name
		by setting <a href="motion.txt.html#it" class="d">it</a> in their <a href="starting.txt.html#.vimrc" class="l">.vimrc</a><a href="repeat.txt.html#." class="d">.</a>

		It <a href="motion.txt.html#is" class="d">is</a> possible to remove entries from this dictionary but
		doing so <a href="motion.txt.html#is" class="d">is</a> NOT recommended, because <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> disruptive to
		other scripts.  It <a href="motion.txt.html#is" class="d">is</a> also unlikely to achieve the desired
		result because the <a href="syntax.txt.html#%3Acolorscheme" class="l">:colorscheme</a> and <a href="syntax.txt.html#%3Ahighlight" class="l">:highlight</a> commands
		will both automatically load all <span class="e">colors/lists/default.vim</span>
		color scripts.

		You can make changes to that file, but make sure to add new
		keys instead of updating existing ones, otherwise Vim will
		skip loading the file (thinking <a href="motion.txt.html#it" class="d">it</a> hasn't been changed).

				<span id="v%3Acompleted_item" class="t">v:completed_item</span> <span id="completed_item-variable" class="t">completed_item-variable</span>
<a href="eval.txt.html#v%3Acompleted_item" class="d">v:completed_item</a>
		<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> containing the <a href="insert.txt.html#complete-items" class="l">complete-items</a> for the most
		recently completed <a href="motion.txt.html#word" class="d">word</a> after <a href="autocmd.txt.html#CompleteDone" class="l">CompleteDone</a><a href="repeat.txt.html#." class="d">.</a>  The
		<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> <a href="motion.txt.html#is" class="d">is</a> empty if the completion failed.
		<span class="n">Note:</span> Plugins can modify the value to emulate the builtin
		<a href="autocmd.txt.html#CompleteDone" class="l">CompleteDone</a> event behavior.

					<span id="v%3Acount" class="t">v:count</span> <span id="count-variable" class="t">count-variable</span>
<a href="eval.txt.html#v%3Acount" class="d">v:count</a>		The <a href="intro.txt.html#count" class="d">count</a> given for the last <a href="intro.txt.html#Normal" class="d">Normal</a> mode command.  Can be used
		to get the <a href="intro.txt.html#count" class="d">count</a> before <a href="insert.txt.html#a" class="d">a</a> mapping.  Read-only.  Example: 
<span class="e">	:map _x :&lt;C-U&gt;echo "the count is " .. v:count&lt;CR&gt;</span>
		<span class="n">Note:</span> The <span class="s">&lt;C-U&gt;</span> <a href="motion.txt.html#is" class="d">is</a> required to remove the line range that you
		get when typing ':' after <a href="insert.txt.html#a" class="d">a</a> count.
		When there are two counts, <a href="motion.txt.html#as" class="d">as</a> in "3d2w"<a href="motion.txt.html#%2C" class="d">,</a> they are multiplied,
		just like what happens in the command, "d6w" for the example.
		Also used for evaluating the <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> option.
		"<a href="intro.txt.html#count" class="d">count</a>" also works, for backwards compatibility, unless
		<a href="eval.txt.html#scriptversion" class="l">scriptversion</a> <a href="motion.txt.html#is" class="d">is</a> 3 or higher.

					<span id="v%3Acount1" class="t">v:count1</span> <span id="count1-variable" class="t">count1-variable</span>
<a href="eval.txt.html#v%3Acount1" class="d">v:count1</a>	Just like "<a href="eval.txt.html#v%3Acount" class="d">v:count</a>"<a href="motion.txt.html#%2C" class="d">,</a> but defaults to one when no <a href="intro.txt.html#count" class="d">count</a> <a href="motion.txt.html#is" class="d">is</a>
		used.

						<span id="v%3Actype" class="t">v:ctype</span> <span id="ctype-variable" class="t">ctype-variable</span>
<a href="eval.txt.html#v%3Actype" class="d">v:ctype</a>		The current <a href="mbyte.txt.html#locale" class="d">locale</a> setting for characters of the runtime
		environment.  This allows Vim scripts to be aware of the
		current <a href="mbyte.txt.html#locale" class="d">locale</a> encoding.  Technical: it's the value of
		LC_CTYPE.  When not using <a href="insert.txt.html#a" class="d">a</a> <a href="mbyte.txt.html#locale" class="d">locale</a> the value <a href="motion.txt.html#is" class="d">is</a> "<a href="change.txt.html#C" class="d">C</a>"<a href="repeat.txt.html#." class="d">.</a>
		This variable can not be set directly, use the <a href="mlang.txt.html#%3Alanguage" class="l">:language</a>
		command.
		See <a href="mlang.txt.html#multi-lang" class="l">multi-lang</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Adying" class="t">v:dying</span> <span id="dying-variable" class="t">dying-variable</span>
<a href="eval.txt.html#v%3Adying" class="d">v:dying</a>		Normally zero.  When <a href="insert.txt.html#a" class="d">a</a> deadly signal <a href="motion.txt.html#is" class="d">is</a> caught it's set to
		one.  When multiple signals are caught the number increases.
		Can be used in an <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> to check if Vim didn't
		terminate normally. <span class="s">{only works on Unix}</span>
		Example: 
<span class="e">	:au VimLeave * if v:dying | echo "\nAAAAaaaarrrggghhhh!!!\n" | endif</span>
		<span class="n">Note:</span> if another deadly signal <a href="motion.txt.html#is" class="d">is</a> caught when <a href="eval.txt.html#v%3Adying" class="d">v:dying</a> <a href="motion.txt.html#is" class="d">is</a> one,
		<a href="autocmd.txt.html#VimLeave" class="d">VimLeave</a> <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> will not be executed.

					<span id="v%3Aexiting" class="t">v:exiting</span> <span id="exiting-variable" class="t">exiting-variable</span>
<a href="eval.txt.html#v%3Aexiting" class="d">v:exiting</a>	Vim exit code.  Normally zero, non-zero when something went
		wrong.  The value <a href="motion.txt.html#is" class="d">is</a> <a href="eval.txt.html#v%3Anull" class="d">v:null</a> before invoking the <a href="autocmd.txt.html#VimLeavePre" class="l">VimLeavePre</a>
		and <a href="autocmd.txt.html#VimLeave" class="l">VimLeave</a> autocmds.  See <a href="editing.txt.html#%3Aq" class="l">:q</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="editing.txt.html#%3Ax" class="l">:x</a> and <a href="quickfix.txt.html#%3Acquit" class="l">:cquit</a><a href="repeat.txt.html#." class="d">.</a>
		Example: 
<span class="e">			:au VimLeave * echo "Exit value is " .. v:exiting</span>

					<span id="v%3Aechospace" class="t">v:echospace</span> <span id="echospace-variable" class="t">echospace-variable</span>
<a href="eval.txt.html#v%3Aechospace" class="d">v:echospace</a>	<a href="eval.txt.html#Number" class="d">Number</a> of screen cells that can be used for an <span class="e">:echo</span> message
		in the last screen line before causing the <a href="message.txt.html#hit-enter-prompt" class="l">hit-enter-prompt</a><a href="repeat.txt.html#." class="d">.</a>
		Depends on <a href="options.txt.html#%27showcmd%27" class="o">'showcmd'</a>, <a href="options.txt.html#%27ruler%27" class="o">'ruler'</a> and <a href="options.txt.html#%27columns%27" class="o">'columns'</a>.  You need to
		check <a href="options.txt.html#%27cmdheight%27" class="o">'cmdheight'</a> for whether there are full-width lines
		available above the last line.

					<span id="v%3Aerrmsg" class="t">v:errmsg</span> <span id="errmsg-variable" class="t">errmsg-variable</span>
<a href="eval.txt.html#v%3Aerrmsg" class="d">v:errmsg</a>	Last error message that occurred (not neccessarily displayed).
		It's allowed to set this variable.  Example: 
<span class="e">	:let v:errmsg = ""</span>
<span class="e">	:silent! next</span>
<span class="e">	:if v:errmsg != ""</span>
<span class="e">	:  ... handle error</span>
		"errmsg" also works, for backwards compatibility, unless
		<a href="eval.txt.html#scriptversion" class="l">scriptversion</a> <a href="motion.txt.html#is" class="d">is</a> 3 or higher.

				<span id="v%3Aerrors" class="t">v:errors</span> <span id="errors-variable" class="t">errors-variable</span> <span id="assert-return" class="t">assert-return</span>
<a href="eval.txt.html#v%3Aerrors" class="d">v:errors</a>	Errors found by assert functions, such <a href="motion.txt.html#as" class="d">as</a> <a href="testing.txt.html#assert_true%28%29" class="l">assert_true()</a><a href="repeat.txt.html#." class="d">.</a>
		This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> of strings.
		The assert <a href="eval.txt.html#functions" class="d">functions</a> append an item when an assert fails.
		The return value indicates this: <a href="insert.txt.html#a" class="d">a</a> one <a href="motion.txt.html#is" class="d">is</a> returned if an item
		was added to v:errors, otherwise zero <a href="motion.txt.html#is" class="d">is</a> returned.
		To remove old results make <a href="motion.txt.html#it" class="d">it</a> empty: 
<span class="e">	:let v:errors = []</span>
		If <a href="eval.txt.html#v%3Aerrors" class="d">v:errors</a> <a href="motion.txt.html#is" class="d">is</a> set to anything but <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> made an empty
		<a href="eval.txt.html#list" class="d">list</a> by the assert function.

					<span id="v%3Aevent" class="t">v:event</span> <span id="event-variable" class="t">event-variable</span>
<a href="eval.txt.html#v%3Aevent" class="d">v:event</a>		<a href="eval.txt.html#Dictionary" class="d">Dictionary</a> containing information about the current
		<a href="autocmd.txt.html#autocommand" class="l">autocommand</a><a href="repeat.txt.html#." class="d">.</a>  See the specific event for what <a href="motion.txt.html#it" class="d">it</a> puts in
		this dictionary.
		The dictionary <a href="motion.txt.html#is" class="d">is</a> emptied when the <a href="autocmd.txt.html#autocommand" class="l">autocommand</a> finishes,
		please refer to <a href="eval.txt.html#dict-identity" class="l">dict-identity</a> for how to get an independent
		copy of it.  Use <a href="builtin.txt.html#deepcopy%28%29" class="l">deepcopy()</a> if you want to keep the
		information after the event triggers.  Example: 
<span class="e">			au TextYankPost * let g:foo = deepcopy(v:event)</span>

					<span id="v%3Aexception" class="t">v:exception</span> <span id="exception-variable" class="t">exception-variable</span>
<a href="eval.txt.html#v%3Aexception" class="d">v:exception</a>	The value of the exception most recently caught and not
		finished.  See also <a href="eval.txt.html#v%3Astacktrace" class="l">v:stacktrace</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#v%3Athrowpoint" class="l">v:throwpoint</a><a href="motion.txt.html#%2C" class="d">,</a> and
		<a href="eval.txt.html#throw-variables" class="l">throw-variables</a><a href="repeat.txt.html#." class="d">.</a>
		Example: 
<span class="e">	:try</span>
<span class="e">	:  throw "oops"</span>
<span class="e">	:catch /.*/</span>
<span class="e">	:  echo "caught " .. v:exception</span>
<span class="e">	:endtry</span>
		Output: "caught oops"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Afalse" class="t">v:false</span> <span id="false-variable" class="t">false-variable</span>
<a href="eval.txt.html#v%3Afalse" class="d">v:false</a>		<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Number" class="d">Number</a> with value zero.  Used to <a href="change.txt.html#put" class="d">put</a> "<a href="vim9.txt.html#false" class="d">false</a>" in JSON.  See
		<a href="builtin.txt.html#json_encode%28%29" class="l">json_encode()</a><a href="repeat.txt.html#." class="d">.</a>
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> this evaluates to "<a href="eval.txt.html#v%3Afalse" class="d">v:false</a>"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">			echo v:false</span>
<span class="h">			v:false </span>
		That <a href="motion.txt.html#is" class="d">is</a> so that <a href="builtin.txt.html#eval%28%29" class="d">eval()</a> can parse the <a href="eval.txt.html#string" class="d">string</a> back to the same
		value.  Read-only.
		In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> "<a href="vim9.txt.html#false" class="d">false</a>" can be used which has <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#boolean" class="d">boolean</a> type.

					<span id="v%3Afcs_reason" class="t">v:fcs_reason</span> <span id="fcs_reason-variable" class="t">fcs_reason-variable</span>
<a href="eval.txt.html#v%3Afcs_reason" class="d">v:fcs_reason</a>	The reason why the <a href="autocmd.txt.html#FileChangedShell" class="l">FileChangedShell</a> event was triggered.
		Can be used in an <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> to decide what to <a href="diff.txt.html#do" class="d">do</a> and/or what
		to set <a href="eval.txt.html#v%3Afcs_choice" class="d">v:fcs_choice</a> to.  Possible values:
			deleted		file no longer exists
			conflict	file contents, mode or <a href="editing.txt.html#timestamp" class="d">timestamp</a> was
					changed and buffer <a href="motion.txt.html#is" class="d">is</a> modified
			changed		file contents has changed
			mode		mode of file changed
			time		only file <a href="editing.txt.html#timestamp" class="d">timestamp</a> changed

					<span id="v%3Afcs_choice" class="t">v:fcs_choice</span> <span id="fcs_choice-variable" class="t">fcs_choice-variable</span>
<a href="eval.txt.html#v%3Afcs_choice" class="d">v:fcs_choice</a>	What should happen after <a href="insert.txt.html#a" class="d">a</a> <a href="autocmd.txt.html#FileChangedShell" class="l">FileChangedShell</a> event was
		triggered.  Can be used in an <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> to tell Vim what to
		<a href="diff.txt.html#do" class="d">do</a> with the affected buffer:
			<a href="editing.txt.html#reload" class="d">reload</a>		Reload the buffer (does not work if
					the file was deleted).
			edit		Reload the buffer and detect the
					values for <a href="options.txt.html#options" class="d">options</a> such <a href="motion.txt.html#as" class="d">as</a>
					<a href="options.txt.html#%27fileformat%27" class="o">'fileformat'</a>, <a href="options.txt.html#%27fileencoding%27" class="o">'fileencoding'</a>, <a href="options.txt.html#%27binary%27" class="o">'binary'</a>
					(does not work if the file was
					deleted).
			ask		Ask the user what to do, <a href="motion.txt.html#as" class="d">as</a> if there
					was no autocommand.  Except that when
					only the <a href="editing.txt.html#timestamp" class="d">timestamp</a> changed nothing
					will happen.
			<span class="s">&lt;empty&gt;</span>		Nothing, the <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> should <a href="diff.txt.html#do" class="d">do</a>
					everything that needs to be done.
		The default <a href="motion.txt.html#is" class="d">is</a> empty.  If another (invalid) value <a href="motion.txt.html#is" class="d">is</a> used then
		Vim behaves like <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> empty, there <a href="motion.txt.html#is" class="d">is</a> no warning message.

					<span id="v%3Afname" class="t">v:fname</span> <span id="fname-variable" class="t">fname-variable</span>
<a href="eval.txt.html#v%3Afname" class="d">v:fname</a>		When evaluating <a href="options.txt.html#%27includeexpr%27" class="o">'includeexpr'</a>: the file name that was
		detected.  Empty otherwise.

					<span id="v%3Afname_in" class="t">v:fname_in</span> <span id="fname_in-variable" class="t">fname_in-variable</span>
<a href="eval.txt.html#v%3Afname_in" class="d">v:fname_in</a>	The name of the input file.  Valid while evaluating:
<span class="h">			option		used for </span>
			<a href="options.txt.html#%27charconvert%27" class="o">'charconvert'</a>	file to be converted
			<a href="options.txt.html#%27diffexpr%27" class="o">'diffexpr'</a>	original file
			<a href="options.txt.html#%27patchexpr%27" class="o">'patchexpr'</a>	original file
			<a href="options.txt.html#%27printexpr%27" class="o">'printexpr'</a>	file to be printed
		And set to the swap file name for <a href="autocmd.txt.html#SwapExists" class="l">SwapExists</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Afname_out" class="t">v:fname_out</span> <span id="fname_out-variable" class="t">fname_out-variable</span>
<a href="eval.txt.html#v%3Afname_out" class="d">v:fname_out</a>	The name of the output file.  Only valid while
		evaluating:
<span class="h">			option		used for </span>
			<a href="options.txt.html#%27charconvert%27" class="o">'charconvert'</a>	resulting converted file <a href="motion.txt.html#%28" class="d">(</a>*<a href="motion.txt.html#%29" class="d">)</a>
			<a href="options.txt.html#%27diffexpr%27" class="o">'diffexpr'</a>	output of <a href="diff.txt.html#diff" class="d">diff</a>
			<a href="options.txt.html#%27patchexpr%27" class="o">'patchexpr'</a>	resulting patched file
		<a href="motion.txt.html#%28" class="d">(</a>*<a href="motion.txt.html#%29" class="d">)</a> When doing conversion for <a href="insert.txt.html#a" class="d">a</a> write command (e.g., "<a href="editing.txt.html#%3Aw" class="d">:w</a>
		file"<a href="motion.txt.html#%29" class="d">)</a> <a href="motion.txt.html#it" class="d">it</a> will be equal to v:fname_in.  When doing conversion
		for <a href="insert.txt.html#a" class="d">a</a> read command (e.g., "<a href="editing.txt.html#%3Ae" class="d">:e</a> file"<a href="motion.txt.html#%29" class="d">)</a> <a href="motion.txt.html#it" class="d">it</a> will be <a href="insert.txt.html#a" class="d">a</a> temporary
		file and different from v:fname_in.

					<span id="v%3Afname_new" class="t">v:fname_new</span> <span id="fname_new-variable" class="t">fname_new-variable</span>
<a href="eval.txt.html#v%3Afname_new" class="d">v:fname_new</a>	The name of the new version of the file.  Only valid while
		evaluating <a href="options.txt.html#%27diffexpr%27" class="o">'diffexpr'</a>.

					<span id="v%3Afname_diff" class="t">v:fname_diff</span> <span id="fname_diff-variable" class="t">fname_diff-variable</span>
<a href="eval.txt.html#v%3Afname_diff" class="d">v:fname_diff</a>	The name of the <a href="diff.txt.html#diff" class="d">diff</a> (patch) file.  Only valid while
		evaluating <a href="options.txt.html#%27patchexpr%27" class="o">'patchexpr'</a>.

					<span id="v%3Afolddashes" class="t">v:folddashes</span> <span id="folddashes-variable" class="t">folddashes-variable</span>
<a href="eval.txt.html#v%3Afolddashes" class="d">v:folddashes</a>	Used for <a href="options.txt.html#%27foldtext%27" class="o">'foldtext'</a>: dashes representing foldlevel of <a href="insert.txt.html#a" class="d">a</a> closed
		fold.
		Read-only in the <a href="eval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a> <a href="fold.txt.html#fold-foldtext" class="l">fold-foldtext</a>

					<span id="v%3Afoldlevel" class="t">v:foldlevel</span> <span id="foldlevel-variable" class="t">foldlevel-variable</span>
<a href="eval.txt.html#v%3Afoldlevel" class="d">v:foldlevel</a>	Used for <a href="options.txt.html#%27foldtext%27" class="o">'foldtext'</a>: foldlevel of closed fold.
		Read-only in the <a href="eval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a> <a href="fold.txt.html#fold-foldtext" class="l">fold-foldtext</a>

					<span id="v%3Afoldend" class="t">v:foldend</span> <span id="foldend-variable" class="t">foldend-variable</span>
<a href="eval.txt.html#v%3Afoldend" class="d">v:foldend</a>	Used for <a href="options.txt.html#%27foldtext%27" class="o">'foldtext'</a>: last line of closed fold.
		Read-only in the <a href="eval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a> <a href="fold.txt.html#fold-foldtext" class="l">fold-foldtext</a>

					<span id="v%3Afoldstart" class="t">v:foldstart</span> <span id="foldstart-variable" class="t">foldstart-variable</span>
<a href="eval.txt.html#v%3Afoldstart" class="d">v:foldstart</a>	Used for <a href="options.txt.html#%27foldtext%27" class="o">'foldtext'</a>: first line of closed fold.
		Read-only in the <a href="eval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a> <a href="fold.txt.html#fold-foldtext" class="l">fold-foldtext</a>

					<span id="v%3Ahlsearch" class="t">v:hlsearch</span> <span id="hlsearch-variable" class="t">hlsearch-variable</span>
<a href="eval.txt.html#v%3Ahlsearch" class="d">v:hlsearch</a>	Variable that indicates whether search highlighting <a href="motion.txt.html#is" class="d">is</a> on.
		Setting <a href="motion.txt.html#it" class="d">it</a> makes sense only if <a href="options.txt.html#%27hlsearch%27" class="o">'hlsearch'</a> <a href="motion.txt.html#is" class="d">is</a> enabled which
		requires <a href="various.txt.html#%2Bextra_search" class="l">+extra_search</a><a href="repeat.txt.html#." class="d">.</a>  Setting this variable to zero acts
		like the <a href="pattern.txt.html#%3Anohlsearch" class="l">:nohlsearch</a> command, setting <a href="motion.txt.html#it" class="d">it</a> to one acts like 
<span class="e">			let &amp;hlsearch = &amp;hlsearch</span>
		<span class="n">Note</span> that the value <a href="motion.txt.html#is" class="d">is</a> restored when returning from <a href="insert.txt.html#a" class="d">a</a>
		function. <a href="userfunc.txt.html#function-search-undo" class="l">function-search-undo</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Ainsertmode" class="t">v:insertmode</span> <span id="insertmode-variable" class="t">insertmode-variable</span>
<a href="eval.txt.html#v%3Ainsertmode" class="d">v:insertmode</a>	Used for the <a href="autocmd.txt.html#InsertEnter" class="l">InsertEnter</a> and <a href="autocmd.txt.html#InsertChange" class="l">InsertChange</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a>
		events.  Values:
			<a href="insert.txt.html#i" class="d">i</a>	<a href="insert.txt.html#Insert" class="d">Insert</a> mode
			<a href="change.txt.html#r" class="d">r</a>	<a href="insert.txt.html#Replace" class="d">Replace</a> mode
			<a href="visual.txt.html#v" class="d">v</a>	Virtual <a href="insert.txt.html#Replace" class="d">Replace</a> mode

						<span id="v%3Akey" class="t">v:key</span> <span id="key-variable" class="t">key-variable</span>
<a href="eval.txt.html#v%3Akey" class="d">v:key</a>		Key of the current item of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="repeat.txt.html#." class="d">.</a>  Only valid while
		evaluating the <a href="eval.txt.html#expression" class="d">expression</a> used with <a href="builtin.txt.html#map%28%29" class="l">map()</a> and <a href="builtin.txt.html#filter%28%29" class="l">filter()</a><a href="repeat.txt.html#." class="d">.</a>
		Read-only.

						<span id="v%3Alang" class="t">v:lang</span> <span id="lang-variable" class="t">lang-variable</span>
<a href="eval.txt.html#v%3Alang" class="d">v:lang</a>		The current <a href="mbyte.txt.html#locale" class="d">locale</a> setting for <a href="message.txt.html#messages" class="d">messages</a> of the runtime
		environment.  This allows Vim scripts to be aware of the
		current language.  Technical: it's the value of LC_MESSAGES.
		The value <a href="motion.txt.html#is" class="d">is</a> system dependent.
		This variable can not be set directly, use the <a href="mlang.txt.html#%3Alanguage" class="l">:language</a>
		command.
		It can be different from <a href="eval.txt.html#v%3Actype" class="l">v:ctype</a> when <a href="message.txt.html#messages" class="d">messages</a> are desired
		in <a href="insert.txt.html#a" class="d">a</a> different language than what <a href="motion.txt.html#is" class="d">is</a> used for character
		encoding.  See <a href="mlang.txt.html#multi-lang" class="l">multi-lang</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="v%3Alc_time" class="t">v:lc_time</span> <span id="lc_time-variable" class="t">lc_time-variable</span>
<a href="eval.txt.html#v%3Alc_time" class="d">v:lc_time</a>	The current <a href="mbyte.txt.html#locale" class="d">locale</a> setting for time <a href="message.txt.html#messages" class="d">messages</a> of the runtime
		environment.  This allows Vim scripts to be aware of the
		current language.  Technical: it's the value of LC_TIME.
		This variable can not be set directly, use the <a href="mlang.txt.html#%3Alanguage" class="l">:language</a>
		command.  See <a href="mlang.txt.html#multi-lang" class="l">multi-lang</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="v%3Alnum" class="t">v:lnum</span> <span id="lnum-variable" class="t">lnum-variable</span>
<a href="eval.txt.html#v%3Alnum" class="d">v:lnum</a>		Line number for the <a href="options.txt.html#%27foldexpr%27" class="o">'foldexpr'</a> <a href="fold.txt.html#fold-expr" class="l">fold-expr</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a> and
		<a href="options.txt.html#%27indentexpr%27" class="o">'indentexpr'</a> expressions, <a href="intro.txt.html#tab" class="d">tab</a> page number for <a href="options.txt.html#%27guitablabel%27" class="o">'guitablabel'</a>
		and <a href="options.txt.html#%27guitabtooltip%27" class="o">'guitabtooltip'</a>.  Only valid while one of these
		expressions <a href="motion.txt.html#is" class="d">is</a> being evaluated.  Read-only when in the
		<a href="eval.txt.html#sandbox" class="l">sandbox</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="v%3Amaxcol" class="t">v:maxcol</span> <span id="maxcol-variable" class="t">maxcol-variable</span>
<a href="eval.txt.html#v%3Amaxcol" class="d">v:maxcol</a>	Maximum line length.  Depending on where <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#it" class="d">it</a> can be
		screen columns, characters or bytes.  The value currently <a href="motion.txt.html#is" class="d">is</a>
		2147483647 on all systems.

					<span id="v%3Amouse_win" class="t">v:mouse_win</span> <span id="mouse_win-variable" class="t">mouse_win-variable</span>
<a href="eval.txt.html#v%3Amouse_win" class="d">v:mouse_win</a>	Window number for <a href="insert.txt.html#a" class="d">a</a> mouse click obtained with <a href="builtin.txt.html#getchar%28%29" class="l">getchar()</a><a href="repeat.txt.html#." class="d">.</a>
		First <a href="windows.txt.html#window" class="d">window</a> has number 1, like with <a href="builtin.txt.html#winnr%28%29" class="l">winnr()</a><a href="repeat.txt.html#." class="d">.</a>  The value <a href="motion.txt.html#is" class="d">is</a>
		zero when there was no mouse button click.

					<span id="v%3Amouse_winid" class="t">v:mouse_winid</span> <span id="mouse_winid-variable" class="t">mouse_winid-variable</span>
<a href="eval.txt.html#v%3Amouse_winid" class="d">v:mouse_winid</a>	Window ID for <a href="insert.txt.html#a" class="d">a</a> mouse click obtained with <a href="builtin.txt.html#getchar%28%29" class="l">getchar()</a><a href="repeat.txt.html#." class="d">.</a>
		The value <a href="motion.txt.html#is" class="d">is</a> zero when there was no mouse button click.

					<span id="v%3Amouse_lnum" class="t">v:mouse_lnum</span> <span id="mouse_lnum-variable" class="t">mouse_lnum-variable</span>
<a href="eval.txt.html#v%3Amouse_lnum" class="d">v:mouse_lnum</a>	Line number for <a href="insert.txt.html#a" class="d">a</a> mouse click obtained with <a href="builtin.txt.html#getchar%28%29" class="l">getchar()</a><a href="repeat.txt.html#." class="d">.</a>
		This <a href="motion.txt.html#is" class="d">is</a> the text line number, not the screen line number.  The
		value <a href="motion.txt.html#is" class="d">is</a> zero when there was no mouse button click.

					<span id="v%3Amouse_col" class="t">v:mouse_col</span> <span id="mouse_col-variable" class="t">mouse_col-variable</span>
<a href="eval.txt.html#v%3Amouse_col" class="d">v:mouse_col</a>	Column number for <a href="insert.txt.html#a" class="d">a</a> mouse click obtained with <a href="builtin.txt.html#getchar%28%29" class="l">getchar()</a><a href="repeat.txt.html#." class="d">.</a>
		This <a href="motion.txt.html#is" class="d">is</a> the screen column number, like with <a href="builtin.txt.html#virtcol%28%29" class="l">virtcol()</a><a href="repeat.txt.html#." class="d">.</a>  The
		value <a href="motion.txt.html#is" class="d">is</a> zero when there was no mouse button click.

					<span id="v%3Anone" class="t">v:none</span> <span id="none-variable" class="t">none-variable</span> <span id="None" class="t">None</span>
<a href="eval.txt.html#v%3Anone" class="d">v:none</a>		An empty String.  Used to <a href="change.txt.html#put" class="d">put</a> an empty item in JSON.  See
		<a href="builtin.txt.html#json_encode%28%29" class="l">json_encode()</a><a href="repeat.txt.html#." class="d">.</a>
		This can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> function argument to use the
		default value, see <a href="userfunc.txt.html#none-function_argument" class="l">none-function_argument</a><a href="repeat.txt.html#." class="d">.</a>
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> number this evaluates to zero.
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> this evaluates to "<a href="eval.txt.html#v%3Anone" class="d">v:none</a>"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">			echo v:none</span>
<span class="h">			v:none </span>
		That <a href="motion.txt.html#is" class="d">is</a> so that <a href="builtin.txt.html#eval%28%29" class="d">eval()</a> can parse the <a href="eval.txt.html#string" class="d">string</a> back to the same
		value.  Read-only.
		<span class="n">Note</span> that using `== v:none` and `!= v:none`  will often give
		an error.  Instead, use `is v:none` and `isnot v:none` <a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Anull" class="t">v:null</span> <span id="null-variable" class="t">null-variable</span>
<a href="eval.txt.html#v%3Anull" class="d">v:null</a>		An empty String.  Used to <a href="change.txt.html#put" class="d">put</a> "<a href="vim9.txt.html#null" class="d">null</a>" in JSON.  See
		<a href="builtin.txt.html#json_encode%28%29" class="l">json_encode()</a><a href="repeat.txt.html#." class="d">.</a>
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> number this evaluates to zero.
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> this evaluates to "<a href="eval.txt.html#v%3Anull" class="d">v:null</a>"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">			echo v:null</span>
<span class="h">			v:null </span>
		That <a href="motion.txt.html#is" class="d">is</a> so that <a href="builtin.txt.html#eval%28%29" class="d">eval()</a> can parse the <a href="eval.txt.html#string" class="d">string</a> back to the same
		value.  Read-only.
		In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">null</span> can be used without "<a href="eval.txt.html#v%3A" class="d">v:</a>"<a href="repeat.txt.html#." class="d">.</a>
		In some places <span class="e">v:null</span> and <span class="e">null</span> can be used for <a href="insert.txt.html#a" class="d">a</a> List,
		Dict, Job, etc. that <a href="motion.txt.html#is" class="d">is</a> not set.  That <a href="motion.txt.html#is" class="d">is</a> slightly different
		than an empty List, Dict, etc.

					<span id="v%3Anumbermax" class="t">v:numbermax</span> <span id="numbermax-variable" class="t">numbermax-variable</span>
<a href="eval.txt.html#v%3Anumbermax" class="d">v:numbermax</a>	Maximum value of <a href="insert.txt.html#a" class="d">a</a> number.

					<span id="v%3Anumbermin" class="t">v:numbermin</span> <span id="numbermin-variable" class="t">numbermin-variable</span>
<a href="eval.txt.html#v%3Anumbermin" class="d">v:numbermin</a>	Minimum value of <a href="insert.txt.html#a" class="d">a</a> number (negative).

					<span id="v%3Anumbersize" class="t">v:numbersize</span> <span id="numbersize-variable" class="t">numbersize-variable</span>
<a href="eval.txt.html#v%3Anumbersize" class="d">v:numbersize</a>	<a href="eval.txt.html#Number" class="d">Number</a> of bits in <a href="insert.txt.html#a" class="d">a</a> Number.  This <a href="motion.txt.html#is" class="d">is</a> normally 64, but on some
		systems <a href="motion.txt.html#it" class="d">it</a> may be 32.

					<span id="v%3Aoldfiles" class="t">v:oldfiles</span> <span id="oldfiles-variable" class="t">oldfiles-variable</span>
<a href="eval.txt.html#v%3Aoldfiles" class="d">v:oldfiles</a>	<a href="eval.txt.html#List" class="d">List</a> of file names that <a href="motion.txt.html#is" class="d">is</a> loaded from the <a href="starting.txt.html#viminfo" class="l">viminfo</a> file on
		startup.  These are the files that Vim remembers marks for.
		The length of the <a href="eval.txt.html#List" class="d">List</a> <a href="motion.txt.html#is" class="d">is</a> limited by the <a href="motion.txt.html#%27" class="d">'</a> argument of the
		<a href="options.txt.html#%27viminfo%27" class="o">'viminfo'</a> option (default <a href="motion.txt.html#is" class="d">is</a> 100).
		When the <a href="starting.txt.html#viminfo" class="l">viminfo</a> file <a href="motion.txt.html#is" class="d">is</a> not used the <a href="eval.txt.html#List" class="d">List</a> <a href="motion.txt.html#is" class="d">is</a> empty.
		Also see <a href="starting.txt.html#%3Aoldfiles" class="l">:oldfiles</a> and <a href="cmdline.txt.html#c_%23%3C" class="l">c_#&lt;</a><a href="repeat.txt.html#." class="d">.</a>
		The <a href="eval.txt.html#List" class="d">List</a> can be modified, but this has no effect on what <a href="motion.txt.html#is" class="d">is</a>
		stored in the <a href="starting.txt.html#viminfo" class="l">viminfo</a> file later.  If you use values other
		than <a href="eval.txt.html#String" class="d">String</a> this will cause trouble.
		<span class="s">{only when compiled with the |+viminfo| feature}</span>

						    <span id="v%3Aoption_new" class="t">v:option_new</span>
<a href="eval.txt.html#v%3Aoption_new" class="d">v:option_new</a>    New value of the option.  Valid while executing an <a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a>
		autocommand.
						    <span id="v%3Aoption_old" class="t">v:option_old</span>
<a href="eval.txt.html#v%3Aoption_old" class="d">v:option_old</a>    Old value of the option.  Valid while executing an <a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a>
		autocommand.  Depending on the command used for setting and
		the kind of option this <a href="motion.txt.html#is" class="d">is</a> either the local old value or the
		global old value.
						    <span id="v%3Aoption_oldlocal" class="t">v:option_oldlocal</span>
<a href="eval.txt.html#v%3Aoption_oldlocal" class="d">v:option_oldlocal</a>
		Old local value of the option.  Valid while executing an
		<a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a> autocommand.
						    <span id="v%3Aoption_oldglobal" class="t">v:option_oldglobal</span>
<a href="eval.txt.html#v%3Aoption_oldglobal" class="d">v:option_oldglobal</a>
		Old global value of the option.  Valid while executing an
		<a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a> autocommand.
						    <span id="v%3Aoption_type" class="t">v:option_type</span>
<a href="eval.txt.html#v%3Aoption_type" class="d">v:option_type</a>   Scope of the set command.  Valid while executing an
		<a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a> autocommand.  Can be either "global" or "local"
						    <span id="v%3Aoption_command" class="t">v:option_command</span>
<a href="eval.txt.html#v%3Aoption_command" class="d">v:option_command</a>
		Command used to set the option.  Valid while executing an
		<a href="autocmd.txt.html#OptionSet" class="l">OptionSet</a> autocommand.
<span class="h">			value		option was set via   </span>
			"setlocal"	<a href="options.txt.html#%3Asetlocal" class="l">:setlocal</a> or "<a href="eval.txt.html#%3Alet" class="d">:let</a> l:xxx"
			"setglobal"	<a href="options.txt.html#%3Asetglobal" class="l">:setglobal</a> or "<a href="eval.txt.html#%3Alet" class="d">:let</a> g:xxx"
			"set"		<a href="options.txt.html#%3Aset" class="l">:set</a> or <a href="eval.txt.html#%3Alet" class="l">:let</a>
			"<a href="options.txt.html#modeline" class="d">modeline</a>"	<a href="options.txt.html#modeline" class="l">modeline</a>
					<span id="v%3Aoperator" class="t">v:operator</span> <span id="operator-variable" class="t">operator-variable</span>
<a href="eval.txt.html#v%3Aoperator" class="d">v:operator</a>	The last <a href="motion.txt.html#operator" class="d">operator</a> given in <a href="intro.txt.html#Normal" class="d">Normal</a> mode.  This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> single
		character except for commands <a href="starting.txt.html#starting" class="d">starting</a> with <span class="s">&lt;g&gt;</span> or <span class="s">&lt;z&gt;</span>,
		in which <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> two characters.  Best used alongside
		<a href="eval.txt.html#v%3Aprevcount" class="l">v:prevcount</a> and <a href="eval.txt.html#v%3Aregister" class="l">v:register</a><a href="repeat.txt.html#." class="d">.</a>  Useful if you want to cancel
		<a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode and then use the operator, e.g.: 
<span class="e">			:omap O &lt;Esc&gt;:call MyMotion(v:operator)&lt;CR&gt;</span>
		The value remains set until another <a href="motion.txt.html#operator" class="d">operator</a> <a href="motion.txt.html#is" class="d">is</a> entered, thus
		don't expect <a href="motion.txt.html#it" class="d">it</a> to be empty.
		<a href="eval.txt.html#v%3Aoperator" class="d">v:operator</a> <a href="motion.txt.html#is" class="d">is</a> not set for <a href="change.txt.html#%3Adelete" class="l">:delete</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="change.txt.html#%3Ayank" class="l">:yank</a> or other <a href="intro.txt.html#Ex" class="d">Ex</a>
		commands.
		Read-only.

					<span id="v%3Aprevcount" class="t">v:prevcount</span> <span id="prevcount-variable" class="t">prevcount-variable</span>
<a href="eval.txt.html#v%3Aprevcount" class="d">v:prevcount</a>	The <a href="intro.txt.html#count" class="d">count</a> given for the last but one <a href="intro.txt.html#Normal" class="d">Normal</a> mode command.
		This <a href="motion.txt.html#is" class="d">is</a> the <a href="eval.txt.html#v%3Acount" class="d">v:count</a> value of the previous command.  Useful if
		you want to cancel <a href="visual.txt.html#Visual" class="d">Visual</a> or <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode and then
		use the count, e.g.: 
<span class="e">			:vmap % &lt;Esc&gt;:call MyFilter(v:prevcount)&lt;CR&gt;</span>
		Read-only.

					<span id="v%3Aprofiling" class="t">v:profiling</span> <span id="profiling-variable" class="t">profiling-variable</span>
<a href="eval.txt.html#v%3Aprofiling" class="d">v:profiling</a>	Normally zero.  Set to one after using "<a href="repeat.txt.html#%3Aprofile" class="d">:profile</a> start"<a href="repeat.txt.html#." class="d">.</a>
		See <a href="repeat.txt.html#profiling" class="l">profiling</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Aprogname" class="t">v:progname</span> <span id="progname-variable" class="t">progname-variable</span>
<a href="eval.txt.html#v%3Aprogname" class="d">v:progname</a>	Contains the name (with path removed) with which Vim was
		invoked.  Allows you to <a href="diff.txt.html#do" class="d">do</a> special initialisations for <a href="starting.txt.html#view" class="l">view</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="starting.txt.html#evim" class="l">evim</a> etc., or any other name you might symlink to Vim.
		Read-only.

					<span id="v%3Aprogpath" class="t">v:progpath</span> <span id="progpath-variable" class="t">progpath-variable</span>
<a href="eval.txt.html#v%3Aprogpath" class="d">v:progpath</a>	Contains the command with which Vim was invoked, in <a href="insert.txt.html#a" class="d">a</a> form
		that when passed to the shell will run the same Vim executable
		<a href="motion.txt.html#as" class="d">as</a> the current one (if $PATH remains unchanged).
		Useful if you want to message <a href="insert.txt.html#a" class="d">a</a> Vim server using <a href="insert.txt.html#a" class="d">a</a>
		<a href="remote.txt.html#--remote-expr" class="l">--remote-expr</a><a href="repeat.txt.html#." class="d">.</a>
		To get the full path use: 
<span class="e">			echo exepath(v:progpath)</span>
		If the command has <a href="insert.txt.html#a" class="d">a</a> relative path <a href="motion.txt.html#it" class="d">it</a> will be expanded to the
		full path, so that <a href="motion.txt.html#it" class="d">it</a> still works after <span class="e">:cd</span>.  Thus <a href="starting.txt.html#starting" class="d">starting</a>
		"./vim" results in "/home/user/path/to/vim/src/vim"<a href="repeat.txt.html#." class="d">.</a>
		On Linux and other systems <a href="motion.txt.html#it" class="d">it</a> will always be the full path.
		On <a href="os_mac.txt.html#Mac" class="d">Mac</a> <a href="motion.txt.html#it" class="d">it</a> may just be "vim" and using <a href="builtin.txt.html#exepath%28%29" class="d">exepath()</a> <a href="motion.txt.html#as" class="d">as</a> mentioned
		above should be used to get the full path.
		On <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> the executable may be called "vim.exe"<a href="motion.txt.html#%2C" class="d">,</a> but the
		".exe" <a href="motion.txt.html#is" class="d">is</a> not added to v:progpath.
		Read-only.

				<span id="v%3Apython3_version" class="t">v:python3_version</span> <span id="python3-version-variable" class="t">python3-version-variable</span>
<a href="eval.txt.html#v%3Apython3_version" class="d">v:python3_version</a>
		Version of <a href="if_pyth.txt.html#Python" class="d">Python</a> 3 that Vim was built against.  When
		<a href="if_pyth.txt.html#Python" class="d">Python</a> <a href="motion.txt.html#is" class="d">is</a> loaded dynamically <a href="motion.txt.html#%28" class="d">(</a><a href="if_pyth.txt.html#python-dynamic" class="l">python-dynamic</a>), this version
		should exactly match the <a href="if_pyth.txt.html#Python" class="d">Python</a> library up to the minor
		version (e.g.  3.10.2 and 3.10.3 are compatible <a href="motion.txt.html#as" class="d">as</a> the minor
		version <a href="motion.txt.html#is" class="d">is</a> "10"<a href="motion.txt.html#%2C" class="d">,</a> whereas 3.9.4 and 3.10.3 are not compatible).
		When <a href="if_pyth.txt.html#python-stable-abi" class="l">python-stable-abi</a> <a href="motion.txt.html#is" class="d">is</a> used, this will be the minimum
		<a href="if_pyth.txt.html#Python" class="d">Python</a> version that you can use instead. (e.g. if
		<a href="eval.txt.html#v%3Apython3_version" class="d">v:python3_version</a> indicates 3.9, you can use 3.9, 3.10, or
		anything above).

		This number <a href="motion.txt.html#is" class="d">is</a> encoded <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> hex number following <a href="if_pyth.txt.html#Python" class="d">Python</a> ABI
		versioning conventions.  Do the following to have <a href="insert.txt.html#a" class="d">a</a>
		human-readable full version in hex: 
<span class="e">			echo printf("%08X", v:python3_version)</span>
		You can obtain only the minor version by doing: 
<span class="e">			echo and(v:python3_version&gt;&gt;16,0xff)</span>
		Read-only.

					<span id="v%3Aregister" class="t">v:register</span> <span id="register-variable" class="t">register-variable</span>
<a href="eval.txt.html#v%3Aregister" class="d">v:register</a>	The name of the register in effect for the current normal mode
		command (regardless of whether that command actually used <a href="insert.txt.html#a" class="d">a</a>
		register).  Or for the currently executing normal mode <a href="map.txt.html#mapping" class="d">mapping</a>
		(use this in custom commands that take <a href="insert.txt.html#a" class="d">a</a> register).
		If none <a href="motion.txt.html#is" class="d">is</a> supplied <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> the default register <a href="motion.txt.html#%27" class="d">'</a>"', unless
		<a href="options.txt.html#%27clipboard%27" class="o">'clipboard'</a> contains "unnamed" or "unnamedplus"<a href="motion.txt.html#%2C" class="d">,</a> then <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
		<a href="motion.txt.html#%27" class="d">'</a>*<a href="motion.txt.html#%27" class="d">'</a> or '+'.
		Also see <a href="builtin.txt.html#getreg%28%29" class="l">getreg()</a> and <a href="builtin.txt.html#setreg%28%29" class="l">setreg()</a>

					<span id="v%3Ascrollstart" class="t">v:scrollstart</span> <span id="scrollstart-variable" class="t">scrollstart-variable</span>
<a href="eval.txt.html#v%3Ascrollstart" class="d">v:scrollstart</a>	<a href="eval.txt.html#String" class="d">String</a> describing the <a href="usr_41.txt.html#script" class="d">script</a> or function that caused the
		screen to scroll up.  It's only set when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> empty, thus the
		first reason <a href="motion.txt.html#is" class="d">is</a> remembered.  It <a href="motion.txt.html#is" class="d">is</a> set to "Unknown" for <a href="insert.txt.html#a" class="d">a</a>
		typed command.
		This can be used to find out why your <a href="usr_41.txt.html#script" class="d">script</a> causes the
		<a href="message.txt.html#hit-enter" class="d">hit-enter</a> prompt.

					<span id="v%3Aservername" class="t">v:servername</span> <span id="servername-variable" class="t">servername-variable</span>
<a href="eval.txt.html#v%3Aservername" class="d">v:servername</a>	The resulting registered <a href="remote.txt.html#client-server-name" class="l">client-server-name</a> if any.
		Read-only.


<a href="eval.txt.html#v%3Asearchforward" class="d">v:searchforward</a>			<span id="v%3Asearchforward" class="t">v:searchforward</span> <span id="searchforward-variable" class="t">searchforward-variable</span>
		Search direction:  1 after <a href="insert.txt.html#a" class="d">a</a> forward search, <a href="motion.txt.html#0" class="d">0</a> after <a href="insert.txt.html#a" class="d">a</a>
		backward search.  It <a href="motion.txt.html#is" class="d">is</a> reset to forward when directly setting
		the last search pattern, see <a href="change.txt.html#quote%2F" class="l">quote/</a><a href="repeat.txt.html#." class="d">.</a>
		<span class="n">Note</span> that the value <a href="motion.txt.html#is" class="d">is</a> restored when returning from <a href="insert.txt.html#a" class="d">a</a>
		function. <a href="userfunc.txt.html#function-search-undo" class="l">function-search-undo</a><a href="repeat.txt.html#." class="d">.</a>
		Read-write.

					<span id="v%3Ashell_error" class="t">v:shell_error</span> <span id="shell_error-variable" class="t">shell_error-variable</span>
<a href="eval.txt.html#v%3Ashell_error" class="d">v:shell_error</a>	Result of the last shell command.  When non-zero, the last
		shell command had an error.  When zero, there was no problem.
		This only works when the shell returns the error code to Vim.
		The value -1 <a href="motion.txt.html#is" class="d">is</a> often used when the command could not be
		executed.  Read-only.
		Example: 
<span class="e">	:!mv foo bar</span>
<span class="e">	:if v:shell_error</span>
<span class="e">	:  echo 'could not rename "foo" to "bar"!'</span>
<span class="e">	:endif</span>
		"shell_error" also works, for backwards compatibility, unless
		<a href="eval.txt.html#scriptversion" class="l">scriptversion</a> <a href="motion.txt.html#is" class="d">is</a> 3 or higher.

					<span id="v%3Asizeofint" class="t">v:sizeofint</span> <span id="sizeofint-variable" class="t">sizeofint-variable</span>
<a href="eval.txt.html#v%3Asizeofint" class="d">v:sizeofint</a>	<a href="eval.txt.html#Number" class="d">Number</a> of bytes in an int.  Depends on how Vim was compiled.
		This <a href="motion.txt.html#is" class="d">is</a> only useful for deciding whether <a href="insert.txt.html#a" class="d">a</a> test will give the
		expected result.

					<span id="v%3Asizeoflong" class="t">v:sizeoflong</span> <span id="sizeoflong-variable" class="t">sizeoflong-variable</span>
<a href="eval.txt.html#v%3Asizeoflong" class="d">v:sizeoflong</a>	<a href="eval.txt.html#Number" class="d">Number</a> of bytes in <a href="insert.txt.html#a" class="d">a</a> long.  Depends on how Vim was compiled.
		This <a href="motion.txt.html#is" class="d">is</a> only useful for deciding whether <a href="insert.txt.html#a" class="d">a</a> test will give the
		expected result.

				<span id="v%3Asizeofpointer" class="t">v:sizeofpointer</span> <span id="sizeofpointer-variable" class="t">sizeofpointer-variable</span>
<a href="eval.txt.html#v%3Asizeofpointer" class="d">v:sizeofpointer</a>	<a href="eval.txt.html#Number" class="d">Number</a> of bytes in <a href="insert.txt.html#a" class="d">a</a> pointer.  Depends on how Vim was compiled.
		This <a href="motion.txt.html#is" class="d">is</a> only useful for deciding whether <a href="insert.txt.html#a" class="d">a</a> test will give the
		expected result.

					<span id="v%3Astacktrace" class="t">v:stacktrace</span> <span id="stacktrace-variable" class="t">stacktrace-variable</span>
<a href="eval.txt.html#v%3Astacktrace" class="d">v:stacktrace</a>	The stack trace of the exception most recently caught and
		not finished.  Refer to <a href="builtin.txt.html#getstacktrace%28%29" class="l">getstacktrace()</a> for the structure of
		stack trace.  See also <a href="eval.txt.html#v%3Aexception" class="l">v:exception</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#v%3Athrowpoint" class="l">v:throwpoint</a><a href="motion.txt.html#%2C" class="d">,</a> and
		<a href="eval.txt.html#throw-variables" class="l">throw-variables</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Astatusmsg" class="t">v:statusmsg</span> <span id="statusmsg-variable" class="t">statusmsg-variable</span>
<a href="eval.txt.html#v%3Astatusmsg" class="d">v:statusmsg</a>	Last given status message.  It's allowed to set this variable.

					<span id="v%3Aswapname" class="t">v:swapname</span> <span id="swapname-variable" class="t">swapname-variable</span>
<a href="eval.txt.html#v%3Aswapname" class="d">v:swapname</a>	Only valid when executing <a href="autocmd.txt.html#SwapExists" class="l">SwapExists</a> autocommands: Name of
		the swap file found.  Read-only.

					<span id="v%3Aswapchoice" class="t">v:swapchoice</span> <span id="swapchoice-variable" class="t">swapchoice-variable</span>
<a href="eval.txt.html#v%3Aswapchoice" class="d">v:swapchoice</a>	<a href="autocmd.txt.html#SwapExists" class="l">SwapExists</a> <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> can set this to the selected choice
		for handling an existing swap file:
			'o'	Open read-only
			'e'	Edit anyway
			'r'	Recover
			'd'	Delete swapfile
			'q'	Quit
			'a'	Abort
		The value should be <a href="insert.txt.html#a" class="d">a</a> single-character string.  An empty value
		results in the user being asked, <a href="motion.txt.html#as" class="d">as</a> would happen when there <a href="motion.txt.html#is" class="d">is</a>
		no <a href="autocmd.txt.html#SwapExists" class="d">SwapExists</a> autocommand.  The default <a href="motion.txt.html#is" class="d">is</a> empty.

					<span id="v%3Aswapcommand" class="t">v:swapcommand</span> <span id="swapcommand-variable" class="t">swapcommand-variable</span>
<a href="eval.txt.html#v%3Aswapcommand" class="d">v:swapcommand</a>	<a href="intro.txt.html#Normal" class="d">Normal</a> mode command to be executed after <a href="insert.txt.html#a" class="d">a</a> file has been
		opened.  Can be used for <a href="insert.txt.html#a" class="d">a</a> <a href="autocmd.txt.html#SwapExists" class="l">SwapExists</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> to have
		another Vim open the file and jump to the right place.  For
		example, when jumping to <a href="insert.txt.html#a" class="d">a</a> <a href="tagsrch.txt.html#tag" class="d">tag</a> the value <a href="motion.txt.html#is" class="d">is</a> "<a href="tagsrch.txt.html#%3Atag" class="d">:tag</a> tagname\r"<a href="repeat.txt.html#." class="d">.</a>
		For "<a href="editing.txt.html#%3Aedit" class="d">:edit</a> <a href="editing.txt.html#%2Bcmd" class="d">+cmd</a> file" the value <a href="motion.txt.html#is" class="d">is</a> ":cmd\r"<a href="repeat.txt.html#." class="d">.</a>

				<span id="v%3At_TYPE" class="t">v:t_TYPE</span> <span id="v%3At_bool" class="t">v:t_bool</span> <span id="t_bool-variable" class="t">t_bool-variable</span>
<a href="eval.txt.html#v%3At_bool" class="d">v:t_bool</a>	Value of <a href="eval.txt.html#Boolean" class="l">Boolean</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_channel" class="t">v:t_channel</span> <span id="t_channel-variable" class="t">t_channel-variable</span>
<a href="eval.txt.html#v%3At_channel" class="d">v:t_channel</a>	Value of <a href="eval.txt.html#Channel" class="l">Channel</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_dict" class="t">v:t_dict</span> <span id="t_dict-variable" class="t">t_dict-variable</span>
<a href="eval.txt.html#v%3At_dict" class="d">v:t_dict</a>	Value of <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_float" class="t">v:t_float</span> <span id="t_float-variable" class="t">t_float-variable</span>
<a href="eval.txt.html#v%3At_float" class="d">v:t_float</a>	Value of <a href="eval.txt.html#Float" class="l">Float</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_func" class="t">v:t_func</span> <span id="t_func-variable" class="t">t_func-variable</span>
<a href="eval.txt.html#v%3At_func" class="d">v:t_func</a>	Value of <a href="eval.txt.html#Funcref" class="l">Funcref</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_job" class="t">v:t_job</span> <span id="t_job-variable" class="t">t_job-variable</span>
<a href="eval.txt.html#v%3At_job" class="d">v:t_job</a>		Value of <a href="eval.txt.html#Job" class="l">Job</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_list" class="t">v:t_list</span> <span id="t_list-variable" class="t">t_list-variable</span>
<a href="eval.txt.html#v%3At_list" class="d">v:t_list</a>	Value of <a href="eval.txt.html#List" class="l">List</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_none" class="t">v:t_none</span> <span id="t_none-variable" class="t">t_none-variable</span>
<a href="eval.txt.html#v%3At_none" class="d">v:t_none</a>	Value of <a href="eval.txt.html#None" class="l">None</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_number" class="t">v:t_number</span> <span id="t_number-variable" class="t">t_number-variable</span>
<a href="eval.txt.html#v%3At_number" class="d">v:t_number</a>	Value of <a href="eval.txt.html#Number" class="l">Number</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_string" class="t">v:t_string</span> <span id="t_string-variable" class="t">t_string-variable</span>
<a href="eval.txt.html#v%3At_string" class="d">v:t_string</a>	Value of <a href="eval.txt.html#String" class="l">String</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_blob" class="t">v:t_blob</span> <span id="t_blob-variable" class="t">t_blob-variable</span>
<a href="eval.txt.html#v%3At_blob" class="d">v:t_blob</a>	Value of <a href="eval.txt.html#Blob" class="l">Blob</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_class" class="t">v:t_class</span> <span id="t_class-variable" class="t">t_class-variable</span>
<a href="eval.txt.html#v%3At_class" class="d">v:t_class</a>	Value of <a href="vim9class.txt.html#class" class="l">class</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_object" class="t">v:t_object</span> <span id="t_object-variable" class="t">t_object-variable</span>
<a href="eval.txt.html#v%3At_object" class="d">v:t_object</a>	Value of <a href="vim9class.txt.html#object" class="l">object</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_typealias" class="t">v:t_typealias</span> <span id="t_typealias-variable" class="t">t_typealias-variable</span>
<a href="eval.txt.html#v%3At_typealias" class="d">v:t_typealias</a>	Value of <a href="vim9class.txt.html#typealias" class="l">typealias</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_enum" class="t">v:t_enum</span> <span id="t_enum-variable" class="t">t_enum-variable</span>
<a href="eval.txt.html#v%3At_enum" class="d">v:t_enum</a>	Value of <a href="vim9class.txt.html#enum" class="l">enum</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_enumvalue" class="t">v:t_enumvalue</span> <span id="t_enumvalue-variable" class="t">t_enumvalue-variable</span>
<a href="eval.txt.html#v%3At_enumvalue" class="d">v:t_enumvalue</a>	Value of <a href="vim9class.txt.html#enumvalue" class="l">enumvalue</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>
					<span id="v%3At_tuple" class="t">v:t_tuple</span> <span id="t_tuple-variable" class="t">t_tuple-variable</span>
<a href="eval.txt.html#v%3At_tuple" class="d">v:t_tuple</a>	Value of <a href="eval.txt.html#Tuple" class="l">Tuple</a> type.  Read-only.  See: <a href="builtin.txt.html#type%28%29" class="l">type()</a>

				    <span id="v%3Atermresponse" class="t">v:termresponse</span> <span id="termresponse-variable" class="t">termresponse-variable</span>
<a href="eval.txt.html#v%3Atermresponse" class="d">v:termresponse</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_RV" class="l">t_RV</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  It <a href="motion.txt.html#is" class="d">is</a> set when Vim receives an <a href="intro.txt.html#escape" class="d">escape</a> sequence
		that starts with ESC <a href="index.txt.html#%5B" class="d">[</a> or CSI, then '&gt;' or '?' and ends in <a href="insert.txt.html#a" class="d">a</a>
		'c', with only digits and ';' in between.
		When this variable <a href="motion.txt.html#is" class="d">is</a> set, the <a href="autocmd.txt.html#TermResponse" class="d">TermResponse</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event
		<a href="motion.txt.html#is" class="d">is</a> fired, so that you can react to the response from the
		terminal.  The <a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> event <a href="motion.txt.html#is" class="d">is</a> also fired, with
		<a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set to "version"<a href="repeat.txt.html#." class="d">.</a>  You can use <a href="builtin.txt.html#terminalprops%28%29" class="l">terminalprops()</a> to
		see what Vim figured out about the terminal.
		The response from <a href="insert.txt.html#a" class="d">a</a> new xterm is: "<a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>[&gt; Pp <a href="motion.txt.html#%3B" class="d">;</a> Pv <a href="motion.txt.html#%3B" class="d">;</a> Pc <a href="change.txt.html#c" class="d">c</a>"<a href="repeat.txt.html#." class="d">.</a>
		Pp <a href="motion.txt.html#is" class="d">is</a> the <a href="terminal.txt.html#terminal" class="d">terminal</a> type: <a href="motion.txt.html#0" class="d">0</a> for vt100 and 1 for vt220.  Pv <a href="motion.txt.html#is" class="d">is</a>
		the patch level (since this was introduced in patch 95, it's
		always 95 or higher).  Pc <a href="motion.txt.html#is" class="d">is</a> always zero.
		If Pv <a href="motion.txt.html#is" class="d">is</a> 141 or higher then Vim will try to request <a href="terminal.txt.html#terminal" class="d">terminal</a>
		codes.  This only works with xterm <a href="term.txt.html#xterm-codes" class="l">xterm-codes</a><a href="repeat.txt.html#." class="d">.</a>
		<span class="s">{only when compiled with |+termresponse| feature}</span>

				    <span id="v%3Atermblinkresp" class="t">v:termblinkresp</span> <span id="termblinkresp-variable" class="t">termblinkresp-variable</span>
<a href="eval.txt.html#v%3Atermblinkresp" class="d">v:termblinkresp</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_RC" class="l">t_RC</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  This <a href="motion.txt.html#is" class="d">is</a> used to find out whether the <a href="terminal.txt.html#terminal" class="d">terminal</a>
		cursor <a href="motion.txt.html#is" class="d">is</a> blinking.  This <a href="motion.txt.html#is" class="d">is</a> used by <a href="terminal.txt.html#term_getcursor%28%29" class="l">term_getcursor()</a><a href="repeat.txt.html#." class="d">.</a>  When
		this variable <a href="motion.txt.html#is" class="d">is</a> set, the <a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a>
		fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set to "cursorblink"<a href="repeat.txt.html#." class="d">.</a>

				    <span id="v%3Atermstyleresp" class="t">v:termstyleresp</span> <span id="termstyleresp-variable" class="t">termstyleresp-variable</span>
<a href="eval.txt.html#v%3Atermstyleresp" class="d">v:termstyleresp</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_RS" class="l">t_RS</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  This <a href="motion.txt.html#is" class="d">is</a> used to find out what the shape of the
		cursor is.  This <a href="motion.txt.html#is" class="d">is</a> used by <a href="terminal.txt.html#term_getcursor%28%29" class="l">term_getcursor()</a><a href="repeat.txt.html#." class="d">.</a>  When this
		variable <a href="motion.txt.html#is" class="d">is</a> set, the <a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a>
		fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set to "cursorshape"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Atermrbgresp" class="t">v:termrbgresp</span> <span id="termrbgresp-variable" class="t">termrbgresp-variable</span>
<a href="eval.txt.html#v%3Atermrbgresp" class="d">v:termrbgresp</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_RB" class="l">t_RB</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  This <a href="motion.txt.html#is" class="d">is</a> used to find out what the <a href="terminal.txt.html#terminal" class="d">terminal</a>
		background color is; see <a href="options.txt.html#%27background%27" class="o">'background'</a>.  When this variable <a href="motion.txt.html#is" class="d">is</a>
		set, the <a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a> fired, with
		<a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set to "background"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Atermrfgresp" class="t">v:termrfgresp</span> <span id="termrfgresp-variable" class="t">termrfgresp-variable</span>
<a href="eval.txt.html#v%3Atermrfgresp" class="d">v:termrfgresp</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_RF" class="l">t_RF</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  This <a href="motion.txt.html#is" class="d">is</a> used to find out what the <a href="terminal.txt.html#terminal" class="d">terminal</a>
		foreground color is.  When this variable <a href="motion.txt.html#is" class="d">is</a> set, the
		<a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a> fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set
		to "foreground"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Atermu7resp" class="t">v:termu7resp</span> <span id="termu7resp-variable" class="t">termu7resp-variable</span>
<a href="eval.txt.html#v%3Atermu7resp" class="d">v:termu7resp</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by the <a href="terminal.txt.html#terminal" class="d">terminal</a> for the <a href="term.txt.html#t_u7" class="l">t_u7</a>
		<a href="term.txt.html#termcap" class="d">termcap</a> entry.  This <a href="motion.txt.html#is" class="d">is</a> used to find out what the <a href="terminal.txt.html#terminal" class="d">terminal</a>
		does with ambiguous width characters, see <a href="options.txt.html#%27ambiwidth%27" class="o">'ambiwidth'</a>.  When
		this variable <a href="motion.txt.html#is" class="d">is</a> set, the <a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a>
		fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set to "ambiguouswidth"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Atermda1" class="t">v:termda1</span> <span id="termda1-variable" class="t">termda1-variable</span>
<a href="eval.txt.html#v%3Atermda1" class="d">v:termda1</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence returned by <a href="insert.txt.html#a" class="d">a</a> primary device attributes
		(DA1) query from the terminal.  When this variable <a href="motion.txt.html#is" class="d">is</a> set, the
		<a href="autocmd.txt.html#TermResponseAll" class="d">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a> fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a> set
		to "da1"<a href="repeat.txt.html#." class="d">.</a>  Can be used to detect OSC 52 support in <a href="insert.txt.html#a" class="d">a</a> terminal.

					<span id="v%3Atermosc" class="t">v:termosc</span> <span id="termosc-variable" class="t">termosc-variable</span>
<a href="eval.txt.html#v%3Atermosc" class="d">v:termosc</a>	The <a href="intro.txt.html#escape" class="d">escape</a> sequence of the most recent OSC response received
		from the terminal.  When this variable <a href="motion.txt.html#is" class="d">is</a> set, the
		<a href="autocmd.txt.html#TermResponseAll" class="l">TermResponseAll</a> <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> event <a href="motion.txt.html#is" class="d">is</a> fired, with <a href="cmdline.txt.html#%3Camatch%3E" class="s">&lt;amatch&gt;</a>
		set to "osc"<a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Atesting" class="t">v:testing</span> <span id="testing-variable" class="t">testing-variable</span>
<a href="eval.txt.html#v%3Atesting" class="d">v:testing</a>	Must be set before using <span class="e">test_garbagecollect_now()</span>.
		Also, when set certain error <a href="message.txt.html#messages" class="d">messages</a> won't be shown for 2
		seconds. (e.g. "<a href="options.txt.html#%27dictionary%27" class="o">'dictionary'</a> option <a href="motion.txt.html#is" class="d">is</a> empty"<a href="motion.txt.html#%29" class="d">)</a>

				<span id="v%3Athis_session" class="t">v:this_session</span> <span id="this_session-variable" class="t">this_session-variable</span>
<a href="eval.txt.html#v%3Athis_session" class="d">v:this_session</a>	Full filename of the last loaded or saved session file.  See
		<a href="starting.txt.html#%3Amksession" class="l">:mksession</a><a href="repeat.txt.html#." class="d">.</a>  It <a href="motion.txt.html#is" class="d">is</a> allowed to set this variable.  When no
		session file has been saved, this variable <a href="motion.txt.html#is" class="d">is</a> empty.
		"this_session" also works, for backwards compatibility, unless
		<a href="eval.txt.html#scriptversion" class="l">scriptversion</a> <a href="motion.txt.html#is" class="d">is</a> 3 or higher

					<span id="v%3Athrowpoint" class="t">v:throwpoint</span> <span id="throwpoint-variable" class="t">throwpoint-variable</span>
<a href="eval.txt.html#v%3Athrowpoint" class="d">v:throwpoint</a>	The point where the exception most recently caught and not
		finished was thrown.  Not set when commands are typed.  See
		also <a href="eval.txt.html#v%3Aexception" class="l">v:exception</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#v%3Astacktrace" class="l">v:stacktrace</a><a href="motion.txt.html#%2C" class="d">,</a> and <a href="eval.txt.html#throw-variables" class="l">throw-variables</a><a href="repeat.txt.html#." class="d">.</a>
		Example: 
<span class="e">	:try</span>
<span class="e">	:  throw "oops"</span>
<span class="e">	:catch /.*/</span>
<span class="e">	:  echo "Exception from" v:throwpoint</span>
<span class="e">	:endtry</span>
		Output: "Exception from test.vim, line 2"

						<span id="v%3Atrue" class="t">v:true</span> <span id="true-variable" class="t">true-variable</span>
<a href="eval.txt.html#v%3Atrue" class="d">v:true</a>		<a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#Number" class="d">Number</a> with value one.  Used to <a href="change.txt.html#put" class="d">put</a> "<a href="vim9.txt.html#true" class="d">true</a>" in JSON.  See
		<a href="builtin.txt.html#json_encode%28%29" class="l">json_encode()</a><a href="repeat.txt.html#." class="d">.</a>
		When used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> this evaluates to "<a href="eval.txt.html#v%3Atrue" class="d">v:true</a>"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">			echo v:true</span>
<span class="h">			v:true </span>
		That <a href="motion.txt.html#is" class="d">is</a> so that <a href="builtin.txt.html#eval%28%29" class="d">eval()</a> can parse the <a href="eval.txt.html#string" class="d">string</a> back to the same
		value.  Read-only.
		In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> "<a href="vim9.txt.html#true" class="d">true</a>" can be used which has <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#boolean" class="d">boolean</a> type.
						<span id="v%3Aval" class="t">v:val</span> <span id="val-variable" class="t">val-variable</span>
<a href="eval.txt.html#v%3Aval" class="d">v:val</a>		Value of the current item of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="repeat.txt.html#." class="d">.</a>  Only
		valid while evaluating the <a href="eval.txt.html#expression" class="d">expression</a> used with <a href="builtin.txt.html#map%28%29" class="l">map()</a> and
		<a href="builtin.txt.html#filter%28%29" class="l">filter()</a><a href="repeat.txt.html#." class="d">.</a>  Read-only.

					<span id="v%3Aversion" class="t">v:version</span> <span id="version-variable" class="t">version-variable</span>
<a href="eval.txt.html#v%3Aversion" class="d">v:version</a>	Version number of Vim: Major version number times 100 plus
		minor version number.  Version 5.0 <a href="motion.txt.html#is" class="d">is</a> 500.  Version 5.1
		<a href="motion.txt.html#is" class="d">is</a> 501.  Read-only.  "version" also works, for backwards
		compatibility, unless <a href="eval.txt.html#scriptversion" class="l">scriptversion</a> <a href="motion.txt.html#is" class="d">is</a> 3 or higher.
		Use <a href="builtin.txt.html#has%28%29" class="l">has()</a> to check if <a href="insert.txt.html#a" class="d">a</a> certain patch was included, e.g.: 
<span class="e">			if has("patch-7.4.123")</span>
		<span class="n">Note</span> that patch numbers are specific to the version, thus both
		version 5.0 and 5.1 may have <a href="insert.txt.html#a" class="d">a</a> patch 123, but these are
		completely different.

					<span id="v%3Aversionlong" class="t">v:versionlong</span> <span id="versionlong-variable" class="t">versionlong-variable</span>
<a href="eval.txt.html#v%3Aversionlong" class="d">v:versionlong</a>	Like v:version, but also including the patchlevel in the last
		four digits.  Version 8.1 with patch 123 has value 8010123.
		This can be used like this: 
<span class="e">			if v:versionlong &gt;= 8010123</span>
		However, if there are gaps in the <a href="eval.txt.html#list" class="d">list</a> of patches included
		this will not work well.  This can happen if <a href="insert.txt.html#a" class="d">a</a> recent patch
		was included into an older version, e.g. for <a href="insert.txt.html#a" class="d">a</a> security fix.
		Use the <a href="builtin.txt.html#has%28%29" class="d">has()</a> function to make sure the patch <a href="motion.txt.html#is" class="d">is</a> actually
		included.

				<span id="v%3Avim_did_enter" class="t">v:vim_did_enter</span> <span id="vim_did_enter-variable" class="t">vim_did_enter-variable</span>
<a href="eval.txt.html#v%3Avim_did_enter" class="d">v:vim_did_enter</a>	Zero until most of <a href="starting.txt.html#startup" class="d">startup</a> <a href="motion.txt.html#is" class="d">is</a> done.  It <a href="motion.txt.html#is" class="d">is</a> set to one just
		before <a href="autocmd.txt.html#VimEnter" class="l">VimEnter</a> <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> are triggered.

				<span id="v%3Avim_did_init" class="t">v:vim_did_init</span> <span id="vim_did_init-variable" class="t">vim_did_init-variable</span>
<a href="eval.txt.html#v%3Avim_did_init" class="d">v:vim_did_init</a>	Zero until <a href="starting.txt.html#initialization" class="d">initialization</a> <a href="motion.txt.html#is" class="d">is</a> done.  It <a href="motion.txt.html#is" class="d">is</a> set to one just
		after <a href="starting.txt.html#vimrc" class="l">vimrc</a> <a href="motion.txt.html#is" class="d">is</a> sourced and before <a href="starting.txt.html#load-plugins" class="l">load-plugins</a><a href="repeat.txt.html#." class="d">.</a>

					<span id="v%3Awarningmsg" class="t">v:warningmsg</span> <span id="warningmsg-variable" class="t">warningmsg-variable</span>
<a href="eval.txt.html#v%3Awarningmsg" class="d">v:warningmsg</a>	Last given warning message.  It's allowed to set this
		variable.

				<span id="v%3Awayland_display" class="t">v:wayland_display</span> <span id="wayland_display-variable" class="t">wayland_display-variable</span>
<a href="eval.txt.html#v%3Awayland_display" class="d">v:wayland_display</a>
		The name of the Wayland display that Vim <a href="motion.txt.html#is" class="d">is</a> connected to.
		Equivalent to the $WAYLAND_DISPLAY environment variable.
		If this <a href="motion.txt.html#is" class="d">is</a> empty, then Vim <a href="motion.txt.html#is" class="d">is</a> not connected to any display.

					<span id="v%3Awindowid" class="t">v:windowid</span> <span id="windowid-variable" class="t">windowid-variable</span>
<a href="eval.txt.html#v%3Awindowid" class="d">v:windowid</a>	When any X11/Wayland based <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="motion.txt.html#is" class="d">is</a> running or when running in <a href="insert.txt.html#a" class="d">a</a>
		<a href="terminal.txt.html#terminal" class="d">terminal</a> and Vim connects to the <a href="change.txt.html#X" class="d">X</a> server <a href="motion.txt.html#%28" class="d">(</a><a href="starting.txt.html#-X" class="l">-X</a><a href="motion.txt.html#%29" class="d">)</a> this will be
		set to the <a href="windows.txt.html#window" class="d">window</a> ID.
		When an <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="motion.txt.html#is" class="d">is</a> running this will be set to the
		<a href="windows.txt.html#window" class="d">window</a> handle.
		Otherwise the value <a href="motion.txt.html#is" class="d">is</a> zero.
		<span class="n">Note:</span> for <a href="windows.txt.html#windows" class="d">windows</a> inside Vim use <a href="builtin.txt.html#winnr%28%29" class="l">winnr()</a> or <a href="builtin.txt.html#win_getid%28%29" class="l">win_getid()</a><a href="motion.txt.html#%2C" class="d">,</a>
		see <a href="windows.txt.html#window-ID" class="l">window-ID</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
4. Builtin Functions					<span id="functions" class="t">functions</span>

See <a href="usr_41.txt.html#function-list" class="l">function-list</a> for <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> grouped by what the function <a href="motion.txt.html#is" class="d">is</a> used for.

The alphabetic <a href="eval.txt.html#list" class="d">list</a> of all builtin <a href="eval.txt.html#functions" class="d">functions</a> and details are in <a href="insert.txt.html#a" class="d">a</a> separate
<a href="helphelp.txt.html#help" class="d">help</a> file: <a href="builtin.txt.html#builtin-functions" class="l">builtin-functions</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
5. Defining <a href="eval.txt.html#functions" class="d">functions</a>					<span id="user-functions" class="t">user-functions</span>

New <a href="eval.txt.html#functions" class="d">functions</a> can be defined.  These can be called just like builtin
functions.  The function takes arguments, executes <a href="insert.txt.html#a" class="d">a</a> sequence of <a href="intro.txt.html#Ex" class="d">Ex</a> commands
and can return <a href="insert.txt.html#a" class="d">a</a> value.

You can find most information about defining <a href="eval.txt.html#functions" class="d">functions</a> in <a href="userfunc.txt.html#userfunc.txt" class="l">userfunc.txt</a><a href="repeat.txt.html#." class="d">.</a>
For <a href="vim9.txt.html#Vim9" class="d">Vim9</a> functions, which execute much faster, support type checking and more,
see <a href="vim9.txt.html#vim9.txt" class="l">vim9.txt</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
6. Curly braces names					<span id="curly-braces-names" class="t">curly-braces-names</span>

In most places where you can use <a href="insert.txt.html#a" class="d">a</a> variable, you can use <a href="insert.txt.html#a" class="d">a</a> "curly braces name"
variable.  This <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> regular variable name with one or more expressions
wrapped in braces <a href="intro.txt.html#%7B%7D" class="d">{}</a> like this: 
<span class="e">	my_{adjective}_variable</span>
<span class="e"></span>
This only works in legacy Vim script, not in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script.

When Vim encounters this, <a href="motion.txt.html#it" class="d">it</a> evaluates the <a href="eval.txt.html#expression" class="d">expression</a> inside the braces, puts
that in place of the expression, and re-interprets the whole <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> variable
name.  So in the above example, if the variable "adjective" was set to
"noisy"<a href="motion.txt.html#%2C" class="d">,</a> then the <a href="intro.txt.html#reference" class="d">reference</a> would be to "my_noisy_variable"<a href="motion.txt.html#%2C" class="d">,</a> whereas if
"adjective" was set to "quiet"<a href="motion.txt.html#%2C" class="d">,</a> then <a href="motion.txt.html#it" class="d">it</a> would be to "my_quiet_variable"<a href="repeat.txt.html#." class="d">.</a>

One application for this <a href="motion.txt.html#is" class="d">is</a> to create <a href="insert.txt.html#a" class="d">a</a> set of <a href="eval.txt.html#variables" class="d">variables</a> governed by an option
value.  For example, the statement 
<span class="e">	echo my_{&amp;background}_message</span>
<span class="e"></span>
would output the contents of "my_dark_message" or "my_light_message" depending
on the current value of <a href="options.txt.html#%27background%27" class="o">'background'</a>.

You can use multiple brace pairs: 
<span class="e">	echo my_{adverb}_{adjective}_message</span>
..or even nest them: 
<span class="e">	echo my_{ad{end_of_word}}_message</span>
where "end_of_word" <a href="motion.txt.html#is" class="d">is</a> either "verb" or "jective"<a href="repeat.txt.html#." class="d">.</a>

However, the <a href="eval.txt.html#expression" class="d">expression</a> inside the braces <a href="vim_faq.txt.html#must" class="d">must</a> evaluate to <a href="insert.txt.html#a" class="d">a</a> valid single
variable name, e.g. this <a href="motion.txt.html#is" class="d">is</a> invalid: 
<span class="e">	:let foo='a + b'</span>
<span class="e">	:echo c{foo}d</span>
.. since the result of expansion <a href="motion.txt.html#is" class="d">is</a> "ca <a href="motion.txt.html#%2B" class="d">+</a> bd"<a href="motion.txt.html#%2C" class="d">,</a> which <a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a> variable name.

						<span id="curly-braces-function-names" class="t">curly-braces-function-names</span>
You can call and define <a href="eval.txt.html#functions" class="d">functions</a> by an evaluated name in <a href="insert.txt.html#a" class="d">a</a> similar way.
Example: 
<span class="e">	:let func_end='whizz'</span>
<span class="e">	:call my_func_{func_end}(parameter)</span>
<span class="e"></span>
This would call the function "my_func_whizz(parameter)"<a href="repeat.txt.html#." class="d">.</a>

This does NOT work: 
<span class="e">  :let i = 3</span>
<span class="e">  :let @{i} = ''  " error</span>
<span class="e">  :echo @{i}      " error</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
7. Commands						<span id="expression-commands" class="t">expression-commands</span>

<span class="n">Note:</span> in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:let</span> <a href="motion.txt.html#is" class="d">is</a> not used.  <span class="e">:var</span> <a href="motion.txt.html#is" class="d">is</a> used for variable
declarations and assignments <a href="diff.txt.html#do" class="d">do</a> not use <a href="insert.txt.html#a" class="d">a</a> command.  <a href="vim9.txt.html#vim9-declaration" class="l">vim9-declaration</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var-name}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>				<span id="%3Alet" class="t">:let</span> <span id="E18" class="t">E18</span>
			Set internal variable <span class="s">{var-name}</span> to the result of the
			<a href="eval.txt.html#expression" class="d">expression</a> <span class="s">{expr1}</span>.  The variable will get the type
			from the <span class="s">{expr}</span>.  If <span class="s">{var-name}</span> didn't exist yet, <a href="motion.txt.html#it" class="d">it</a>
			<a href="motion.txt.html#is" class="d">is</a> created.

<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var-name}</span>[<span class="s">{idx}</span>] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>			<span id="E689" class="t">E689</span> <span id="E1141" class="t">E1141</span>
			Set <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> item to the result of the <a href="eval.txt.html#expression" class="d">expression</a>
			<span class="s">{expr1}</span>.  <span class="s">{var-name}</span> <a href="vim_faq.txt.html#must" class="d">must</a> refer to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> and <span class="s">{idx}</span>
			<a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> valid <a href="index.txt.html#index" class="d">index</a> in that list.  For nested <a href="eval.txt.html#list" class="d">list</a>
			the <a href="index.txt.html#index" class="d">index</a> can be repeated.
			This cannot be used to add an item to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a><a href="repeat.txt.html#." class="d">.</a>
			This cannot be used to set <a href="insert.txt.html#a" class="d">a</a> byte in <a href="insert.txt.html#a" class="d">a</a> String.  You
			can <a href="diff.txt.html#do" class="d">do</a> that like this: 
<span class="e">				:let var = var[0:2] .. 'X' .. var[4:]</span>
			When <span class="s">{var-name}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a> then <span class="s">{idx}</span> can be the
			length of the blob, in which <a href="change.txt.html#case" class="d">case</a> one byte <a href="motion.txt.html#is" class="d">is</a>
			appended.

					<span id="E711" class="t">E711</span> <span id="E719" class="t">E719</span> <span id="E1165" class="t">E1165</span> <span id="E1166" class="t">E1166</span> <span id="E1183" class="t">E1183</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var-name}</span>[<span class="s">{idx1}</span>:<span class="s">{idx2}</span>] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>		<span id="E708" class="t">E708</span> <span id="E709" class="t">E709</span> <span id="E710" class="t">E710</span>
			Set <a href="insert.txt.html#a" class="d">a</a> sequence of items in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> to the result of
			the <a href="eval.txt.html#expression" class="d">expression</a> <span class="s">{expr1}</span>, which <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> with the
			correct number of items.
			<span class="s">{idx1}</span> can be omitted, zero <a href="motion.txt.html#is" class="d">is</a> used instead.
			<span class="s">{idx2}</span> can be omitted, meaning the <a href="intro.txt.html#end" class="d">end</a> of the list.
			When the selected range of items <a href="motion.txt.html#is" class="d">is</a> partly past the
			<a href="intro.txt.html#end" class="d">end</a> of the list, items will be added.

			<span id="%3Alet%2B%3D" class="t">:let+=</span> <span id="%3Alet-%3D" class="t">:let-=</span> <span id="%3Aletstar%3D" class="t">:letstar=</span> <span id="%3Alet%2F%3D" class="t">:let/=</span>  <span id="%3Alet%25%3D" class="t">:let%=</span>
			<span id="%3Alet.%3D" class="t">:let.=</span> <span id="%3Alet..%3D" class="t">:let..=</span> <span id="E734" class="t">E734</span> <span id="E985" class="t">E985</span> <span id="E1019" class="t">E1019</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> += <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> <a href="motion.txt.html#%2B" class="d">+</a> <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> -= <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> <a href="motion.txt.html#-" class="d">-</a> <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> *<a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> * <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> /= <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> <a href="pattern.txt.html#%2F" class="d">/</a> <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> %= <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> <a href="motion.txt.html#%25" class="d">%</a> <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> .= <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> <a href="repeat.txt.html#." class="d">.</a> <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> ..= <span class="s">{expr1}</span>	Like "<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{var}</span> .. <span class="s">{expr1}</span>"<a href="repeat.txt.html#." class="d">.</a>
			These fail if <span class="s">{var}</span> was not set yet and when the type
			of <span class="s">{var}</span> and <span class="s">{expr1}</span> don't fit the operator.
			<span class="e">+=</span> modifies <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a> in-place instead of
			creating <a href="insert.txt.html#a" class="d">a</a> new one.
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>


<a href="eval.txt.html#%3Alet" class="d">:let</a> ${env-name} <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>			<span id="%3Alet-environment" class="t">:let-environment</span> <span id="%3Alet-%24" class="t">:let-$</span>
			Set environment variable <span class="s">{env-name}</span> to the result of
			the <a href="eval.txt.html#expression" class="d">expression</a> <span class="s">{expr1}</span>.  The type <a href="motion.txt.html#is" class="d">is</a> always String.

			On some systems making an environment variable empty
			causes <a href="motion.txt.html#it" class="d">it</a> to be deleted.  Many systems <a href="diff.txt.html#do" class="d">do</a> not make <a href="insert.txt.html#a" class="d">a</a>
			difference between an environment variable that <a href="motion.txt.html#is" class="d">is</a> not
			set and an environment variable that <a href="motion.txt.html#is" class="d">is</a> empty.

<a href="eval.txt.html#%3Alet" class="d">:let</a> ${env-name} .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> ${env-name} ..= <span class="s">{expr1}</span>
			Append <span class="s">{expr1}</span> to the environment variable <span class="s">{env-name}</span>.
			If the environment variable didn't exist yet this
			works like "<a href="change.txt.html#%3D" class="d">=</a>"<a href="repeat.txt.html#." class="d">.</a>
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> @{reg-name} <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>			<span id="%3Alet-register" class="t">:let-register</span> <span id="%3Alet-%40" class="t">:let-@</span>
			Write the result of the <a href="eval.txt.html#expression" class="d">expression</a> <span class="s">{expr1}</span> in register
			<span class="s">{reg-name}</span>.  <span class="s">{reg-name}</span> <a href="vim_faq.txt.html#must" class="d">must</a> be <a href="insert.txt.html#a" class="d">a</a> single letter, and
			<a href="vim_faq.txt.html#must" class="d">must</a> be the name of <a href="insert.txt.html#a" class="d">a</a> writable register (see
			<a href="change.txt.html#registers" class="l">registers</a>).  "<a href="repeat.txt.html#%40%40" class="d">@@</a>" can be used for the unnamed
			register, "<a href="change.txt.html#%40%2F" class="d">@/</a>" for the search pattern.
			If the result of <span class="s">{expr1}</span> ends in <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> or <a href="motion.txt.html#%3CNL%3E" class="s">&lt;NL&gt;</a>, the
			register will be linewise, otherwise <a href="motion.txt.html#it" class="d">it</a> will be set to
			characterwise.
			This can be used to clear the last search pattern: 
<span class="e">				:let @/ = ""</span>
			This <a href="motion.txt.html#is" class="d">is</a> different from searching for an empty string,
			that would match everywhere.

<a href="eval.txt.html#%3Alet" class="d">:let</a> @{reg-name} .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> @{reg-name} ..= <span class="s">{expr1}</span>
			Append <span class="s">{expr1}</span> to register <span class="s">{reg-name}</span>.  If the
			register was empty it's like setting <a href="motion.txt.html#it" class="d">it</a> to <span class="s">{expr1}</span>.
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;{option-name} <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>			<span id="%3Alet-option" class="t">:let-option</span> <span id="%3Alet-%26" class="t">:let-&amp;</span>
			Set option <span class="s">{option-name}</span> to the result of the
			<a href="eval.txt.html#expression" class="d">expression</a> <span class="s">{expr1}</span>.  <a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#String" class="d">String</a> or <a href="eval.txt.html#Number" class="d">Number</a> value <a href="motion.txt.html#is" class="d">is</a>
			always converted to the type of the option.
			For an option local to <a href="insert.txt.html#a" class="d">a</a> <a href="windows.txt.html#window" class="d">window</a> or buffer the effect
			<a href="motion.txt.html#is" class="d">is</a> just like using the <a href="options.txt.html#%3Aset" class="l">:set</a> command: both the local
			value and the global value are changed.
			Example: 
<span class="e">				:let &amp;path = &amp;path .. ',/usr/local/include'</span>
			This also works for <a href="terminal.txt.html#terminal" class="d">terminal</a> codes in the form t_xx.
			But only for alphanumerical names.  Example: 
<span class="e">				:let &amp;t_k1 = "\&lt;Esc&gt;[234;"</span>
			When the code does not exist yet <a href="motion.txt.html#it" class="d">it</a> will be created <a href="motion.txt.html#as" class="d">as</a>
			<a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#terminal" class="d">terminal</a> key code, there <a href="motion.txt.html#is" class="d">is</a> no error.

<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;{option-name} .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;{option-name} ..= <span class="s">{expr1}</span>
			For <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> option: Append <span class="s">{expr1}</span> to the value.
			Does not <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> comma like <a href="options.txt.html#%3Aset%2B%3D" class="l">:set+=</a><a href="repeat.txt.html#." class="d">.</a>
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;{option-name} += <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;{option-name} -= <span class="s">{expr1}</span>
			For <a href="insert.txt.html#a" class="d">a</a> number or <a href="options.txt.html#boolean" class="d">boolean</a> option: Add or subtract
			<span class="s">{expr1}</span>.

<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;l:{option-name} <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;l:{option-name} += <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;l:{option-name} -= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;l:{option-name} .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;l:{option-name} ..= <span class="s">{expr1}</span>
			Like above, but only set the local value of an option
			(if there <a href="motion.txt.html#is" class="d">is</a> one).  Works like <a href="options.txt.html#%3Asetlocal" class="l">:setlocal</a><a href="repeat.txt.html#." class="d">.</a>
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;g:{option-name} <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;g:{option-name} += <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;g:{option-name} -= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;g:{option-name} .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> &amp;g:{option-name} ..= <span class="s">{expr1}</span>
			Like above, but only set the global value of an option
			(if there <a href="motion.txt.html#is" class="d">is</a> one).  Works like <a href="options.txt.html#%3Asetglobal" class="l">:setglobal</a><a href="repeat.txt.html#." class="d">.</a>
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="E1093" class="t">E1093</span> <span id="E1537" class="t">E1537</span> <span id="E1538" class="t">E1538</span> <span id="E1535" class="t">E1535</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>		<span id="%3Alet-unpack" class="t">:let-unpack</span> <span id="E687" class="t">E687</span> <span id="E688" class="t">E688</span>
			<span class="s">{expr1}</span> <a href="vim_faq.txt.html#must" class="d">must</a> evaluate to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="repeat.txt.html#." class="d">.</a>  The
			first item in the <a href="eval.txt.html#list" class="d">list</a> or <a href="eval.txt.html#tuple" class="d">tuple</a> <a href="motion.txt.html#is" class="d">is</a> assigned to
			<span class="s">{name1}</span>, the second item to <span class="s">{name2}</span>, etc.
			The number of names <a href="vim_faq.txt.html#must" class="d">must</a> match the number of items in
			the <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="repeat.txt.html#." class="d">.</a>
			Each name can be one of the items of the "<a href="eval.txt.html#%3Alet" class="d">:let</a>"
			command <a href="motion.txt.html#as" class="d">as</a> mentioned above.
			Example: 
<span class="e">				:let [s, item] = GetItem(s)</span>
			Detail: <span class="s">{expr1}</span> <a href="motion.txt.html#is" class="d">is</a> evaluated first, then the
			assignments are done in sequence.  This matters if
			<span class="s">{name2}</span> depends on <span class="s">{name1}</span>.  Example: 
<span class="e">				:let x = [0, 1]</span>
<span class="e">				:let i = 0</span>
<span class="e">				:let [i, x[i]] = [1, 2]</span>
<span class="e">				:echo x</span>
			The result <a href="motion.txt.html#is" class="d">is</a> [0, 2].

<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] += <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] -= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] *<a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] /= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] %= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name1}, <span class="s">{name2}</span>, ...] ..= <span class="s">{expr1}</span>
			Like above, but add, subtract, multiply, divide,
			modulo, or append the value for each <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a>
			item.
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>				<span id="E452" class="t">E452</span>
			Like <a href="eval.txt.html#%3Alet-unpack" class="l">:let-unpack</a> above, but the <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a>
			may have more items than there are names.  <a href="insert.txt.html#A" class="d">A</a> <a href="eval.txt.html#list" class="d">list</a> or <a href="insert.txt.html#a" class="d">a</a>
			<a href="eval.txt.html#tuple" class="d">tuple</a> of the remaining items <a href="motion.txt.html#is" class="d">is</a> assigned to
			<span class="s">{lastname}</span>.  If there are no remaining items,
			<span class="s">{lastname}</span> <a href="motion.txt.html#is" class="d">is</a> set to an empty <a href="eval.txt.html#list" class="d">list</a> or tuple.
			Example: 
<span class="e">				:let [a, b; rest] = ["aval", "bval", 3, 4]</span>
<span class="e">				:let [a, b; rest] = ("aval", "bval", 3, 4)</span>

<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] += <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] -= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] .= <span class="s">{expr1}</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] ..= <span class="s">{expr1}</span>
			Like above, but add/subtract/append the value for each
			<a href="eval.txt.html#List" class="l">List</a> item.
			<span class="e">.=</span> <a href="motion.txt.html#is" class="d">is</a> not supported with Vim <a href="usr_41.txt.html#script" class="d">script</a> version 2 and
			later, see <a href="eval.txt.html#vimscript-version" class="l">vimscript-version</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="%3Alet%3D%3C%3C" class="t">:let=&lt;&lt;</span> <span id="%3Alet-heredoc" class="t">:let-heredoc</span>
					<span id="E990" class="t">E990</span> <span id="E991" class="t">E991</span> <span id="E172" class="t">E172</span> <span id="E221" class="t">E221</span> <span id="E1145" class="t">E1145</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var-name}</span> =&lt;&lt; <span class="s">[trim]</span> <span class="s">[eval]</span> <span class="s">{endmarker}</span>
text...
text...
<span class="s">{endmarker}</span>
			Set internal variable <span class="s">{var-name}</span> to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a>
			containing the lines of text bounded by the <a href="eval.txt.html#string" class="d">string</a>
			<span class="s">{endmarker}</span>.

			If "<a href="eval.txt.html#eval" class="d">eval</a>" <a href="motion.txt.html#is" class="d">is</a> not specified, then each line of text <a href="motion.txt.html#is" class="d">is</a>
			used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#literal-string" class="l">literal-string</a><a href="motion.txt.html#%2C" class="d">,</a> except that single <a href="quotes.txt.html#quotes" class="d">quotes</a>
			does not need to be doubled.
			If "<a href="eval.txt.html#eval" class="d">eval</a>" <a href="motion.txt.html#is" class="d">is</a> specified, then any Vim <a href="eval.txt.html#expression" class="d">expression</a> in the
			form <span class="s">{expr}</span> <a href="motion.txt.html#is" class="d">is</a> evaluated and the result replaces the
			expression, like with <a href="eval.txt.html#interpolated-string" class="l">interpolated-string</a><a href="repeat.txt.html#." class="d">.</a>
			Example where <a href="options.txt.html#%24HOME" class="d">$HOME</a> <a href="motion.txt.html#is" class="d">is</a> expanded: 
<span class="e">				let lines =&lt;&lt; trim eval END</span>
<span class="e">				  some text</span>
<span class="e">				  See the file {$HOME}/.vimrc</span>
<span class="e">				  more text</span>
<span class="e">				END</span>
			There can be multiple Vim expressions in <a href="insert.txt.html#a" class="d">a</a> single line
			but an <a href="eval.txt.html#expression" class="d">expression</a> cannot span multiple lines.  If any
			<a href="eval.txt.html#expression" class="d">expression</a> evaluation fails, then the assignment
			fails.

			<span class="s">{endmarker}</span> <a href="vim_faq.txt.html#must" class="d">must</a> not contain white space.
			<span class="s">{endmarker}</span> cannot start with <a href="insert.txt.html#a" class="d">a</a> lower <a href="change.txt.html#case" class="d">case</a> character.
			The last line should <a href="intro.txt.html#end" class="d">end</a> only with the <span class="s">{endmarker}</span>
			<a href="eval.txt.html#string" class="d">string</a> without any other character.  Watch out for
			white <a href="intro.txt.html#space" class="d">space</a> after <span class="s">{endmarker}</span>!

			Without "trim" any white <a href="intro.txt.html#space" class="d">space</a> characters in the lines
			of text are preserved.  If "trim" <a href="motion.txt.html#is" class="d">is</a> specified before
			<span class="s">{endmarker}</span>, then indentation <a href="motion.txt.html#is" class="d">is</a> stripped so you can
			do: 
<span class="e">				let text =&lt;&lt; trim END</span>
<span class="e">				   if ok</span>
<span class="e">				     echo 'done'</span>
<span class="e">				   endif</span>
<span class="e">				END</span>
			Results in: <a href="index.txt.html#%5B" class="d">[</a>"if ok"<a href="motion.txt.html#%2C" class="d">,</a> "  echo <span class="o">'done'</span>"<a href="motion.txt.html#%2C" class="d">,</a> "endif"<a href="index.txt.html#%5D" class="d">]</a>
			The <a href="intro.txt.html#end" class="d">end</a> marker <a href="vim_faq.txt.html#must" class="d">must</a> line up with "let" and the
			indentation of the first line <a href="motion.txt.html#is" class="d">is</a> removed from all the
			text lines.
			Specifically: all the leading indentation exactly
			matching the leading indentation of the first
			non-empty text line <a href="motion.txt.html#is" class="d">is</a> stripped from the input lines.
			All leading indentation exactly matching the leading
			indentation before <span class="e">let</span> <a href="motion.txt.html#is" class="d">is</a> stripped from the line
			containing <span class="s">{endmarker}</span>.  <span class="n">Note</span> that the difference
			between <a href="intro.txt.html#space" class="d">space</a> and <a href="intro.txt.html#tab" class="d">tab</a> matters here.

			If <span class="s">{var-name}</span> didn't exist yet, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> created.
			Cannot be followed by another command, but can be
			followed by <a href="insert.txt.html#a" class="d">a</a> comment.

			To avoid line continuation to be applied, consider
			adding 'C' to <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>: 
<span class="e">				set cpo+=C</span>
<span class="e">				let var =&lt;&lt; END</span>
<span class="e">				   \ leading backslash</span>
<span class="e">				END</span>
<span class="e">				set cpo-=C</span>

			Examples: 
<span class="e">				let var1 =&lt;&lt; END</span>
<span class="e">				Sample text 1</span>
<span class="e">				    Sample text 2</span>
<span class="e">				Sample text 3</span>
<span class="e">				END</span>
<span class="e"></span>
<span class="e">				let data =&lt;&lt; trim DATA</span>
<span class="e">					1 2 3 4</span>
<span class="e">					5 6 7 8</span>
<span class="e">				DATA</span>
<span class="e"></span>
<span class="e">				let code =&lt;&lt; trim eval CODE</span>
<span class="e">				   let v = {10 + 20}</span>
<span class="e">				   let h = "{$HOME}"</span>
<span class="e">				   let s = "{Str1()} abc {Str2()}"</span>
<span class="e">				   let n = {MyFunc(3, 4)}</span>
<span class="e">				CODE</span>

								<span id="E121" class="t">E121</span>
<a href="eval.txt.html#%3Alet" class="d">:let</a> <span class="s">{var-name}</span>	<a href="userfunc.txt.html#..." class="d">...</a>	<a href="eval.txt.html#List" class="d">List</a> the value of variable <span class="s">{var-name}</span>.  Multiple
			variable names may be given.  <a href="eval.txt.html#Special" class="d">Special</a> names recognized
			here:				<span id="E738" class="t">E738</span>
			  <a href="eval.txt.html#g%3A" class="d">g:</a>	global <a href="eval.txt.html#variables" class="d">variables</a>
			  <a href="eval.txt.html#b%3A" class="d">b:</a>	local buffer <a href="eval.txt.html#variables" class="d">variables</a>
			  <a href="eval.txt.html#w%3A" class="d">w:</a>	local <a href="windows.txt.html#window" class="d">window</a> <a href="eval.txt.html#variables" class="d">variables</a>
			  <a href="eval.txt.html#t%3A" class="d">t:</a>	local <a href="intro.txt.html#tab" class="d">tab</a> page <a href="eval.txt.html#variables" class="d">variables</a>
			  s:	<a href="map.txt.html#script-local" class="d">script-local</a> <a href="eval.txt.html#variables" class="d">variables</a>
			  <a href="eval.txt.html#l%3A" class="d">l:</a>	local function <a href="eval.txt.html#variables" class="d">variables</a>
			  <a href="eval.txt.html#v%3A" class="d">v:</a>	Vim variables.
			This does not work in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> script. <a href="vim9.txt.html#vim9-declaration" class="l">vim9-declaration</a>

<a href="eval.txt.html#%3Alet" class="d">:let</a>			<a href="eval.txt.html#List" class="d">List</a> the values of all variables.  The type of the
			variable <a href="motion.txt.html#is" class="d">is</a> indicated before the value:
			    <span class="s">&lt;nothing&gt;</span>	<a href="eval.txt.html#String" class="d">String</a>
				<a href="pattern.txt.html#%23" class="d">#</a>	<a href="eval.txt.html#Number" class="d">Number</a>
				*	<a href="eval.txt.html#Funcref" class="d">Funcref</a>
			This does not work in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> script. <a href="vim9.txt.html#vim9-declaration" class="l">vim9-declaration</a>

:unl[et][!] <span class="s">{name}</span> <a href="userfunc.txt.html#..." class="d">...</a>			<span id="%3Aunlet" class="t">:unlet</span> <span id="%3Aunl" class="t">:unl</span> <span id="E108" class="t">E108</span> <span id="E795" class="t">E795</span> <span id="E1081" class="t">E1081</span>
			Remove the internal variable <span class="s">{name}</span>.  Several variable
			names can be given, they are all removed.  The name
			may also be <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> item.
			With [!] no error message <a href="motion.txt.html#is" class="d">is</a> given for non-existing
			variables.
			One or more items from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> can be removed: 
<span class="e">				:unlet list[3]	  " remove fourth item</span>
<span class="e">				:unlet list[3:]   " remove fourth item to last</span>
			One item from <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> can be removed <a href="motion.txt.html#at" class="d">at</a> <a href="insert.txt.html#a" class="d">a</a> time:

<span class="e">				:unlet dict['two']</span>
<span class="e">				:unlet dict.two</span>
			This <a href="motion.txt.html#is" class="d">is</a> especially useful to clean up used global
			<a href="eval.txt.html#variables" class="d">variables</a> and <a href="map.txt.html#script-local" class="d">script-local</a> <a href="eval.txt.html#variables" class="d">variables</a> (these are not
			deleted when the <a href="usr_41.txt.html#script" class="d">script</a> ends).  Function-local
			<a href="eval.txt.html#variables" class="d">variables</a> are automatically deleted when the function
			ends.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> declared in <a href="insert.txt.html#a" class="d">a</a> function or
			<a href="usr_41.txt.html#script" class="d">script</a> cannot be removed.

:unl[et] ${env-name} <a href="userfunc.txt.html#..." class="d">...</a>			<span id="%3Aunlet-environment" class="t">:unlet-environment</span> <span id="%3Aunlet-%24" class="t">:unlet-$</span>
			Remove environment variable <span class="s">{env-name}</span>.
			Can mix <span class="s">{name}</span> and ${env-name} in one <a href="eval.txt.html#%3Aunlet" class="d">:unlet</a> command.
			No error message <a href="motion.txt.html#is" class="d">is</a> given for <a href="insert.txt.html#a" class="d">a</a> non-existing
			variable, also without !.
			If the system does not support <a href="change.txt.html#deleting" class="d">deleting</a> an environment
			variable, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> made empty.

						<span id="%3Acons" class="t">:cons</span> <span id="%3Aconst" class="t">:const</span> <span id="E1018" class="t">E1018</span>
:cons[t] <span class="s">{var-name}</span> <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
:cons[t] [{name1}, <span class="s">{name2}</span>, ...] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
:cons[t] [{name}, ..., <a href="motion.txt.html#%3B" class="d">;</a> <span class="s">{lastname}</span>] <a href="change.txt.html#%3D" class="d">=</a> <span class="s">{expr1}</span>
:cons[t] <span class="s">{var-name}</span> =&lt;&lt; <span class="s">[trim]</span> <span class="s">[eval]</span> <span class="s">{endmarker}</span>
text...
text...
<span class="s">{endmarker}</span>
			Similar to <a href="eval.txt.html#%3Alet" class="l">:let</a><a href="motion.txt.html#%2C" class="d">,</a> but additionally lock the variable
			after setting the value.  This <a href="motion.txt.html#is" class="d">is</a> the same <a href="motion.txt.html#as" class="d">as</a> locking
			the variable with <a href="eval.txt.html#%3Alockvar" class="l">:lockvar</a> just after <a href="eval.txt.html#%3Alet" class="l">:let</a><a href="motion.txt.html#%2C" class="d">,</a> thus: 
<span class="e">				:const x = 1</span>
			<a href="motion.txt.html#is" class="d">is</a> equivalent to: 
<span class="e">				:let x = 1</span>
<span class="e">				:lockvar! x</span>
			<span class="n">NOTE:</span> in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:const</span> works differently, see
			<a href="vim9.txt.html#vim9-const" class="l">vim9-const</a>
			This <a href="motion.txt.html#is" class="d">is</a> useful if you want to make sure the variable
			<a href="motion.txt.html#is" class="d">is</a> not modified.  If the value <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="d">List</a> or <a href="eval.txt.html#Dictionary" class="d">Dictionary</a>
			literal then the items also cannot be changed: 
<span class="e">				const ll = [1, 2, 3]</span>
<span class="e">				let ll[1] = 5  " Error!</span>
			Nested references are not locked: 
<span class="e">				let lvar = ['a']</span>
<span class="e">				const lconst = [0, lvar]</span>
<span class="e">				let lconst[0] = 2  " Error!</span>
<span class="e">				let lconst[1][0] = 'b'  " OK</span>
							<span id="E995" class="t">E995</span>
			It <a href="motion.txt.html#is" class="d">is</a> an error to specify an existing variable with
			<a href="eval.txt.html#%3Aconst" class="l">:const</a><a href="repeat.txt.html#." class="d">.</a> 
<span class="e">				:let x = 1</span>
<span class="e">				:const x = 1  " Error!</span>
							<span id="E996" class="t">E996</span>
			<span class="n">Note</span> that environment variables, option values and
			register values cannot be used here, since they cannot
			be locked.

:cons[t]
:cons[t] <span class="s">{var-name}</span>
			If no argument <a href="motion.txt.html#is" class="d">is</a> given or only <span class="s">{var-name}</span> <a href="motion.txt.html#is" class="d">is</a> given,
			the behavior <a href="motion.txt.html#is" class="d">is</a> the same <a href="motion.txt.html#as" class="d">as</a> <a href="eval.txt.html#%3Alet" class="l">:let</a><a href="repeat.txt.html#." class="d">.</a>

:lockv[ar][!] <span class="s">[depth]</span> <span class="s">{name}</span> <a href="userfunc.txt.html#..." class="d">...</a>			<span id="%3Alockvar" class="t">:lockvar</span> <span id="%3Alockv" class="t">:lockv</span>
			Lock the internal variable <span class="s">{name}</span>.  Locking means that
			<a href="motion.txt.html#it" class="d">it</a> can no longer be changed (until <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> unlocked).
			<a href="insert.txt.html#A" class="d">A</a> locked variable can be deleted: 
<span class="e">				:lockvar v</span>
<span class="e">				:let v = 'asdf'	  " fails!</span>
<span class="e">				:unlet v	  " works</span>
			<span id="E741" class="t">E741</span> <span id="E940" class="t">E940</span> <span id="E1118" class="t">E1118</span> <span id="E1119" class="t">E1119</span> <span id="E1120" class="t">E1120</span> <span id="E1121" class="t">E1121</span> <span id="E1122" class="t">E1122</span>
			If you try to change <a href="insert.txt.html#a" class="d">a</a> locked variable you get an
			error message: "E741: Value <a href="motion.txt.html#is" class="d">is</a> locked: <span class="s">{name}</span>"<a href="repeat.txt.html#." class="d">.</a>
			If you try to lock or unlock <a href="insert.txt.html#a" class="d">a</a> built-in variable you
			get an error message: "E940: Cannot lock or unlock
			variable <span class="s">{name}</span>"<a href="repeat.txt.html#." class="d">.</a>

			<span class="s">[depth]</span> <a href="motion.txt.html#is" class="d">is</a> relevant when locking <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a>
			or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="repeat.txt.html#." class="d">.</a>  It <a href="vim9class.txt.html#specifies" class="d">specifies</a> how deep the locking
			goes:
				<a href="motion.txt.html#0" class="d">0</a>	Lock the variable <span class="s">{name}</span> but not its
					value.
				1	Lock the <a href="eval.txt.html#List" class="l">List</a> or <a href="eval.txt.html#Tuple" class="l">Tuple</a> or
					<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> itself, cannot add or
					remove items, but can still change
					their values.
				2	Also lock the values, cannot change
					the items.  If an item <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> or
					<a href="eval.txt.html#Tuple" class="l">Tuple</a> or <a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="motion.txt.html#%2C" class="d">,</a> cannot add or
					remove items, but can still change the
					values.
				3	Like 2 but for the <a href="eval.txt.html#List" class="l">List</a> <a href="pattern.txt.html#%2F" class="d">/</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> <a href="pattern.txt.html#%2F" class="d">/</a>
					<a href="eval.txt.html#Dictionary" class="l">Dictionary</a> in the <a href="eval.txt.html#List" class="l">List</a> <a href="pattern.txt.html#%2F" class="d">/</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> <a href="pattern.txt.html#%2F" class="d">/</a>
					<a href="eval.txt.html#Dictionary" class="l">Dictionary</a><a href="motion.txt.html#%2C" class="d">,</a> one level deeper.
			The default <span class="s">[depth]</span> <a href="motion.txt.html#is" class="d">is</a> 2, thus when <span class="s">{name}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
			<a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dictionary" class="l">Dictionary</a> the values cannot
			be changed.

			Example with <span class="s">[depth]</span> 0: 
<span class="e">				let mylist = [1, 2, 3]</span>
<span class="e">				lockvar 0 mylist</span>
<span class="e">				let mylist[0] = 77	" OK</span>
<span class="e">				call add(mylist, 4)	" OK</span>
<span class="e">				let mylist = [7, 8, 9]  " Error!</span>
								<span id="E743" class="t">E743</span>
			For unlimited depth use [!] and omit <span class="s">[depth]</span>.
			However, there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> maximum depth of 100 to catch
			loops.

			<span class="n">Note</span> that when two <a href="eval.txt.html#variables" class="d">variables</a> refer to the same <a href="eval.txt.html#List" class="l">List</a>
			and you lock one of them, the <a href="eval.txt.html#List" class="l">List</a> will also be
			locked when used through the other variable.
			Example: 
<span class="e">				:let l = [0, 1, 2, 3]</span>
<span class="e">				:let cl = l</span>
<span class="e">				:lockvar l</span>
<span class="e">				:let cl[1] = 99		" won't work!</span>
			You may want to make <a href="insert.txt.html#a" class="d">a</a> copy of <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> to avoid this.
			See <a href="builtin.txt.html#deepcopy%28%29" class="l">deepcopy()</a><a href="repeat.txt.html#." class="d">.</a>

							<span id="E1391" class="t">E1391</span> <span id="E1392" class="t">E1392</span>
			Locking and unlocking <a href="vim9class.txt.html#object" class="d">object</a> and <a href="vim9class.txt.html#class" class="d">class</a> <a href="eval.txt.html#variables" class="d">variables</a> <a href="motion.txt.html#is" class="d">is</a>
			currently NOT supported.


:unlo[ckvar][!] <span class="s">[depth]</span> <span class="s">{name}</span> <a href="userfunc.txt.html#..." class="d">...</a>		<span id="%3Aunlockvar" class="t">:unlockvar</span> <span id="%3Aunlo" class="t">:unlo</span> <span id="E1246" class="t">E1246</span>
			Unlock the internal variable <span class="s">{name}</span>.  Does the
			opposite of <a href="eval.txt.html#%3Alockvar" class="l">:lockvar</a><a href="repeat.txt.html#." class="d">.</a>

			If <span class="s">{name}</span> does not exist:
			<a href="motion.txt.html#-" class="d">-</a> In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> an error <a href="motion.txt.html#is" class="d">is</a> given.
			<a href="motion.txt.html#-" class="d">-</a> In legacy <a href="usr_41.txt.html#script" class="d">script</a> this <a href="motion.txt.html#is" class="d">is</a> silently ignored.

<a href="eval.txt.html#%3Aif" class="d">:if</a> <span class="s">{expr1}</span>		    <span id="%3Aif" class="t">:if</span> <span id="%3Aend" class="t">:end</span> <span id="%3Aendif" class="t">:endif</span> <span id="%3Aen" class="t">:en</span> <span id="E171" class="t">E171</span> <span id="E579" class="t">E579</span> <span id="E580" class="t">E580</span>
:en[dif]		Execute the commands until the next matching <span class="e">:else</span>
			or <span class="e">:endif</span> if <span class="s">{expr1}</span> evaluates to non-zero.
			Although the short forms work, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> recommended to
			always use <span class="e">:endif</span> to avoid confusion and to make
			auto-indenting work properly.

			From <span class="i">Vim version 4.5</span> until 5.0, every <a href="intro.txt.html#Ex" class="d">Ex</a> command in
			between the <span class="e">:if</span> and <span class="e">:endif</span> <a href="motion.txt.html#is" class="d">is</a> ignored.  These two
			commands were just to allow for future expansions in <a href="insert.txt.html#a" class="d">a</a>
			backward compatible way.  Nesting was allowed.  <span class="n">Note</span>
			that any <span class="e">:else</span> or <span class="e">:elseif</span> was ignored, the <span class="e">else</span>
			part was not executed either.

			You can use this to remain compatible with older
			versions: 
<span class="e">				:if version &gt;= 500</span>
<span class="e">				:  version-5-specific-commands</span>
<span class="e">				:endif</span>
			The commands still need to be parsed to find the
			<span class="e">endif</span>.  Sometimes an older Vim has <a href="insert.txt.html#a" class="d">a</a> problem with <a href="insert.txt.html#a" class="d">a</a>
			new command.  For example, <span class="e">:silent</span> <a href="motion.txt.html#is" class="d">is</a> recognized <a href="motion.txt.html#as" class="d">as</a>
			<a href="insert.txt.html#a" class="d">a</a> <span class="e">:substitute</span> command.  In that <a href="change.txt.html#case" class="d">case</a> <span class="e">:execute</span> can
			avoid problems: 
<span class="e">				:if version &gt;= 600</span>
<span class="e">				:  execute "silent 1,$delete"</span>
<span class="e">				:endif</span>

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:endif</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.
			<span class="n">NOTE:</span> The <span class="e">:append</span> and <span class="e">:insert</span> commands don't work
			properly in between <span class="e">:if</span> and <span class="e">:endif</span>.

						<span id="%3Aelse" class="t">:else</span> <span id="%3Ael" class="t">:el</span> <span id="E581" class="t">E581</span> <span id="E583" class="t">E583</span>
:el[se]			Execute the commands until the next matching <span class="e">:else</span>
			or <span class="e">:endif</span> if they previously were not being
			executed.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:else</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

					<span id="%3Aelseif" class="t">:elseif</span> <span id="%3Aelsei" class="t">:elsei</span> <span id="E582" class="t">E582</span> <span id="E584" class="t">E584</span>
:elsei[f] <span class="s">{expr1}</span>	Short for <span class="e">:else</span> <span class="e">:if</span>, with the addition that there
			<a href="motion.txt.html#is" class="d">is</a> no extra <span class="e">:endif</span>.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:elseif</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

:wh[ile] <span class="s">{expr1}</span>			<span id="%3Awhile" class="t">:while</span> <span id="%3Aendwhile" class="t">:endwhile</span> <span id="%3Awh" class="t">:wh</span> <span id="%3Aendw" class="t">:endw</span>
						<span id="E170" class="t">E170</span> <span id="E585" class="t">E585</span> <span id="E588" class="t">E588</span> <span id="E733" class="t">E733</span>
:endw[hile]		Repeat the commands between <span class="e">:while</span> and <span class="e">:endwhile</span>,
			<a href="motion.txt.html#as" class="d">as</a> long <a href="motion.txt.html#as" class="d">as</a> <span class="s">{expr1}</span> evaluates to non-zero.
			When an error <a href="motion.txt.html#is" class="d">is</a> detected from <a href="insert.txt.html#a" class="d">a</a> command inside the
			loop, execution continues after the <span class="e">endwhile</span>.
			Example: 
<span class="e">				:let lnum = 1</span>
<span class="e">				:while lnum &lt;= line("$")</span>
<span class="e">				   :call FixLine(lnum)</span>
<span class="e">				   :let lnum = lnum + 1</span>
<span class="e">				:endwhile</span>

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:while</span>  and <span class="e">:endwhile</span> cannot be
			shortened, to improve <a href="usr_41.txt.html#script" class="d">script</a> readability.
			<span class="n">NOTE:</span> The <span class="e">:append</span> and <span class="e">:insert</span> commands don't work
			properly inside <a href="insert.txt.html#a" class="d">a</a> <span class="e">:while</span> and <span class="e">:for</span> loop.

<a href="eval.txt.html#%3Afor" class="d">:for</a> <span class="s">{var}</span> in <span class="s">{object}</span>					<span id="%3Afor" class="t">:for</span> <span id="E690" class="t">E690</span> <span id="E732" class="t">E732</span>
:endfo[r]						<span id="%3Aendfo" class="t">:endfo</span> <span id="%3Aendfor" class="t">:endfor</span>
			Repeat the commands between <span class="e">:for</span> and <span class="e">:endfor</span> for
			each item in <span class="s">{object}</span>.  <span class="s">{object}</span> can be <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a>
			<a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a> or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="l">String</a><a href="repeat.txt.html#." class="d">.</a> <span id="E1177" class="t">E1177</span>

			Variable <span class="s">{var}</span> <a href="motion.txt.html#is" class="d">is</a> set to the value of each item.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the loop variable <a href="vim_faq.txt.html#must" class="d">must</a> not have been
			declared yet, unless when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
			global/window/tab/buffer variable.

			When an error <a href="motion.txt.html#is" class="d">is</a> detected for <a href="insert.txt.html#a" class="d">a</a> command inside the
			loop, execution continues after the <span class="e">endfor</span>.
			Changing <span class="s">{object}</span> inside the loop affects what items
			are used.  Make <a href="insert.txt.html#a" class="d">a</a> copy if this <a href="motion.txt.html#is" class="d">is</a> unwanted: 
<span class="e">				:for item in copy(mylist)</span>

			When <span class="s">{object}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> and not making <a href="insert.txt.html#a" class="d">a</a> copy, in
			legacy <a href="usr_41.txt.html#script" class="d">script</a> Vim stores <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#reference" class="d">reference</a> to the next item
			in the <a href="eval.txt.html#List" class="l">List</a> before executing the commands with the
			current item.  Thus the current item can be removed
			without effect.  Removing any later item means <a href="motion.txt.html#it" class="d">it</a> will
			not be found.  Thus the following example works (an
			inefficient way to make <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> empty): 
<span class="e">				for item in mylist</span>
<span class="e">				   call remove(mylist, 0)</span>
<span class="e">				endfor</span>
			<span class="n">Note</span> that reordering the <a href="eval.txt.html#List" class="l">List</a> (e.g., with <a href="builtin.txt.html#sort%28%29" class="d">sort()</a> or
			reverse()) may have unexpected effects.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> the <a href="index.txt.html#index" class="d">index</a> <a href="motion.txt.html#is" class="d">is</a> used.  If an item before
			the current one <a href="motion.txt.html#is" class="d">is</a> deleted the next item will be
			skipped.

			When <span class="s">{object}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a><a href="motion.txt.html#%2C" class="d">,</a> Vim always makes <a href="insert.txt.html#a" class="d">a</a> copy to
			iterate over.  Unlike with <a href="eval.txt.html#List" class="l">List</a><a href="motion.txt.html#%2C" class="d">,</a> modifying the
			<a href="eval.txt.html#Blob" class="l">Blob</a> does not affect the iteration.

			When <span class="s">{object}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="l">String</a> each item <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> with
			one character, plus any combining characters.

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:endfor</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

<a href="eval.txt.html#%3Afor" class="d">:for</a> [{var1}, <span class="s">{var2}</span>, ...] in <span class="s">{listlist}</span>
:endfo[r]							<span id="E1140" class="t">E1140</span>
			Like <span class="e">:for</span> above, but each item in <span class="s">{listlist}</span> <a href="vim_faq.txt.html#must" class="d">must</a> be
			<a href="insert.txt.html#a" class="d">a</a> list, of which each item <a href="motion.txt.html#is" class="d">is</a> assigned to <span class="s">{var1}</span>,
			<span class="s">{var2}</span>, etc.  Example: 
<span class="e">				:for [lnum, col] in [[1, 3], [2, 5], [3, 8]]</span>
<span class="e">				   :echo getline(lnum)[col]</span>
<span class="e">				:endfor</span>

						<span id="%3Acontinue" class="t">:continue</span> <span id="%3Acon" class="t">:con</span> <span id="E586" class="t">E586</span>
:con[tinue]		When used inside <a href="insert.txt.html#a" class="d">a</a> <span class="e">:while</span> or <span class="e">:for</span> loop, jumps back
			to the start of the loop.
			If <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used after <a href="insert.txt.html#a" class="d">a</a> <span class="e">:try</span> inside the loop but
			before the matching <span class="e">:finally</span> (if present), the
			commands following the <span class="e">:finally</span> up to the matching
			<span class="e">:endtry</span> are executed first.  This process applies to
			all nested <span class="e">:try</span>s inside the loop.  The outermost
			<span class="e">:endtry</span> then jumps back to the start of the loop.

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:cont</span> <a href="motion.txt.html#is" class="d">is</a> the shortest form, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.
						<span id="%3Abreak" class="t">:break</span> <span id="%3Abrea" class="t">:brea</span> <span id="E587" class="t">E587</span>
:brea[k]		When used inside <a href="insert.txt.html#a" class="d">a</a> <span class="e">:while</span> or <span class="e">:for</span> loop, skips to
			the command after the matching <span class="e">:endwhile</span> or
			<span class="e">:endfor</span>.
			If <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used after <a href="insert.txt.html#a" class="d">a</a> <span class="e">:try</span> inside the loop but
			before the matching <span class="e">:finally</span> (if present), the
			commands following the <span class="e">:finally</span> up to the matching
			<span class="e">:endtry</span> are executed first.  This process applies to
			all nested <span class="e">:try</span>s inside the loop.  The outermost
			<span class="e">:endtry</span> then jumps to the command after the loop.

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:break</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

<a href="eval.txt.html#%3Atry" class="d">:try</a>						<span id="%3Atry" class="t">:try</span> <span id="%3Aendt" class="t">:endt</span> <span id="%3Aendtry" class="t">:endtry</span>
						<span id="E600" class="t">E600</span> <span id="E601" class="t">E601</span> <span id="E602" class="t">E602</span> <span id="E1032" class="t">E1032</span>
:endt[ry]		Change the error handling for the commands between
			<span class="e">:try</span> and <span class="e">:endtry</span> including everything being
			executed across <span class="e">:source</span> commands, function calls,
			or <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> invocations.

			When an error or interrupt <a href="motion.txt.html#is" class="d">is</a> detected and there <a href="motion.txt.html#is" class="d">is</a>
			<a href="insert.txt.html#a" class="d">a</a> <span class="e">:finally</span> command following, execution continues
			after the <span class="e">:finally</span>.  Otherwise, or when the
			<span class="e">:endtry</span> <a href="motion.txt.html#is" class="d">is</a> reached thereafter, the next
			(dynamically) surrounding <span class="e">:try</span> <a href="motion.txt.html#is" class="d">is</a> checked for
			<a href="insert.txt.html#a" class="d">a</a> corresponding <span class="e">:finally</span> etc.  Then the <a href="usr_41.txt.html#script" class="d">script</a>
			processing <a href="motion.txt.html#is" class="d">is</a> terminated.  Whether <a href="insert.txt.html#a" class="d">a</a> function
			definition has an "abort" argument does not matter.
			Example: 
<span class="e">		try | call Unknown() | finally | echomsg "cleanup" | endtry</span>
<span class="e">		echomsg "not reached"</span>

			Moreover, an error or interrupt (dynamically) inside
			<span class="e">:try</span> and <span class="e">:endtry</span> <a href="motion.txt.html#is" class="d">is</a> converted to an exception.  It
			can be caught <a href="motion.txt.html#as" class="d">as</a> if <a href="motion.txt.html#it" class="d">it</a> were thrown by <a href="insert.txt.html#a" class="d">a</a> <span class="e">:throw</span>
			command (see <span class="e">:catch</span>).  In this case, the <a href="usr_41.txt.html#script" class="d">script</a>
			processing <a href="motion.txt.html#is" class="d">is</a> not terminated.

			The value "Vim:Interrupt" <a href="motion.txt.html#is" class="d">is</a> used for an interrupt
			exception.  An error in <a href="insert.txt.html#a" class="d">a</a> Vim command <a href="motion.txt.html#is" class="d">is</a> converted
			to <a href="insert.txt.html#a" class="d">a</a> value of the form "Vim({command}):{errmsg}"<a href="motion.txt.html#%2C" class="d">,</a>
			other <a href="message.txt.html#errors" class="d">errors</a> are converted to <a href="insert.txt.html#a" class="d">a</a> value of the form
			"Vim:{errmsg}"<a href="repeat.txt.html#." class="d">.</a>  <span class="s">{command}</span> <a href="motion.txt.html#is" class="d">is</a> the full command name,
			and <span class="s">{errmsg}</span> <a href="motion.txt.html#is" class="d">is</a> the message that <a href="motion.txt.html#is" class="d">is</a> displayed if the
			error exception <a href="motion.txt.html#is" class="d">is</a> not caught, always beginning with
			the error number.
			Examples: 
<span class="e">		try | sleep 100 | catch /^Vim:Interrupt$/ | endtry</span>
<span class="e">		try | edit | catch /^Vim(edit):E\d\+/ | echo "error" | endtry</span>

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:endtry</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

					<span id="%3Acat" class="t">:cat</span> <span id="%3Acatch" class="t">:catch</span>
					<span id="E603" class="t">E603</span> <span id="E604" class="t">E604</span> <span id="E605" class="t">E605</span> <span id="E654" class="t">E654</span> <span id="E1033" class="t">E1033</span>
:cat[ch] [/{pattern}/]	The following commands until the next <span class="e">:catch</span>,
			<span class="e">:finally</span>, or <span class="e">:endtry</span> that belongs to the same
			<span class="e">:try</span> <a href="motion.txt.html#as" class="d">as</a> the <span class="e">:catch</span> are executed when an exception
			matching <span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> being thrown and has not yet
			been caught by <a href="insert.txt.html#a" class="d">a</a> previous <span class="e">:catch</span>.  Otherwise, these
			commands are skipped.
			When <span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> omitted all <a href="message.txt.html#errors" class="d">errors</a> are caught.
			Examples: 
<span class="e">		:catch /^Vim:Interrupt$/	 " catch interrupts (CTRL-C)</span>
<span class="e">		:catch /^Vim\%((\a\+)\)\=:E/	 " catch all Vim errors</span>
<span class="e">		:catch /^Vim\%((\a\+)\)\=:/	 " catch errors and interrupts</span>
<span class="e">		:catch /^Vim(write):/		 " catch all errors in :write</span>
<span class="e">		:catch /^Vim\%((\a\+)\)\=:E123:/ " catch error E123</span>
<span class="e">		:catch /my-exception/		 " catch user exception</span>
<span class="e">		:catch /.*/			 " catch everything</span>
<span class="e">		:catch				 " same as /.*/</span>

			Another character can be used instead of <a href="pattern.txt.html#%2F" class="d">/</a> around the
			<span class="s">{pattern}</span>, so long <a href="motion.txt.html#as" class="d">as</a> <a href="motion.txt.html#it" class="d">it</a> does not have <a href="insert.txt.html#a" class="d">a</a> special
			meaning (e.g., <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> or <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27%29" class="d">')</a> and doesn't occur inside
			<span class="s">{pattern}</span>. <span id="E1067" class="t">E1067</span>
			Information about the exception <a href="motion.txt.html#is" class="d">is</a> available in
			<a href="eval.txt.html#v%3Aexception" class="l">v:exception</a><a href="repeat.txt.html#." class="d">.</a>  Also see <a href="eval.txt.html#throw-variables" class="l">throw-variables</a><a href="repeat.txt.html#." class="d">.</a>
			<span class="n">NOTE:</span> It <a href="motion.txt.html#is" class="d">is</a> not reliable to "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" the TEXT of
			an error message because <a href="motion.txt.html#it" class="d">it</a> may vary in different
			locales.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:catch</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

					<span id="%3Afina" class="t">:fina</span> <span id="%3Afinally" class="t">:finally</span> <span id="E606" class="t">E606</span> <span id="E607" class="t">E607</span>
:fina[lly]		The following commands until the matching <span class="e">:endtry</span>
			are executed whenever the part between the matching
			<span class="e">:try</span> and the <span class="e">:finally</span> <a href="motion.txt.html#is" class="d">is</a> left:  either by falling
			through to the <span class="e">:finally</span> or by <a href="insert.txt.html#a" class="d">a</a> <span class="e">:continue</span>,
			<span class="e">:break</span>, <span class="e">:finish</span>, or <span class="e">:return</span>, or by an error or
			interrupt or exception (see <span class="e">:throw</span>).

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:finally</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability and avoid confusion with
			<span class="e">:final</span>.

						<span id="%3Ath" class="t">:th</span> <span id="%3Athrow" class="t">:throw</span> <span id="E608" class="t">E608</span> <span id="E1129" class="t">E1129</span>
:th[row] <span class="s">{expr1}</span>	The <span class="s">{expr1}</span> <a href="motion.txt.html#is" class="d">is</a> evaluated and thrown <a href="motion.txt.html#as" class="d">as</a> an exception.
			If the "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" <a href="motion.txt.html#is" class="d">is</a> used after <a href="insert.txt.html#a" class="d">a</a> <span class="e">:try</span> but before the
			first corresponding <span class="e">:catch</span>, commands are skipped
			until the first <span class="e">:catch</span> matching <span class="s">{expr1}</span> <a href="motion.txt.html#is" class="d">is</a> reached.
			If there <a href="motion.txt.html#is" class="d">is</a> no such <span class="e">:catch</span> or if the "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" <a href="motion.txt.html#is" class="d">is</a>
			used after <a href="insert.txt.html#a" class="d">a</a> <span class="e">:catch</span> but before the <span class="e">:finally</span>, the
			commands following the <span class="e">:finally</span> (if present) up to
			the matching <span class="e">:endtry</span> are executed.  If the <span class="e">:throw</span>
			<a href="motion.txt.html#is" class="d">is</a> after the <span class="e">:finally</span>, commands up to the <span class="e">:endtry</span>
			are skipped.  At the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>"<a href="motion.txt.html#%2C" class="d">,</a> this process applies
			again for the next dynamically surrounding <span class="e">:try</span>
			(which may be found in <a href="insert.txt.html#a" class="d">a</a> calling function or sourcing
			script), until <a href="insert.txt.html#a" class="d">a</a> matching <span class="e">:catch</span> has been found.
			If the exception <a href="motion.txt.html#is" class="d">is</a> not caught, the command processing
			<a href="motion.txt.html#is" class="d">is</a> terminated.
			Example: 
<span class="e">		:try | throw "oops" | catch /^oo/ | echo "caught" | endtry</span>
			<span class="n">Note</span> that "catch" may need to be on <a href="insert.txt.html#a" class="d">a</a> separate line
			for when an error causes the parsing to skip the whole
			line and not see the "|" that separates the commands.

			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <span class="e">:throw</span> cannot be shortened, to
			improve <a href="usr_41.txt.html#script" class="d">script</a> readability.

							<span id="%3Aec" class="t">:ec</span> <span id="%3Aecho" class="t">:echo</span>
:ec[ho] <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>	Echoes each <span class="s">{expr1}</span>, with <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> in between.  The
			first <span class="s">{expr1}</span> starts on <a href="insert.txt.html#a" class="d">a</a> new line.
			Also see <a href="cmdline.txt.html#%3Acomment" class="l">:comment</a><a href="repeat.txt.html#." class="d">.</a>
			Use "\n" to start <a href="insert.txt.html#a" class="d">a</a> new line.  Use "\r" to move the
			cursor to the first column.
			Uses the highlighting set by the <span class="e">:echohl</span> command.
			Cannot be followed by <a href="insert.txt.html#a" class="d">a</a> comment.
			Example: 
<span class="e">		:echo "the value of 'shell' is" &amp;shell</span>
							<span id="%3Aecho-redraw" class="t">:echo-redraw</span>
			<a href="insert.txt.html#A" class="d">A</a> later redraw may make the message disappear again.
			And since Vim mostly postpones redrawing until it's
			finished with <a href="insert.txt.html#a" class="d">a</a> sequence of commands this happens
			quite often.  To avoid that <a href="insert.txt.html#a" class="d">a</a> command from before the
			<span class="e">:echo</span> causes <a href="insert.txt.html#a" class="d">a</a> redraw afterwards (redraws are often
			postponed until you type something), force <a href="insert.txt.html#a" class="d">a</a> redraw
			with the <span class="e">:redraw</span> command.  Example: 
<span class="e">		:new | redraw | echo "there is a new window"</span>

							<span id="%3Aechon" class="t">:echon</span>
<a href="eval.txt.html#%3Aechon" class="d">:echon</a> <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>	Echoes each <span class="s">{expr1}</span>, without anything added.  Also see
			<a href="cmdline.txt.html#%3Acomment" class="l">:comment</a><a href="repeat.txt.html#." class="d">.</a>
			Uses the highlighting set by the <span class="e">:echohl</span> command.
			Cannot be followed by <a href="insert.txt.html#a" class="d">a</a> comment.
			Example: 
<span class="e">				:echon "the value of 'shell' is " &amp;shell</span>

			<span class="n">Note</span> the difference between using <span class="e">:echo</span>, which <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
			Vim command, and <span class="e">:!echo</span>, which <a href="motion.txt.html#is" class="d">is</a> an external shell
			command: 
<span class="e">		:!echo %		--&gt; filename</span>
			The arguments of "<a href="various.txt.html#%3A%21" class="d">:!</a>" are expanded, see <a href="cmdline.txt.html#%3A_%25" class="l">:_%</a><a href="repeat.txt.html#." class="d">.</a> 
<span class="e">		:!echo "%"		--&gt; filename or "filename"</span>
			Like the previous example.  Whether you see the double
			<a href="quotes.txt.html#quotes" class="d">quotes</a> or not depends on your <a href="options.txt.html#%27shell%27" class="o">'shell'</a>. 
<span class="e">		:echo %			--&gt; nothing</span>
			The '%' <a href="motion.txt.html#is" class="d">is</a> an illegal character in an expression. 
<span class="e">		:echo "%"		--&gt; %</span>
			This just echoes the '%' character. 
<span class="e">		:echo expand("%")	--&gt; filename</span>
			This calls the <a href="builtin.txt.html#expand%28%29" class="d">expand()</a> function to expand the '%'.

							<span id="%3Aechoh" class="t">:echoh</span> <span id="%3Aechohl" class="t">:echohl</span>
:echoh[l] <span class="s">{name}</span>	Use the highlight group <span class="s">{name}</span> for the following
			<span class="e">:echo</span>, <span class="e">:echon</span> and <span class="e">:echomsg</span> commands.  Also used
			for the <span class="e">input()</span> prompt.  Example: 
<span class="e">		:echohl WarningMsg | echo "Don't panic!" | echohl None</span>
			Don't forget to set the group back to "<a href="eval.txt.html#None" class="d">None</a>"<a href="motion.txt.html#%2C" class="d">,</a>
			otherwise all following echo's will be highlighted.

							<span id="%3Aechom" class="t">:echom</span> <span id="%3Aechomsg" class="t">:echomsg</span>
:echom[sg] <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>	Echo the expression(s) <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="vim9.txt.html#true" class="d">true</a> message, saving the
			message in the <a href="message.txt.html#message-history" class="l">message-history</a><a href="repeat.txt.html#." class="d">.</a>
			Spaces are placed between the arguments <a href="motion.txt.html#as" class="d">as</a> with the
			<span class="e">:echo</span> command.  But unprintable characters are
			displayed, not interpreted.
			The parsing works slightly different from <span class="e">:echo</span>,
			more like <span class="e">:execute</span>.  All the expressions are first
			evaluated and concatenated before echoing anything.
			If expressions does not evaluate to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Number" class="d">Number</a> or
			String, <a href="builtin.txt.html#string%28%29" class="d">string()</a> <a href="motion.txt.html#is" class="d">is</a> used to turn <a href="motion.txt.html#it" class="d">it</a> into <a href="insert.txt.html#a" class="d">a</a> string.
			Uses the highlighting set by the <span class="e">:echohl</span> command.
			Example: 
<span class="e">		:echomsg "It's a Zizzer Zazzer Zuzz, as you can plainly see."</span>
			See <a href="eval.txt.html#%3Aecho-redraw" class="l">:echo-redraw</a> to avoid the message disappearing
			when the screen <a href="motion.txt.html#is" class="d">is</a> redrawn.

					<span id="%3Aechow" class="t">:echow</span> <span id="%3Aechowin" class="t">:echowin</span> <span id="%3Aechowindow" class="t">:echowindow</span>
:[N]echow[indow] <span class="s">{expr1}</span> ..
			Like <a href="eval.txt.html#%3Aechomsg" class="l">:echomsg</a> but when the <a href="message.txt.html#messages" class="d">messages</a> <a href="popup.txt.html#popup" class="d">popup</a> <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a>
			available the message <a href="motion.txt.html#is" class="d">is</a> displayed there.  This means
			<a href="motion.txt.html#it" class="d">it</a> will show for three seconds and avoid <a href="insert.txt.html#a" class="d">a</a>
			<a href="message.txt.html#hit-enter" class="l">hit-enter</a> prompt.  If you want to hide <a href="motion.txt.html#it" class="d">it</a> before
			that, press Esc in <a href="intro.txt.html#Normal" class="d">Normal</a> mode (when <a href="motion.txt.html#it" class="d">it</a> would
			otherwise beep).  If <a href="motion.txt.html#it" class="d">it</a> disappears too soon you can
			use <span class="e">:messages</span> to see the text.
			When [N] <a href="motion.txt.html#is" class="d">is</a> given then the <a href="windows.txt.html#window" class="d">window</a> will show up for
			this number of seconds.  The last <span class="e">:echowindow</span> with <a href="insert.txt.html#a" class="d">a</a>
			<a href="intro.txt.html#count" class="d">count</a> matters, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used once only.
			The message <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a> available when Vim was compiled
			with the +timer and the <a href="various.txt.html#%2Bpopupwin" class="d">+popupwin</a> features.

							<span id="%3Aechoe" class="t">:echoe</span> <span id="%3Aechoerr" class="t">:echoerr</span>
:echoe[rr] <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>	Echo the expression(s) <a href="motion.txt.html#as" class="d">as</a> an error message, saving the
			message in the <a href="message.txt.html#message-history" class="l">message-history</a><a href="repeat.txt.html#." class="d">.</a>  When used in <a href="insert.txt.html#a" class="d">a</a>
			<a href="usr_41.txt.html#script" class="d">script</a> or function the line number will be added.
			Spaces are placed between the arguments <a href="motion.txt.html#as" class="d">as</a> with the
			<span class="e">:echomsg</span> command.  When used inside <a href="insert.txt.html#a" class="d">a</a> try
			conditional, the message <a href="motion.txt.html#is" class="d">is</a> raised <a href="motion.txt.html#as" class="d">as</a> an error
			exception instead
			(see <a href="eval.txt.html#try-echoerr" class="l">try-echoerr</a>).
			Example: 
<span class="e">		:echoerr "This script just failed!"</span>
			If you just want <a href="insert.txt.html#a" class="d">a</a> highlighted message use <span class="e">:echohl</span>.
			And to get <a href="insert.txt.html#a" class="d">a</a> beep: 
<span class="e">		:exe "normal \&lt;Esc&gt;"</span>
<span class="e"></span>
:echoc[onsole] <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>				<span id="%3Aechoc" class="t">:echoc</span> <span id="%3Aechoconsole" class="t">:echoconsole</span>
			Intended for testing: works like <span class="e">:echomsg</span> but when
			running in the <a href="gui.txt.html#GUI" class="d">GUI</a> and started from <a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#terminal" class="d">terminal</a> write
			the text to stdout.

							<span id="%3Aeval" class="t">:eval</span>
<a href="eval.txt.html#%3Aeval" class="d">:eval</a> <span class="s">{expr}</span>		Evaluate <span class="s">{expr}</span> and <a href="editing.txt.html#discard" class="d">discard</a> the result.  Example: 
<span class="e">				:eval Getlist()-&gt;Filter()-&gt;append('$')</span>
<span class="e"></span>
			The <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> supposed to have <a href="insert.txt.html#a" class="d">a</a> side effect,
			since the resulting value <a href="motion.txt.html#is" class="d">is</a> not used.  In the example
			the <span class="e">append()</span> call appends the <a href="eval.txt.html#List" class="d">List</a> with text to the
			buffer.  This <a href="motion.txt.html#is" class="d">is</a> similar to <span class="e">:call</span> but works with any
			expression.
			In <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> an <a href="eval.txt.html#expression" class="d">expression</a> without an effect will
			result in error <span id="E1207" class="t">E1207</span> <a href="repeat.txt.html#." class="d">.</a>  This should <a href="helphelp.txt.html#help" class="d">help</a> noticing
			mistakes.

			The command can be shortened to <span class="e">:ev</span> or <span class="e">:eva</span>, but
			these are hard to recognize and therefore not to be
			used.

			The command cannot be followed by "|" and another
			command, since "|" <a href="motion.txt.html#is" class="d">is</a> seen <a href="motion.txt.html#as" class="d">as</a> part of the expression.


							<span id="%3Aexe" class="t">:exe</span> <span id="%3Aexecute" class="t">:execute</span>
:exe[cute] <span class="s">{expr1}</span> <a href="userfunc.txt.html#..." class="d">...</a>	Executes the <a href="eval.txt.html#string" class="d">string</a> that results from the evaluation
			of <span class="s">{expr1}</span> <a href="motion.txt.html#as" class="d">as</a> an <a href="intro.txt.html#Ex" class="d">Ex</a> command.
			Multiple arguments are concatenated, with <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> in
			between.  To avoid the extra <a href="intro.txt.html#space" class="d">space</a> use the ".."
			<a href="motion.txt.html#operator" class="d">operator</a> to concatenate strings into one argument.
			<span class="s">{expr1}</span> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> the processed command, command line
			editing keys are not recognized.
			Cannot be followed by <a href="insert.txt.html#a" class="d">a</a> comment.
			Examples: 
<span class="e">		:execute "buffer" nextbuf</span>
<span class="e">		:execute "normal" count .. "w"</span>

			"<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>" can be used to append <a href="insert.txt.html#a" class="d">a</a> command to commands
			that don't accept <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27." class="d">'.</a>  Example: 
<span class="e">		:execute '!ls' | echo "theend"</span>
<span class="e"></span>
			"<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>" <a href="motion.txt.html#is" class="d">is</a> also <a href="insert.txt.html#a" class="d">a</a> nice way to avoid having to type
			<a href="intro.txt.html#control" class="d">control</a> characters in <a href="insert.txt.html#a" class="d">a</a> Vim <a href="usr_41.txt.html#script" class="d">script</a> for <a href="insert.txt.html#a" class="d">a</a> "<a href="various.txt.html#%3Anormal" class="d">:normal</a>"
			command: 
<span class="e">		:execute "normal ixxx\&lt;Esc&gt;"</span>
			This has an <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a> character, see <a href="eval.txt.html#expr-string" class="l">expr-string</a><a href="repeat.txt.html#." class="d">.</a>

			Be careful to correctly <a href="intro.txt.html#escape" class="d">escape</a> special characters in
			file names.  The <a href="builtin.txt.html#fnameescape%28%29" class="l">fnameescape()</a> function can be used
			for Vim commands, <a href="builtin.txt.html#shellescape%28%29" class="l">shellescape()</a> for <a href="various.txt.html#%3A%21" class="l">:!</a> commands.
			Examples: 
<span class="e">		:execute "e " .. fnameescape(filename)</span>
<span class="e">		:execute "!ls " .. shellescape(filename, 1)</span>

			<span class="n">Note:</span> The executed <a href="eval.txt.html#string" class="d">string</a> may be any command-line, but
			<a href="starting.txt.html#starting" class="d">starting</a> or ending "if"<a href="motion.txt.html#%2C" class="d">,</a> "while" and "for" does not
			always work, because when commands are skipped the
			"<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>" <a href="motion.txt.html#is" class="d">is</a> not evaluated and Vim loses track of
			where blocks start and end.  Also "break" and
			"continue" should not be inside "<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>"<a href="repeat.txt.html#." class="d">.</a>
			This example does not work, because the "<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>" <a href="motion.txt.html#is" class="d">is</a>
			not evaluated and Vim does not see the "while"<a href="motion.txt.html#%2C" class="d">,</a> and
			gives an error for finding an "<a href="eval.txt.html#%3Aendwhile" class="d">:endwhile</a>"<a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">		:if 0</span>
<span class="e">		: execute 'while i &gt; 5'</span>
<span class="e">		:  echo "test"</span>
<span class="e">		: endwhile</span>
<span class="e">		:endif</span>

			It <a href="motion.txt.html#is" class="d">is</a> allowed to have <a href="insert.txt.html#a" class="d">a</a> "while" or "if" command
			completely in the executed string: 
<span class="e">		:execute 'while i &lt; 5 | echo i | let i = i + 1 | endwhile'</span>


							<span id="%3Aexe-comment" class="t">:exe-comment</span>
			"<a href="eval.txt.html#%3Aexecute" class="d">:execute</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Aecho" class="d">:echo</a>" and "<a href="eval.txt.html#%3Aechon" class="d">:echon</a>" cannot be followed by
			<a href="insert.txt.html#a" class="d">a</a> comment directly, because they see the <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27" class="d">'</a> <a href="motion.txt.html#as" class="d">as</a> the
			start of <a href="insert.txt.html#a" class="d">a</a> string.  But, you can use <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> followed by <a href="insert.txt.html#a" class="d">a</a>
			comment.  Example: 
<span class="e">		:echo "foo" | "this is a comment</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
8. Exception handling					<span id="exception-handling" class="t">exception-handling</span>

The Vim <a href="usr_41.txt.html#script" class="d">script</a> language comprises an exception handling feature.  This <a href="motion.txt.html#section" class="d">section</a>
explains how <a href="motion.txt.html#it" class="d">it</a> can be used in <a href="insert.txt.html#a" class="d">a</a> Vim script.

Exceptions may be raised by Vim on an error or on interrupt, see
<a href="eval.txt.html#catch-errors" class="l">catch-errors</a> and <a href="eval.txt.html#catch-interrupt" class="l">catch-interrupt</a><a href="repeat.txt.html#." class="d">.</a>  You can also explicitly throw an
exception by using the "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" command, see <a href="eval.txt.html#throw-catch" class="l">throw-catch</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">TRY CONDITIONALS</span>					<span id="try-conditionals" class="t">try-conditionals</span>

Exceptions can be caught or can cause cleanup code to be executed.  You can
use <a href="insert.txt.html#a" class="d">a</a> try conditional to specify catch clauses (that catch exceptions) and/or
<a href="insert.txt.html#a" class="d">a</a> finally clause (to be executed for cleanup).
   <a href="insert.txt.html#A" class="d">A</a> try conditional begins with <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#%3Atry" class="l">:try</a> command and ends <a href="motion.txt.html#at" class="d">at</a> the matching
<a href="eval.txt.html#%3Aendtry" class="l">:endtry</a> command.  In between, you can use <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#%3Acatch" class="l">:catch</a> command to start
<a href="insert.txt.html#a" class="d">a</a> catch clause, or <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#%3Afinally" class="l">:finally</a> command to start <a href="insert.txt.html#a" class="d">a</a> finally clause.  There may
be none or multiple catch clauses, but there <a href="motion.txt.html#is" class="d">is</a> <a href="motion.txt.html#at" class="d">at</a> most one finally clause,
which <a href="vim_faq.txt.html#must" class="d">must</a> not be followed by any catch clauses.  The lines before the catch
clauses and the finally clause <a href="motion.txt.html#is" class="d">is</a> called <a href="insert.txt.html#a" class="d">a</a> try block. 
<span class="e"></span>
<span class="e">     :try</span>
<span class="e">     :	...</span>
<span class="e">     :	...				TRY BLOCK</span>
<span class="e">     :	...</span>
<span class="e">     :catch /{pattern}/</span>
<span class="e">     :	...</span>
<span class="e">     :	...				CATCH CLAUSE</span>
<span class="e">     :	...</span>
<span class="e">     :catch /{pattern}/</span>
<span class="e">     :	...</span>
<span class="e">     :	...				CATCH CLAUSE</span>
<span class="e">     :	...</span>
<span class="e">     :finally</span>
<span class="e">     :	...</span>
<span class="e">     :	...				FINALLY CLAUSE</span>
<span class="e">     :	...</span>
<span class="e">     :endtry</span>
<span class="e"></span>
The try conditional allows to watch code for exceptions and to take the
appropriate actions.  Exceptions from the try block may be caught.  Exceptions
from the try block and also the catch clauses may cause cleanup actions.
   When no exception <a href="motion.txt.html#is" class="d">is</a> thrown during execution of the try block, the <a href="intro.txt.html#control" class="d">control</a>
<a href="motion.txt.html#is" class="d">is</a> transferred to the finally clause, if present.  After its execution, the
<a href="usr_41.txt.html#script" class="d">script</a> continues with the line following the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>"<a href="repeat.txt.html#." class="d">.</a>
   When an exception occurs during execution of the try block, the remaining
lines in the try block are skipped.  The exception <a href="motion.txt.html#is" class="d">is</a> matched against the
patterns specified <a href="motion.txt.html#as" class="d">as</a> arguments to the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" commands.  The catch clause
after the first matching "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" <a href="motion.txt.html#is" class="d">is</a> taken, other catch clauses are not
executed.  The catch clause ends when the next "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Afinally" class="d">:finally</a>"<a href="motion.txt.html#%2C" class="d">,</a> or
"<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" command <a href="motion.txt.html#is" class="d">is</a> reached <a href="motion.txt.html#-" class="d">-</a> whatever <a href="motion.txt.html#is" class="d">is</a> first.  Then, the finally clause
(if present) <a href="motion.txt.html#is" class="d">is</a> executed.  When the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" <a href="motion.txt.html#is" class="d">is</a> reached, the <a href="usr_41.txt.html#script" class="d">script</a> execution
continues in the following line <a href="motion.txt.html#as" class="d">as</a> usual.
   When an exception that does not match any of the patterns specified by the
"<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" commands <a href="motion.txt.html#is" class="d">is</a> thrown in the try block, the exception <a href="motion.txt.html#is" class="d">is</a> not caught by
that try conditional and none of the catch clauses <a href="motion.txt.html#is" class="d">is</a> executed.  Only the
finally clause, if present, <a href="motion.txt.html#is" class="d">is</a> taken.  The exception pends during execution of
the finally clause.  It <a href="motion.txt.html#is" class="d">is</a> resumed <a href="motion.txt.html#at" class="d">at</a> the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>"<a href="motion.txt.html#%2C" class="d">,</a> so that commands after
the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" are not executed and the exception might be caught elsewhere,
see <a href="eval.txt.html#try-nesting" class="l">try-nesting</a><a href="repeat.txt.html#." class="d">.</a>
   When during execution of <a href="insert.txt.html#a" class="d">a</a> catch clause another exception <a href="motion.txt.html#is" class="d">is</a> thrown, the
remaining lines in that catch clause are not executed.  The new exception <a href="motion.txt.html#is" class="d">is</a>
not matched against the patterns in any of the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" commands of the same
try conditional and none of its catch clauses <a href="motion.txt.html#is" class="d">is</a> taken.  If there is, however,
<a href="insert.txt.html#a" class="d">a</a> finally clause, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> executed, and the exception pends during its
execution.  The commands following the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" are not executed.  The new
exception might, however, be caught elsewhere, see <a href="eval.txt.html#try-nesting" class="l">try-nesting</a><a href="repeat.txt.html#." class="d">.</a>
   When during execution of the finally clause (if present) an exception <a href="motion.txt.html#is" class="d">is</a>
thrown, the remaining lines in the finally clause are skipped.  If the finally
clause has been taken because of an exception from the try block or one of the
catch clauses, the original (pending) exception <a href="motion.txt.html#is" class="d">is</a> discarded.  The commands
following the "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" are not executed, and the exception from the finally
clause <a href="motion.txt.html#is" class="d">is</a> propagated and can be caught elsewhere, see <a href="eval.txt.html#try-nesting" class="l">try-nesting</a><a href="repeat.txt.html#." class="d">.</a>

The finally clause <a href="motion.txt.html#is" class="d">is</a> also executed, when <a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Abreak" class="d">:break</a>" or "<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>" for
<a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Awhile" class="d">:while</a>" loop enclosing the complete try conditional <a href="motion.txt.html#is" class="d">is</a> executed from the
try block or <a href="insert.txt.html#a" class="d">a</a> catch clause.  Or when <a href="insert.txt.html#a" class="d">a</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>" or "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>" <a href="motion.txt.html#is" class="d">is</a> executed
from the try block or <a href="insert.txt.html#a" class="d">a</a> catch clause of <a href="insert.txt.html#a" class="d">a</a> try conditional in <a href="insert.txt.html#a" class="d">a</a> function or
sourced script, respectively.  The "<a href="eval.txt.html#%3Abreak" class="d">:break</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>"<a href="motion.txt.html#%2C" class="d">,</a> or
"<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>" pends during execution of the finally clause and <a href="motion.txt.html#is" class="d">is</a> resumed when the
"<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" <a href="motion.txt.html#is" class="d">is</a> reached.  It is, however, discarded when an exception <a href="motion.txt.html#is" class="d">is</a> thrown
from the finally clause.
   When <a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Abreak" class="d">:break</a>" or "<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>" for <a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Awhile" class="d">:while</a>" loop enclosing the complete
try conditional or when <a href="insert.txt.html#a" class="d">a</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>" or "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>" <a href="motion.txt.html#is" class="d">is</a> encountered in the finally
clause, the rest of the finally clause <a href="motion.txt.html#is" class="d">is</a> skipped, and the "<a href="eval.txt.html#%3Abreak" class="d">:break</a>"<a href="motion.txt.html#%2C" class="d">,</a>
"<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>" or "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>" <a href="motion.txt.html#is" class="d">is</a> executed <a href="motion.txt.html#as" class="d">as</a> usual.  If the finally
clause has been taken because of an exception or an earlier "<a href="eval.txt.html#%3Abreak" class="d">:break</a>"<a href="motion.txt.html#%2C" class="d">,</a>
"<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>"<a href="motion.txt.html#%2C" class="d">,</a> or "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>" from the try block or <a href="insert.txt.html#a" class="d">a</a> catch clause,
this pending exception or command <a href="motion.txt.html#is" class="d">is</a> discarded.

For examples see <a href="eval.txt.html#throw-catch" class="l">throw-catch</a> and <a href="eval.txt.html#try-finally" class="l">try-finally</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">NESTING OF TRY CONDITIONALS</span>				<span id="try-nesting" class="t">try-nesting</span>

Try conditionals can be nested arbitrarily.  That is, <a href="insert.txt.html#a" class="d">a</a> complete try
conditional can be <a href="change.txt.html#put" class="d">put</a> into the try block, <a href="insert.txt.html#a" class="d">a</a> catch clause, or the finally
clause of another try conditional.  If the inner try conditional does not
catch an exception thrown in its try block or throws <a href="insert.txt.html#a" class="d">a</a> new exception from one
of its catch clauses or its finally clause, the outer try conditional <a href="motion.txt.html#is" class="d">is</a>
checked according to the rules above.  If the inner try conditional <a href="motion.txt.html#is" class="d">is</a> in the
try block of the outer try conditional, its catch clauses are checked, but
otherwise only the finally clause <a href="motion.txt.html#is" class="d">is</a> executed.  It does not matter for
nesting, whether the inner try conditional <a href="motion.txt.html#is" class="d">is</a> directly contained in the outer
one, or whether the outer one sources <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> or calls <a href="insert.txt.html#a" class="d">a</a> function containing
the inner try conditional.

When none of the active try conditionals catches an exception, just their
finally clauses are executed.  Thereafter, the <a href="usr_41.txt.html#script" class="d">script</a> processing terminates.
An error message <a href="motion.txt.html#is" class="d">is</a> displayed in <a href="change.txt.html#case" class="d">case</a> of an uncaught exception explicitly
thrown by <a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" command.  For uncaught error and interrupt exceptions
implicitly raised by Vim, the error message(s) or interrupt message are shown
<a href="motion.txt.html#as" class="d">as</a> usual.

For examples see <a href="eval.txt.html#throw-catch" class="l">throw-catch</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">EXAMINING EXCEPTION HANDLING CODE</span>			<span id="except-examine" class="t">except-examine</span>

Exception handling code can get tricky.  If you are in doubt what happens, set
<a href="options.txt.html#%27verbose%27" class="o">'verbose'</a> to 13 or use the ":13verbose" command modifier when sourcing your
<a href="usr_41.txt.html#script" class="d">script</a> file.  Then you see when an exception <a href="motion.txt.html#is" class="d">is</a> thrown, discarded, caught, or
finished.  When using <a href="insert.txt.html#a" class="d">a</a> verbosity level of <a href="motion.txt.html#at" class="d">at</a> least 14, things pending in
<a href="insert.txt.html#a" class="d">a</a> finally clause are also shown.  This information <a href="motion.txt.html#is" class="d">is</a> also given in debug mode
(see <a href="repeat.txt.html#debug-scripts" class="l">debug-scripts</a>).


<span class="c">THROWING AND CATCHING EXCEPTIONS</span>			<span id="throw-catch" class="t">throw-catch</span>

You can throw any number or <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#as" class="d">as</a> an exception.  Use the <a href="eval.txt.html#%3Athrow" class="l">:throw</a> command
and pass the value to be thrown <a href="motion.txt.html#as" class="d">as</a> argument: 
<span class="e">	:throw 4711</span>
<span class="e">	:throw "string"</span>
							<span id="throw-expression" class="t">throw-expression</span>
You can also specify an <a href="eval.txt.html#expression" class="d">expression</a> argument.  The <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> then evaluated
first, and the result <a href="motion.txt.html#is" class="d">is</a> thrown: 
<span class="e">	:throw 4705 + strlen("string")</span>
<span class="e">	:throw strpart("strings", 0, 6)</span>
<span class="e"></span>
An exception might be thrown during evaluation of the argument of the "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>"
command.  Unless <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> caught there, the <a href="eval.txt.html#expression" class="d">expression</a> evaluation <a href="motion.txt.html#is" class="d">is</a> abandoned.
The "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" command then does not throw <a href="insert.txt.html#a" class="d">a</a> new exception.
   Example: 
<span class="e"></span>
<span class="e">	:function! Foo(arg)</span>
<span class="e">	:  try</span>
<span class="e">	:    throw a:arg</span>
<span class="e">	:  catch /foo/</span>
<span class="e">	:  endtry</span>
<span class="e">	:  return 1</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Bar()</span>
<span class="e">	:  echo "in Bar"</span>
<span class="e">	:  return 4710</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:throw Foo("arrgh") + Bar()</span>
<span class="e"></span>
This throws "arrgh"<a href="motion.txt.html#%2C" class="d">,</a> and "in Bar" <a href="motion.txt.html#is" class="d">is</a> not displayed since Bar() <a href="motion.txt.html#is" class="d">is</a> not
executed. 
<span class="e">	:throw Foo("foo") + Bar()</span>
however displays "in Bar" and throws 4711.

Any other command that takes an <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#as" class="d">as</a> argument might also be
abandoned by an (uncaught) exception during the <a href="eval.txt.html#expression" class="d">expression</a> evaluation.  The
exception <a href="motion.txt.html#is" class="d">is</a> then propagated to the caller of the command.
   Example: 
<span class="e"></span>
<span class="e">	:if Foo("arrgh")</span>
<span class="e">	:  echo "then"</span>
<span class="e">	:else</span>
<span class="e">	:  echo "else"</span>
<span class="e">	:endif</span>
<span class="e"></span>
Here neither of "then" or "else" <a href="motion.txt.html#is" class="d">is</a> displayed.

							<span id="catch-order" class="t">catch-order</span>
Exceptions can be caught by <a href="insert.txt.html#a" class="d">a</a> try conditional with one or more <a href="eval.txt.html#%3Acatch" class="l">:catch</a>
commands, see <a href="eval.txt.html#try-conditionals" class="l">try-conditionals</a><a href="repeat.txt.html#." class="d">.</a>   The values to be caught by each "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>"
command can be specified <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> argument.  The subsequent catch clause
gets executed when <a href="insert.txt.html#a" class="d">a</a> matching exception <a href="motion.txt.html#is" class="d">is</a> caught.
   Example: 
<span class="e"></span>
<span class="e">	:function! Foo(value)</span>
<span class="e">	:  try</span>
<span class="e">	:    throw a:value</span>
<span class="e">	:  catch /^\d\+$/</span>
<span class="e">	:    echo "Number thrown"</span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    echo "String thrown"</span>
<span class="e">	:  endtry</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:call Foo(0x1267)</span>
<span class="e">	:call Foo('string')</span>
<span class="e"></span>
The first call to Foo() displays "<a href="eval.txt.html#Number" class="d">Number</a> thrown"<a href="motion.txt.html#%2C" class="d">,</a> the second "<a href="eval.txt.html#String" class="d">String</a> thrown"<a href="repeat.txt.html#." class="d">.</a>
An exception <a href="motion.txt.html#is" class="d">is</a> matched against the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" commands in the order they are
specified.  Only the first match counts.  So you should place the more
specific "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" first.  The following order does not make sense: 
<span class="e"></span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    echo "String thrown"</span>
<span class="e">	:  catch /^\d\+$/</span>
<span class="e">	:    echo "Number thrown"</span>
<span class="e"></span>
The first "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" here matches always, so that the second catch clause <a href="motion.txt.html#is" class="d">is</a>
never taken.

							<span id="throw-variables" class="t">throw-variables</span>
If you catch an exception by <a href="insert.txt.html#a" class="d">a</a> general pattern, you may access the exact value
in the variable <a href="eval.txt.html#v%3Aexception" class="l">v:exception</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e"></span>
<span class="e">	:  catch /^\d\+$/</span>
<span class="e">	:    echo "Number thrown.  Value is" v:exception</span>
<span class="e"></span>
You may also be interested where an exception was thrown.  This <a href="motion.txt.html#is" class="d">is</a> stored in
<a href="eval.txt.html#v%3Athrowpoint" class="l">v:throwpoint</a><a href="repeat.txt.html#." class="d">.</a>  And you can obtain the stack trace from <a href="eval.txt.html#v%3Astacktrace" class="l">v:stacktrace</a><a href="repeat.txt.html#." class="d">.</a>
<span class="n">Note</span> that "<a href="eval.txt.html#v%3Aexception" class="d">v:exception</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#v%3Astacktrace" class="d">v:stacktrace</a>" and "<a href="eval.txt.html#v%3Athrowpoint" class="d">v:throwpoint</a>" are valid for the
exception most recently caught <a href="motion.txt.html#as" class="d">as</a> long <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not finished.
   Example: 
<span class="e"></span>
<span class="e">	:function! Caught()</span>
<span class="e">	:  if v:exception != ""</span>
<span class="e">	:    echo 'Caught "' .. v:exception .. '" in ' .. v:throwpoint</span>
<span class="e">	:  else</span>
<span class="e">	:    echo 'Nothing caught'</span>
<span class="e">	:  endif</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Foo()</span>
<span class="e">	:  try</span>
<span class="e">	:    try</span>
<span class="e">	:      try</span>
<span class="e">	:	 throw 4711</span>
<span class="e">	:      finally</span>
<span class="e">	:	 call Caught()</span>
<span class="e">	:      endtry</span>
<span class="e">	:    catch /.*/</span>
<span class="e">	:      call Caught()</span>
<span class="e">	:      throw "oops"</span>
<span class="e">	:    endtry</span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    call Caught()</span>
<span class="e">	:  finally</span>
<span class="e">	:    call Caught()</span>
<span class="e">	:  endtry</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:call Foo()</span>
<span class="e"></span>
This displays 
<span class="e"></span>
<span class="e">	Nothing caught</span>
<span class="e">	Caught "4711" in function Foo, line 4</span>
<span class="e">	Caught "oops" in function Foo, line 10</span>
<span class="e">	Nothing caught</span>
<span class="e"></span>
<a href="insert.txt.html#A" class="d">A</a> practical example:  The following command ":LineNumber" displays the line
number in the <a href="usr_41.txt.html#script" class="d">script</a> or function where <a href="motion.txt.html#it" class="d">it</a> has been used: 
<span class="e"></span>
<span class="e">	:function! LineNumber()</span>
<span class="e">	:    return substitute(v:throwpoint, '.*\D\(\d\+\).*', '\1', "")</span>
<span class="e">	:endfunction</span>
<span class="e">	:command! LineNumber try | throw "" | catch | echo LineNumber() | endtry</span>

							<span id="try-nested" class="t">try-nested</span>
An exception that <a href="motion.txt.html#is" class="d">is</a> not caught by <a href="insert.txt.html#a" class="d">a</a> try conditional can be caught by
<a href="insert.txt.html#a" class="d">a</a> surrounding try conditional: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  try</span>
<span class="e">	:    throw "foo"</span>
<span class="e">	:  catch /foobar/</span>
<span class="e">	:    echo "foobar"</span>
<span class="e">	:  finally</span>
<span class="e">	:    echo "inner finally"</span>
<span class="e">	:  endtry</span>
<span class="e">	:catch /foo/</span>
<span class="e">	:  echo "foo"</span>
<span class="e">	:endtry</span>
<span class="e"></span>
The inner try conditional does not catch the exception, just its finally
clause <a href="motion.txt.html#is" class="d">is</a> executed.  The exception <a href="motion.txt.html#is" class="d">is</a> then caught by the outer try
conditional.  The example displays "inner finally" and then "foo"<a href="repeat.txt.html#." class="d">.</a>

							<span id="throw-from-catch" class="t">throw-from-catch</span>
You can catch an exception and throw <a href="insert.txt.html#a" class="d">a</a> new one to be caught elsewhere from the
catch clause: 
<span class="e"></span>
<span class="e">	:function! Foo()</span>
<span class="e">	:  throw "foo"</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Bar()</span>
<span class="e">	:  try</span>
<span class="e">	:    call Foo()</span>
<span class="e">	:  catch /foo/</span>
<span class="e">	:    echo "Caught foo, throw bar"</span>
<span class="e">	:    throw "bar"</span>
<span class="e">	:  endtry</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  call Bar()</span>
<span class="e">	:catch /.*/</span>
<span class="e">	:  echo "Caught" v:exception</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This displays "Caught foo, throw <a href="motion.txt.html#bar" class="d">bar</a>" and then "Caught <a href="motion.txt.html#bar" class="d">bar</a>"<a href="repeat.txt.html#." class="d">.</a>

							<span id="rethrow" class="t">rethrow</span>
There <a href="motion.txt.html#is" class="d">is</a> no real <a href="eval.txt.html#rethrow" class="d">rethrow</a> in the Vim <a href="usr_41.txt.html#script" class="d">script</a> language, but you may throw
"<a href="eval.txt.html#v%3Aexception" class="d">v:exception</a>" instead: 
<span class="e"></span>
<span class="e">	:function! Bar()</span>
<span class="e">	:  try</span>
<span class="e">	:    call Foo()</span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    echo "Rethrow" v:exception</span>
<span class="e">	:    throw v:exception</span>
<span class="e">	:  endtry</span>
<span class="e">	:endfunction</span>
							<span id="try-echoerr" class="t">try-echoerr</span>
<span class="n">Note</span> that this <a href="eval.txt.html#method" class="d">method</a> cannot be used to "<a href="eval.txt.html#rethrow" class="d">rethrow</a>" Vim error or interrupt
exceptions, because <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not possible to fake Vim internal exceptions.
Trying so causes an error exception.  You should throw your own exception
denoting the situation.  If you want to cause <a href="insert.txt.html#a" class="d">a</a> Vim error exception containing
the original error exception value, you can use the <a href="eval.txt.html#%3Aechoerr" class="l">:echoerr</a> command: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  try</span>
<span class="e">	:    asdf</span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    echoerr v:exception</span>
<span class="e">	:  endtry</span>
<span class="e">	:catch /.*/</span>
<span class="e">	:  echo v:exception</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This code displays

<span class="h">	Vim(echoerr):Vim:E492: Not an editor command:	asdf </span>


<span class="c">CLEANUP CODE</span>						<span id="try-finally" class="t">try-finally</span>

Scripts often change global settings and restore them <a href="motion.txt.html#at" class="d">at</a> their end.  If the
user however interrupts the <a href="usr_41.txt.html#script" class="d">script</a> by pressing <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a>, the settings remain in
an inconsistent state.  The same may happen to you in the <a href="develop.txt.html#development" class="d">development</a> phase of
<a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> when an error occurs or you explicitly throw an exception without
catching it.  You can solve these problems by using <a href="insert.txt.html#a" class="d">a</a> try conditional with
<a href="insert.txt.html#a" class="d">a</a> finally clause for restoring the settings.  Its execution <a href="motion.txt.html#is" class="d">is</a> guaranteed on
normal <a href="intro.txt.html#control" class="d">control</a> flow, on error, on an explicit "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>"<a href="motion.txt.html#%2C" class="d">,</a> and on interrupt.
(Note that <a href="message.txt.html#errors" class="d">errors</a> and interrupts from inside the try conditional are converted
to exceptions.  When not caught, they terminate the <a href="usr_41.txt.html#script" class="d">script</a> after the finally
clause has been executed.)
Example: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  let s:saved_ts = &amp;ts</span>
<span class="e">	:  set ts=17</span>
<span class="e">	:</span>
<span class="e">	:  " Do the hard work here.</span>
<span class="e">	:</span>
<span class="e">	:finally</span>
<span class="e">	:  let &amp;ts = s:saved_ts</span>
<span class="e">	:  unlet s:saved_ts</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This <a href="eval.txt.html#method" class="d">method</a> should be used locally whenever <a href="insert.txt.html#a" class="d">a</a> function or part of <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a>
changes global settings which need to be restored on failure or normal exit of
that function or <a href="usr_41.txt.html#script" class="d">script</a> part.

							<span id="break-finally" class="t">break-finally</span>
Cleanup code works also when the try block or <a href="insert.txt.html#a" class="d">a</a> catch clause <a href="motion.txt.html#is" class="d">is</a> left by
<a href="insert.txt.html#a" class="d">a</a> "<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Abreak" class="d">:break</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>"<a href="motion.txt.html#%2C" class="d">,</a> or "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>"<a href="repeat.txt.html#." class="d">.</a>
   Example: 
<span class="e"></span>
<span class="e">	:let first = 1</span>
<span class="e">	:while 1</span>
<span class="e">	:  try</span>
<span class="e">	:    if first</span>
<span class="e">	:      echo "first"</span>
<span class="e">	:      let first = 0</span>
<span class="e">	:      continue</span>
<span class="e">	:    else</span>
<span class="e">	:      throw "second"</span>
<span class="e">	:    endif</span>
<span class="e">	:  catch /.*/</span>
<span class="e">	:    echo v:exception</span>
<span class="e">	:    break</span>
<span class="e">	:  finally</span>
<span class="e">	:    echo "cleanup"</span>
<span class="e">	:  endtry</span>
<span class="e">	:  echo "still in while"</span>
<span class="e">	:endwhile</span>
<span class="e">	:echo "end"</span>
<span class="e"></span>
This displays "first"<a href="motion.txt.html#%2C" class="d">,</a> "cleanup"<a href="motion.txt.html#%2C" class="d">,</a> "second"<a href="motion.txt.html#%2C" class="d">,</a> "cleanup"<a href="motion.txt.html#%2C" class="d">,</a> and "<a href="intro.txt.html#end" class="d">end</a>"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e"></span>
<span class="e">	:function! Foo()</span>
<span class="e">	:  try</span>
<span class="e">	:    return 4711</span>
<span class="e">	:  finally</span>
<span class="e">	:    echo "cleanup\n"</span>
<span class="e">	:  endtry</span>
<span class="e">	:  echo "Foo still active"</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:echo Foo() "returned by Foo"</span>
<span class="e"></span>
This displays "cleanup" and "4711 returned by Foo"<a href="repeat.txt.html#." class="d">.</a>  You don't need to add an
extra "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>" in the finally clause.  (Above all, this would override the
return value.)

							<span id="except-from-finally" class="t">except-from-finally</span>
Using either of "<a href="eval.txt.html#%3Acontinue" class="d">:continue</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Abreak" class="d">:break</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="userfunc.txt.html#%3Areturn" class="d">:return</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="repeat.txt.html#%3Afinish" class="d">:finish</a>"<a href="motion.txt.html#%2C" class="d">,</a> or "<a href="eval.txt.html#%3Athrow" class="d">:throw</a>" in
<a href="insert.txt.html#a" class="d">a</a> finally clause <a href="motion.txt.html#is" class="d">is</a> possible, but not recommended since <a href="motion.txt.html#it" class="d">it</a> abandons the
cleanup actions for the try conditional.  But, of course, interrupt and error
exceptions might get raised from <a href="insert.txt.html#a" class="d">a</a> finally clause.
   Example where an error in the finally clause stops an interrupt from
working correctly: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  try</span>
<span class="e">	:    echo "Press CTRL-C for interrupt"</span>
<span class="e">	:    while 1</span>
<span class="e">	:    endwhile</span>
<span class="e">	:  finally</span>
<span class="e">	:    unlet novar</span>
<span class="e">	:  endtry</span>
<span class="e">	:catch /novar/</span>
<span class="e">	:endtry</span>
<span class="e">	:echo "Script still running"</span>
<span class="e">	:sleep 1</span>
<span class="e"></span>
If you need to <a href="change.txt.html#put" class="d">put</a> commands that could fail into <a href="insert.txt.html#a" class="d">a</a> finally clause, you should
think about catching or ignoring the <a href="message.txt.html#errors" class="d">errors</a> in these commands, see
<a href="eval.txt.html#catch-errors" class="l">catch-errors</a> and <a href="eval.txt.html#ignore-errors" class="l">ignore-errors</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">CATCHING ERRORS</span>						<span id="catch-errors" class="t">catch-errors</span>

If you want to catch specific errors, you just have to <a href="change.txt.html#put" class="d">put</a> the code to be
watched in <a href="insert.txt.html#a" class="d">a</a> try block and add <a href="insert.txt.html#a" class="d">a</a> catch clause for the error message.  The
presence of the try conditional causes all <a href="message.txt.html#errors" class="d">errors</a> to be converted to an
exception.  No message <a href="motion.txt.html#is" class="d">is</a> displayed and <a href="eval.txt.html#v%3Aerrmsg" class="l">v:errmsg</a> <a href="motion.txt.html#is" class="d">is</a> not set then.  To find
the right <a href="pattern.txt.html#pattern" class="d">pattern</a> for the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" command, you have to know how the format of
the error exception is.
   Error exceptions have the following format: 
<span class="e"></span>
<span class="e">	Vim({cmdname}):{errmsg}</span>
or 
<span class="e">	Vim:{errmsg}</span>
<span class="e"></span>
<span class="s">{cmdname}</span> <a href="motion.txt.html#is" class="d">is</a> the name of the command that failed; the second form <a href="motion.txt.html#is" class="d">is</a> used when
the command name <a href="motion.txt.html#is" class="d">is</a> not known.  <span class="s">{errmsg}</span> <a href="motion.txt.html#is" class="d">is</a> the error message usually produced
when the error occurs outside try conditionals.  It always begins with
<a href="insert.txt.html#a" class="d">a</a> capital "<a href="motion.txt.html#E" class="d">E</a>"<a href="motion.txt.html#%2C" class="d">,</a> followed by <a href="insert.txt.html#a" class="d">a</a> two or three-digit error number, <a href="insert.txt.html#a" class="d">a</a> colon, and
<a href="insert.txt.html#a" class="d">a</a> space.

Examples:

The command 
<span class="e">	:unlet novar</span>
normally produces the error message 
<span class="e">	E108: No such variable: "novar"</span>
which <a href="motion.txt.html#is" class="d">is</a> converted inside try conditionals to an exception 
<span class="e">	Vim(unlet):E108: No such variable: "novar"</span>
<span class="e"></span>
The command 
<span class="e">	:dwim</span>
normally produces the error message 
<span class="e">	E492: Not an editor command: dwim</span>
which <a href="motion.txt.html#is" class="d">is</a> converted inside try conditionals to an exception 
<span class="e">	Vim:E492: Not an editor command: dwim</span>
<span class="e"></span>
You can catch all "<a href="eval.txt.html#%3Aunlet" class="d">:unlet</a>" <a href="message.txt.html#errors" class="d">errors</a> by <a href="insert.txt.html#a" class="d">a</a> 
<span class="e">	:catch /^Vim(unlet):/</span>
or all <a href="message.txt.html#errors" class="d">errors</a> for misspelled command names by <a href="insert.txt.html#a" class="d">a</a> 
<span class="e">	:catch /^Vim:E492:/</span>
<span class="e"></span>
Some error <a href="message.txt.html#messages" class="d">messages</a> may be produced by different commands: 
<span class="e">	:function nofunc</span>
and 
<span class="e">	:delfunction nofunc</span>
both produce the error message 
<span class="e">	E128: Function name must start with a capital: nofunc</span>
which <a href="motion.txt.html#is" class="d">is</a> converted inside try conditionals to an exception 
<span class="e">	Vim(function):E128: Function name must start with a capital: nofunc</span>
or 
<span class="e">	Vim(delfunction):E128: Function name must start with a capital: nofunc</span>
respectively.  You can catch the error by its number independently on the
command that caused <a href="motion.txt.html#it" class="d">it</a> if you use the following pattern: 
<span class="e">	:catch /^Vim(\a\+):E128:/</span>
<span class="e"></span>
Some commands like 
<span class="e">	:let x = novar</span>
produce multiple error messages, here: 
<span class="e">	E121: Undefined variable: novar</span>
<span class="e">	E15: Invalid expression:  novar</span>
Only the first <a href="motion.txt.html#is" class="d">is</a> used for the exception value, since <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> the most specific
one (see <a href="eval.txt.html#except-several-errors" class="l">except-several-errors</a>).  So you can catch <a href="motion.txt.html#it" class="d">it</a> by 
<span class="e">	:catch /^Vim(\a\+):E121:/</span>
<span class="e"></span>
You can catch all <a href="message.txt.html#errors" class="d">errors</a> related to the name "nofunc" by 
<span class="e">	:catch /\&lt;nofunc\&gt;/</span>
<span class="e"></span>
You can catch all Vim <a href="message.txt.html#errors" class="d">errors</a> in the "<a href="editing.txt.html#%3Awrite" class="d">:write</a>" and "<a href="insert.txt.html#%3Aread" class="d">:read</a>" commands by 
<span class="e">	:catch /^Vim(\(write\|read\)):E\d\+:/</span>
<span class="e"></span>
You can catch all Vim <a href="message.txt.html#errors" class="d">errors</a> by the <a href="pattern.txt.html#pattern" class="d">pattern</a> 
<span class="e">	:catch /^Vim\((\a\+)\)\=:E\d\+:/</span>

							<span id="catch-text" class="t">catch-text</span>
<span class="n">NOTE:</span> You should never catch the error message text itself: 
<span class="e">	:catch /No such variable/</span>
only works in the English locale, but not when the user has selected
<a href="insert.txt.html#a" class="d">a</a> different language by the <a href="mlang.txt.html#%3Alanguage" class="l">:language</a> command.  It <a href="motion.txt.html#is" class="d">is</a> however helpful to
cite the message text in <a href="insert.txt.html#a" class="d">a</a> comment: 
<span class="e">	:catch /^Vim(\a\+):E108:/   " No such variable</span>
<span class="e"></span>
<span class="e"></span>
<span class="c">IGNORING ERRORS</span>						<span id="ignore-errors" class="t">ignore-errors</span>

You can ignore <a href="message.txt.html#errors" class="d">errors</a> in <a href="insert.txt.html#a" class="d">a</a> specific Vim command by catching them locally: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  write</span>
<span class="e">	:catch</span>
<span class="e">	:endtry</span>
<span class="e"></span>
But you are strongly recommended NOT to use this simple form, since <a href="motion.txt.html#it" class="d">it</a> could
catch more than you want.  With the "<a href="editing.txt.html#%3Awrite" class="d">:write</a>" command, some <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> could
be executed and cause <a href="message.txt.html#errors" class="d">errors</a> not related to writing, for instance: 
<span class="e"></span>
<span class="e">	:au BufWritePre * unlet novar</span>
<span class="e"></span>
There could even be such <a href="message.txt.html#errors" class="d">errors</a> you are not responsible for <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a>
writer: <a href="insert.txt.html#a" class="d">a</a> user of your <a href="usr_41.txt.html#script" class="d">script</a> might have defined such autocommands.  You would
then hide the error from the user.
   It <a href="motion.txt.html#is" class="d">is</a> much better to use 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  write</span>
<span class="e">	:catch /^Vim(write):/</span>
<span class="e">	:endtry</span>
<span class="e"></span>
which only catches real write errors.  So catch only what you'd like to ignore
intentionally.

For <a href="insert.txt.html#a" class="d">a</a> single command that does not cause execution of autocommands, you could
even suppress the conversion of <a href="message.txt.html#errors" class="d">errors</a> to exceptions by the "<a href="various.txt.html#%3Asilent%21" class="d">:silent!</a>"
command: 
<span class="e">	:silent! nunmap k</span>
This works also when <a href="insert.txt.html#a" class="d">a</a> try conditional <a href="motion.txt.html#is" class="d">is</a> active.


<span class="c">CATCHING INTERRUPTS</span>					<span id="catch-interrupt" class="t">catch-interrupt</span>

When there are active try conditionals, an interrupt (CTRL-C) <a href="motion.txt.html#is" class="d">is</a> converted to
the exception "Vim:Interrupt"<a href="repeat.txt.html#." class="d">.</a>  You can catch <a href="motion.txt.html#it" class="d">it</a> like every exception.  The
<a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> not terminated, then.
   Example: 
<span class="e"></span>
<span class="e">	:function! TASK1()</span>
<span class="e">	:  sleep 10</span>
<span class="e">	:endfunction</span>
<span class="e"></span>
<span class="e">	:function! TASK2()</span>
<span class="e">	:  sleep 20</span>
<span class="e">	:endfunction</span>
<span class="e"></span>
<span class="e">	:while 1</span>
<span class="e">	:  let command = input("Type a command: ")</span>
<span class="e">	:  try</span>
<span class="e">	:    if command == ""</span>
<span class="e">	:      continue</span>
<span class="e">	:    elseif command == "END"</span>
<span class="e">	:      break</span>
<span class="e">	:    elseif command == "TASK1"</span>
<span class="e">	:      call TASK1()</span>
<span class="e">	:    elseif command == "TASK2"</span>
<span class="e">	:      call TASK2()</span>
<span class="e">	:    else</span>
<span class="e">	:      echo "\nIllegal command:" command</span>
<span class="e">	:      continue</span>
<span class="e">	:    endif</span>
<span class="e">	:  catch /^Vim:Interrupt$/</span>
<span class="e">	:    echo "\nCommand interrupted"</span>
<span class="e">	:    " Caught the interrupt.  Continue with next prompt.</span>
<span class="e">	:  endtry</span>
<span class="e">	:endwhile</span>
<span class="e"></span>
You can interrupt <a href="insert.txt.html#a" class="d">a</a> task here by pressing <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a>; the <a href="usr_41.txt.html#script" class="d">script</a> then asks for
<a href="insert.txt.html#a" class="d">a</a> new command.  If you press <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a> <a href="motion.txt.html#at" class="d">at</a> the prompt, the <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> terminated.

For <a href="testing.txt.html#testing" class="d">testing</a> what happens when <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a> would be pressed on <a href="insert.txt.html#a" class="d">a</a> specific line in
your script, use the debug mode and execute the <a href="repeat.txt.html#%3Equit" class="l">&gt;quit</a> or <a href="repeat.txt.html#%3Einterrupt" class="l">&gt;interrupt</a>
command on that line.  See <a href="repeat.txt.html#debug-scripts" class="l">debug-scripts</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">CATCHING ALL</span>						<span id="catch-all" class="t">catch-all</span>

The commands 
<span class="e"></span>
<span class="e">	:catch /.*/</span>
<span class="e">	:catch //</span>
<span class="e">	:catch</span>
<span class="e"></span>
catch everything, error exceptions, interrupt exceptions and exceptions
explicitly thrown by the <a href="eval.txt.html#%3Athrow" class="l">:throw</a> command.  This <a href="motion.txt.html#is" class="d">is</a> useful <a href="motion.txt.html#at" class="d">at</a> the top level of
<a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> in order to catch unexpected things.
   Example: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:</span>
<span class="e">	:  " do the hard work here</span>
<span class="e">	:</span>
<span class="e">	:catch /MyException/</span>
<span class="e">	:</span>
<span class="e">	:  " handle known problem</span>
<span class="e">	:</span>
<span class="e">	:catch /^Vim:Interrupt$/</span>
<span class="e">	:    echo "Script interrupted"</span>
<span class="e">	:catch /.*/</span>
<span class="e">	:  echo "Internal error (" .. v:exception .. ")"</span>
<span class="e">	:  echo " - occurred at " .. v:throwpoint</span>
<span class="e">	:endtry</span>
<span class="e">	:" end of script</span>
<span class="e"></span>
<span class="n">Note:</span> Catching all might catch more things than you want.  Thus, you are
strongly encouraged to catch only for problems that you can really handle by
specifying <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> argument to the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>"<a href="repeat.txt.html#." class="d">.</a>
   Example: Catching all could make <a href="motion.txt.html#it" class="d">it</a> nearly impossible to interrupt <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a>
by pressing <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a>: 
<span class="e"></span>
<span class="e">	:while 1</span>
<span class="e">	:  try</span>
<span class="e">	:    sleep 1</span>
<span class="e">	:  catch</span>
<span class="e">	:  endtry</span>
<span class="e">	:endwhile</span>
<span class="e"></span>
<span class="e"></span>
<span class="c">EXCEPTIONS AND AUTOCOMMANDS</span>				<span id="except-autocmd" class="t">except-autocmd</span>

Exceptions may be used during execution of autocommands.  Example: 
<span class="e"></span>
<span class="e">	:autocmd User x try</span>
<span class="e">	:autocmd User x   throw "Oops!"</span>
<span class="e">	:autocmd User x catch</span>
<span class="e">	:autocmd User x   echo v:exception</span>
<span class="e">	:autocmd User x endtry</span>
<span class="e">	:autocmd User x throw "Arrgh!"</span>
<span class="e">	:autocmd User x echo "Should not be displayed"</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  doautocmd User x</span>
<span class="e">	:catch</span>
<span class="e">	:  echo v:exception</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This displays "Oops!" and "Arrgh!"<a href="repeat.txt.html#." class="d">.</a>

							<span id="except-autocmd-Pre" class="t">except-autocmd-Pre</span>
For some commands, <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> get executed before the main action of the
command takes place.  If an exception <a href="motion.txt.html#is" class="d">is</a> thrown and not caught in the sequence
of autocommands, the sequence and the command that caused its execution are
abandoned and the exception <a href="motion.txt.html#is" class="d">is</a> propagated to the caller of the command.
   Example: 
<span class="e"></span>
<span class="e">	:autocmd BufWritePre * throw "FAIL"</span>
<span class="e">	:autocmd BufWritePre * echo "Should not be displayed"</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  write</span>
<span class="e">	:catch</span>
<span class="e">	:  echo "Caught:" v:exception "from" v:throwpoint</span>
<span class="e">	:endtry</span>
<span class="e"></span>
Here, the "<a href="editing.txt.html#%3Awrite" class="d">:write</a>" command does not write the file currently being edited (as
you can see by checking <a href="options.txt.html#%27modified%27" class="o">'modified'</a>), since the exception from the <a href="autocmd.txt.html#BufWritePre" class="d">BufWritePre</a>
<a href="autocmd.txt.html#autocommand" class="d">autocommand</a> abandons the "<a href="editing.txt.html#%3Awrite" class="d">:write</a>"<a href="repeat.txt.html#." class="d">.</a>  The exception <a href="motion.txt.html#is" class="d">is</a> then caught and the
<a href="usr_41.txt.html#script" class="d">script</a> displays: 
<span class="e"></span>
<span class="e">	Caught: FAIL from BufWrite Auto commands for "*"</span>

							<span id="except-autocmd-Post" class="t">except-autocmd-Post</span>
For some commands, <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> get executed after the main action of the
command has taken place.  If this main action fails and the command <a href="motion.txt.html#is" class="d">is</a> inside
an active try conditional, the <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> are skipped and an error exception
<a href="motion.txt.html#is" class="d">is</a> thrown that can be caught by the caller of the command.
   Example: 
<span class="e"></span>
<span class="e">	:autocmd BufWritePost * echo "File successfully written!"</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  write /i/m/p/o/s/s/i/b/l/e</span>
<span class="e">	:catch</span>
<span class="e">	:  echo v:exception</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This just displays: 
<span class="e"></span>
<span class="e">	Vim(write):E212: Can't open file for writing (/i/m/p/o/s/s/i/b/l/e)</span>
<span class="e"></span>
If you really need to execute the <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> even when the main action
fails, trigger the event from the catch clause.
   Example: 
<span class="e"></span>
<span class="e">	:autocmd BufWritePre  * set noreadonly</span>
<span class="e">	:autocmd BufWritePost * set readonly</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  write /i/m/p/o/s/s/i/b/l/e</span>
<span class="e">	:catch</span>
<span class="e">	:  doautocmd BufWritePost /i/m/p/o/s/s/i/b/l/e</span>
<span class="e">	:endtry</span>

You can also use "<a href="various.txt.html#%3Asilent%21" class="d">:silent!</a>"<a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e"></span>
<span class="e">	:let x = "ok"</span>
<span class="e">	:let v:errmsg = ""</span>
<span class="e">	:autocmd BufWritePost * if v:errmsg != ""</span>
<span class="e">	:autocmd BufWritePost *   let x = "after fail"</span>
<span class="e">	:autocmd BufWritePost * endif</span>
<span class="e">	:try</span>
<span class="e">	:  silent! write /i/m/p/o/s/s/i/b/l/e</span>
<span class="e">	:catch</span>
<span class="e">	:endtry</span>
<span class="e">	:echo x</span>
<span class="e"></span>
This displays "after fail"<a href="repeat.txt.html#." class="d">.</a>

If the main action of the command does not fail, exceptions from the
<a href="autocmd.txt.html#autocommands" class="d">autocommands</a> will be catchable by the caller of the command:  
<span class="e"></span>
<span class="e">	:autocmd BufWritePost * throw ":-("</span>
<span class="e">	:autocmd BufWritePost * echo "Should not be displayed"</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:  write</span>
<span class="e">	:catch</span>
<span class="e">	:  echo v:exception</span>
<span class="e">	:endtry</span>

							<span id="except-autocmd-Cmd" class="t">except-autocmd-Cmd</span>
For some commands, the normal action can be replaced by <a href="insert.txt.html#a" class="d">a</a> sequence of
autocommands.  Exceptions from that sequence will be catchable by the caller
of the command.
   Example:  For the "<a href="editing.txt.html#%3Awrite" class="d">:write</a>" command, the caller cannot know whether the file
had actually been written when the exception occurred.  You need to tell <a href="motion.txt.html#it" class="d">it</a> in
some way. 
<span class="e"></span>
<span class="e">	:if !exists("cnt")</span>
<span class="e">	:  let cnt = 0</span>
<span class="e">	:</span>
<span class="e">	:  autocmd BufWriteCmd * if &amp;modified</span>
<span class="e">	:  autocmd BufWriteCmd *   let cnt = cnt + 1</span>
<span class="e">	:  autocmd BufWriteCmd *   if cnt % 3 == 2</span>
<span class="e">	:  autocmd BufWriteCmd *     throw "BufWriteCmdError"</span>
<span class="e">	:  autocmd BufWriteCmd *   endif</span>
<span class="e">	:  autocmd BufWriteCmd *   write | set nomodified</span>
<span class="e">	:  autocmd BufWriteCmd *   if cnt % 3 == 0</span>
<span class="e">	:  autocmd BufWriteCmd *     throw "BufWriteCmdError"</span>
<span class="e">	:  autocmd BufWriteCmd *   endif</span>
<span class="e">	:  autocmd BufWriteCmd *   echo "File successfully written!"</span>
<span class="e">	:  autocmd BufWriteCmd * endif</span>
<span class="e">	:endif</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:	write</span>
<span class="e">	:catch /^BufWriteCmdError$/</span>
<span class="e">	:  if &amp;modified</span>
<span class="e">	:    echo "Error on writing (file contents not changed)"</span>
<span class="e">	:  else</span>
<span class="e">	:    echo "Error after writing"</span>
<span class="e">	:  endif</span>
<span class="e">	:catch /^Vim(write):/</span>
<span class="e">	:    echo "Error on writing"</span>
<span class="e">	:endtry</span>
<span class="e"></span>
When this <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> sourced several times after making changes, <a href="motion.txt.html#it" class="d">it</a> displays
first 
<span class="e">	File successfully written!</span>
then 
<span class="e">	Error on writing (file contents not changed)</span>
then 
<span class="e">	Error after writing</span>
etc.

							<span id="except-autocmd-ill" class="t">except-autocmd-ill</span>
You cannot spread <a href="insert.txt.html#a" class="d">a</a> try conditional over <a href="autocmd.txt.html#autocommands" class="d">autocommands</a> for different events.
The following code <a href="motion.txt.html#is" class="d">is</a> ill-formed: 
<span class="e"></span>
<span class="e">	:autocmd BufWritePre  * try</span>
<span class="e">	:</span>
<span class="e">	:autocmd BufWritePost * catch</span>
<span class="e">	:autocmd BufWritePost *   echo v:exception</span>
<span class="e">	:autocmd BufWritePost * endtry</span>
<span class="e">	:</span>
<span class="e">	:write</span>
<span class="e"></span>
<span class="e"></span>
<span class="c">EXCEPTION HIERARCHIES AND PARAMETERIZED EXCEPTIONS</span>	<span id="except-hier-param" class="t">except-hier-param</span>

Some programming languages allow to use hierarchies of exception classes or to
pass additional information with the <a href="vim9class.txt.html#object" class="d">object</a> of an exception class.  You can <a href="diff.txt.html#do" class="d">do</a>
similar things in Vim.
   In order to throw an exception from <a href="insert.txt.html#a" class="d">a</a> hierarchy, just throw the complete
<a href="vim9class.txt.html#class" class="d">class</a> name with the components separated by <a href="insert.txt.html#a" class="d">a</a> colon, for instance throw the
<a href="eval.txt.html#string" class="d">string</a> "EXCEPT:MATHERR:OVERFLOW" for an overflow in <a href="insert.txt.html#a" class="d">a</a> mathematical library.
   When you want to pass additional information with your exception class, add
<a href="motion.txt.html#it" class="d">it</a> in parentheses, for instance throw the <a href="eval.txt.html#string" class="d">string</a> "EXCEPT:IO:WRITEERR(myfile)"
for an error when <a href="editing.txt.html#writing" class="d">writing</a> "myfile"<a href="repeat.txt.html#." class="d">.</a>
   With the appropriate patterns in the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" command, you can catch for
base classes or derived classes of your hierarchy.  Additional information in
parentheses can be cut out from <a href="eval.txt.html#v%3Aexception" class="l">v:exception</a> with the "<a href="change.txt.html#%3Asubstitute" class="d">:substitute</a>" command.
   Example: 
<span class="e"></span>
<span class="e">	:function! CheckRange(a, func)</span>
<span class="e">	:  if a:a &lt; 0</span>
<span class="e">	:    throw "EXCEPT:MATHERR:RANGE(" .. a:func .. ")"</span>
<span class="e">	:  endif</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Add(a, b)</span>
<span class="e">	:  call CheckRange(a:a, "Add")</span>
<span class="e">	:  call CheckRange(a:b, "Add")</span>
<span class="e">	:  let c = a:a + a:b</span>
<span class="e">	:  if c &lt; 0</span>
<span class="e">	:    throw "EXCEPT:MATHERR:OVERFLOW"</span>
<span class="e">	:  endif</span>
<span class="e">	:  return c</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Div(a, b)</span>
<span class="e">	:  call CheckRange(a:a, "Div")</span>
<span class="e">	:  call CheckRange(a:b, "Div")</span>
<span class="e">	:  if (a:b == 0)</span>
<span class="e">	:    throw "EXCEPT:MATHERR:ZERODIV"</span>
<span class="e">	:  endif</span>
<span class="e">	:  return a:a / a:b</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:function! Write(file)</span>
<span class="e">	:  try</span>
<span class="e">	:    execute "write" fnameescape(a:file)</span>
<span class="e">	:  catch /^Vim(write):/</span>
<span class="e">	:    throw "EXCEPT:IO(" .. getcwd() .. ", " .. a:file .. "):WRITEERR"</span>
<span class="e">	:  endtry</span>
<span class="e">	:endfunction</span>
<span class="e">	:</span>
<span class="e">	:try</span>
<span class="e">	:</span>
<span class="e">	:  " something with arithmetic and I/O</span>
<span class="e">	:</span>
<span class="e">	:catch /^EXCEPT:MATHERR:RANGE/</span>
<span class="e">	:  let function = substitute(v:exception, '.*(\(\a\+\)).*', '\1', "")</span>
<span class="e">	:  echo "Range error in" function</span>
<span class="e">	:</span>
<span class="e">	:catch /^EXCEPT:MATHERR/	" catches OVERFLOW and ZERODIV</span>
<span class="e">	:  echo "Math error"</span>
<span class="e">	:</span>
<span class="e">	:catch /^EXCEPT:IO/</span>
<span class="e">	:  let dir = substitute(v:exception, '.*(\(.\+\),\s*.\+).*', '\1', "")</span>
<span class="e">	:  let file = substitute(v:exception, '.*(.\+,\s*\(.\+\)).*', '\1', "")</span>
<span class="e">	:  if file !~ '^/'</span>
<span class="e">	:    let file = dir .. "/" .. file</span>
<span class="e">	:  endif</span>
<span class="e">	:  echo 'I/O error for "' .. file .. '"'</span>
<span class="e">	:</span>
<span class="e">	:catch /^EXCEPT/</span>
<span class="e">	:  echo "Unspecified error"</span>
<span class="e">	:</span>
<span class="e">	:endtry</span>
<span class="e"></span>
The exceptions raised by Vim itself (on error or when pressing <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a>) use
<a href="insert.txt.html#a" class="d">a</a> flat hierarchy:  they are all in the "Vim" class.  You cannot throw yourself
exceptions with the "Vim" prefix; they are reserved for Vim.
   Vim error exceptions are parameterized with the name of the command that
failed, if known.  See <a href="eval.txt.html#catch-errors" class="l">catch-errors</a><a href="repeat.txt.html#." class="d">.</a>


<span class="c">PECULIARITIES</span>
							<span id="except-compat" class="t">except-compat</span>
The exception handling concept requires that the command sequence causing the
exception <a href="motion.txt.html#is" class="d">is</a> aborted immediately and <a href="intro.txt.html#control" class="d">control</a> <a href="motion.txt.html#is" class="d">is</a> transferred to finally clauses
and/or <a href="insert.txt.html#a" class="d">a</a> catch clause.

In the Vim <a href="usr_41.txt.html#script" class="d">script</a> language there are cases where scripts and <a href="eval.txt.html#functions" class="d">functions</a>
continue after an error: in <a href="eval.txt.html#functions" class="d">functions</a> without the "abort" flag or in <a href="insert.txt.html#a" class="d">a</a> command
after "<a href="various.txt.html#%3Asilent%21" class="d">:silent!</a>"<a href="motion.txt.html#%2C" class="d">,</a> <a href="intro.txt.html#control" class="d">control</a> flow goes to the following line, and outside
functions, <a href="intro.txt.html#control" class="d">control</a> flow goes to the line following the outermost "<a href="eval.txt.html#%3Aendwhile" class="d">:endwhile</a>"
or "<a href="eval.txt.html#%3Aendif" class="d">:endif</a>"<a href="repeat.txt.html#." class="d">.</a>  On the other hand, <a href="message.txt.html#errors" class="d">errors</a> should be catchable <a href="motion.txt.html#as" class="d">as</a> exceptions
(thus, requiring the immediate abortion).

This problem has been solved by converting <a href="message.txt.html#errors" class="d">errors</a> to exceptions and using
immediate abortion (if not suppressed by "<a href="various.txt.html#%3Asilent%21" class="d">:silent!</a>"<a href="motion.txt.html#%29" class="d">)</a> only when <a href="insert.txt.html#a" class="d">a</a> try
conditional <a href="motion.txt.html#is" class="d">is</a> active.  This <a href="motion.txt.html#is" class="d">is</a> no restriction since an (error) exception can
be caught only from an active try conditional.  If you want an immediate
termination without catching the error, just use <a href="insert.txt.html#a" class="d">a</a> try conditional without
catch clause.  (You can cause cleanup code being executed before termination
by specifying <a href="insert.txt.html#a" class="d">a</a> finally clause.)

When no try conditional <a href="motion.txt.html#is" class="d">is</a> active, the usual abortion and continuation
behavior <a href="motion.txt.html#is" class="d">is</a> used instead of immediate abortion.  This ensures compatibility of
scripts written for Vim 6.1 and earlier.

However, when sourcing an existing <a href="usr_41.txt.html#script" class="d">script</a> that does not use exception handling
commands (or when calling one of its functions) from inside an active try
conditional of <a href="insert.txt.html#a" class="d">a</a> new script, you might change the <a href="intro.txt.html#control" class="d">control</a> flow of the existing
<a href="usr_41.txt.html#script" class="d">script</a> on error.  You get the immediate abortion on error and can catch the
error in the new script.  If however the sourced <a href="usr_41.txt.html#script" class="d">script</a> suppresses error
<a href="message.txt.html#messages" class="d">messages</a> by using the "<a href="various.txt.html#%3Asilent%21" class="d">:silent!</a>" command (checking for <a href="message.txt.html#errors" class="d">errors</a> by <a href="testing.txt.html#testing" class="d">testing</a>
<a href="eval.txt.html#v%3Aerrmsg" class="l">v:errmsg</a> if appropriate), its execution path <a href="motion.txt.html#is" class="d">is</a> not changed.  The error <a href="motion.txt.html#is" class="d">is</a>
not converted to an exception.  (See <a href="various.txt.html#%3Asilent" class="l">:silent</a>.)  So the only remaining cause
where this happens <a href="motion.txt.html#is" class="d">is</a> for scripts that don't care about <a href="message.txt.html#errors" class="d">errors</a> and produce
error messages.  You probably won't want to use such code from your new
scripts.

							<span id="except-syntax-err" class="t">except-syntax-err</span>
<a href="autocmd.txt.html#Syntax" class="d">Syntax</a> <a href="message.txt.html#errors" class="d">errors</a> in the exception handling commands are never caught by any of
the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" commands of the try conditional they belong to.  Its finally
clauses, however, <a href="motion.txt.html#is" class="d">is</a> executed.
   Example: 
<span class="e"></span>
<span class="e">	:try</span>
<span class="e">	:  try</span>
<span class="e">	:    throw 4711</span>
<span class="e">	:  catch /\(/</span>
<span class="e">	:    echo "in catch with syntax error"</span>
<span class="e">	:  catch</span>
<span class="e">	:    echo "inner catch-all"</span>
<span class="e">	:  finally</span>
<span class="e">	:    echo "inner finally"</span>
<span class="e">	:  endtry</span>
<span class="e">	:catch</span>
<span class="e">	:  echo 'outer catch-all caught "' .. v:exception .. '"'</span>
<span class="e">	:  finally</span>
<span class="e">	:    echo "outer finally"</span>
<span class="e">	:endtry</span>
<span class="e"></span>
This displays: 
<span class="e">    inner finally</span>
<span class="e">    outer catch-all caught "Vim(catch):E54: Unmatched \("</span>
<span class="e">    outer finally</span>
The original exception <a href="motion.txt.html#is" class="d">is</a> discarded and an error exception <a href="motion.txt.html#is" class="d">is</a> raised, instead.

							<span id="except-single-line" class="t">except-single-line</span>
The "<a href="eval.txt.html#%3Atry" class="d">:try</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="eval.txt.html#%3Afinally" class="d">:finally</a>"<a href="motion.txt.html#%2C" class="d">,</a> and "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" commands can be <a href="change.txt.html#put" class="d">put</a> on
<a href="insert.txt.html#a" class="d">a</a> single line, but then <a href="syntax.txt.html#syntax" class="d">syntax</a> <a href="message.txt.html#errors" class="d">errors</a> may make <a href="motion.txt.html#it" class="d">it</a> difficult to recognize the
"catch" line, thus you better avoid this.
   Example: 
<span class="e">	:try | unlet! foo # | catch | endtry</span>
raises an error exception for the trailing characters after the ":unlet!"
argument, but does not see the "<a href="eval.txt.html#%3Acatch" class="d">:catch</a>" and "<a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" commands, so that the
error exception <a href="motion.txt.html#is" class="d">is</a> discarded and the "E488: Trailing characters" message gets
displayed.

							<span id="except-several-errors" class="t">except-several-errors</span>
When several <a href="message.txt.html#errors" class="d">errors</a> appear in <a href="insert.txt.html#a" class="d">a</a> single command, the first error message <a href="motion.txt.html#is" class="d">is</a>
usually the most specific one and therefore converted to the error exception.
   Example: 
<span class="e">	echo novar</span>
causes 
<span class="e">	E121: Undefined variable: novar</span>
<span class="e">	E15: Invalid expression: novar</span>
The value of the error exception inside try conditionals is: 
<span class="e">	Vim(echo):E121: Undefined variable: novar</span>
							<span id="except-syntax-error" class="t">except-syntax-error</span>
But when <a href="insert.txt.html#a" class="d">a</a> <a href="syntax.txt.html#syntax" class="d">syntax</a> error <a href="motion.txt.html#is" class="d">is</a> detected after <a href="insert.txt.html#a" class="d">a</a> normal error in the same command,
the <a href="syntax.txt.html#syntax" class="d">syntax</a> error <a href="motion.txt.html#is" class="d">is</a> used for the exception being thrown.
   Example: 
<span class="e">	unlet novar #</span>
causes 
<span class="e">	E108: No such variable: "novar"</span>
<span class="e">	E488: Trailing characters</span>
The value of the error exception inside try conditionals is: 
<span class="e">	Vim(unlet):E488: Trailing characters</span>
This <a href="motion.txt.html#is" class="d">is</a> done because the <a href="syntax.txt.html#syntax" class="d">syntax</a> error might change the execution path in <a href="insert.txt.html#a" class="d">a</a> way
not intended by the user.  Example: 
<span class="e">	try</span>
<span class="e">	    try | unlet novar # | catch | echo v:exception | endtry</span>
<span class="e">	catch /.*/</span>
<span class="e">	    echo "outer catch:" v:exception</span>
<span class="e">	endtry</span>
This displays "outer catch: Vim(unlet):E488: Trailing characters"<a href="motion.txt.html#%2C" class="d">,</a> and then
<a href="insert.txt.html#a" class="d">a</a> "E600: Missing <a href="eval.txt.html#%3Aendtry" class="d">:endtry</a>" error message <a href="motion.txt.html#is" class="d">is</a> given, see <a href="eval.txt.html#except-single-line" class="l">except-single-line</a><a href="repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
9. Examples						<span id="eval-examples" class="t">eval-examples</span>

<span class="h">Printing in Binary </span>

<span class="e">  :" The function Nr2Bin() returns the binary string representation of a number.</span>
<span class="e">  :func Nr2Bin(nr)</span>
<span class="e">  :  let n = a:nr</span>
<span class="e">  :  let r = ""</span>
<span class="e">  :  while n</span>
<span class="e">  :    let r = '01'[n % 2] .. r</span>
<span class="e">  :    let n = n / 2</span>
<span class="e">  :  endwhile</span>
<span class="e">  :  return r</span>
<span class="e">  :endfunc</span>
<span class="e"></span>
<span class="e">  :" The function String2Bin() converts each character in a string to a</span>
<span class="e">  :" binary string, separated with dashes.</span>
<span class="e">  :func String2Bin(str)</span>
<span class="e">  :  let out = ''</span>
<span class="e">  :  for ix in range(strlen(a:str))</span>
<span class="e">  :    let out = out .. '-' .. Nr2Bin(char2nr(a:str[ix]))</span>
<span class="e">  :  endfor</span>
<span class="e">  :  return out[1:]</span>
<span class="e">  :endfunc</span>
<span class="e"></span>
Example of its use: 
<span class="e">  :echo Nr2Bin(32)</span>
result: "100000" 
<span class="e">  :echo String2Bin("32")</span>
result: "110011-110010"


<span class="h">Sorting lines </span>

This example sorts lines with <a href="insert.txt.html#a" class="d">a</a> specific compare function. 
<span class="e"></span>
<span class="e">  :func SortBuffer()</span>
<span class="e">  :  let lines = getline(1, '$')</span>
<span class="e">  :  call sort(lines, function("Strcmp"))</span>
<span class="e">  :  call setline(1, lines)</span>
<span class="e">  :endfunction</span>
<span class="e"></span>
As <a href="insert.txt.html#a" class="d">a</a> one-liner: 
<span class="e">  :call setline(1, sort(getline(1, '$'), function("Strcmp")))</span>
<span class="e"></span>
<span class="e"></span>
<span class="h">scanf() replacement </span>
							<span id="sscanf" class="t">sscanf</span>
There <a href="motion.txt.html#is" class="d">is</a> no sscanf() function in Vim.  If you need to extract parts from <a href="insert.txt.html#a" class="d">a</a>
line, you can use <a href="builtin.txt.html#matchstr%28%29" class="d">matchstr()</a> and <a href="builtin.txt.html#substitute%28%29" class="d">substitute()</a> to <a href="diff.txt.html#do" class="d">do</a> it.  This example shows
how to get the file name, line number and column number out of <a href="insert.txt.html#a" class="d">a</a> line like
"foobar.txt, 123, 45"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">   :" Set up the match bit</span>
<span class="e">   :let mx='\(\f\+\),\s*\(\d\+\),\s*\(\d\+\)'</span>
<span class="e">   :"get the part matching the whole expression</span>
<span class="e">   :let l = matchstr(line, mx)</span>
<span class="e">   :"get each item out of the match</span>
<span class="e">   :let file = substitute(l, mx, '\1', '')</span>
<span class="e">   :let lnum = substitute(l, mx, '\2', '')</span>
<span class="e">   :let col = substitute(l, mx, '\3', '')</span>
<span class="e"></span>
The input <a href="motion.txt.html#is" class="d">is</a> in the variable "line"<a href="motion.txt.html#%2C" class="d">,</a> the results in the <a href="eval.txt.html#variables" class="d">variables</a> "file"<a href="motion.txt.html#%2C" class="d">,</a>
"lnum" and "col"<a href="repeat.txt.html#." class="d">.</a> (idea from Michael Geddes)


<span class="h">getting the scriptnames in a Dictionary </span>
						<span id="scriptnames-dictionary" class="t">scriptnames-dictionary</span>
The <span class="e">:scriptnames</span> command can be used to get <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> of all <a href="usr_41.txt.html#script" class="d">script</a> files that
have been sourced.  There <a href="motion.txt.html#is" class="d">is</a> also the <span class="e">getscriptinfo()</span> function, but the
information returned <a href="motion.txt.html#is" class="d">is</a> not exactly the same.  In <a href="change.txt.html#case" class="d">case</a> you need to manipulate
the list, this code can be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> base: 
<span class="e"></span>
<span class="e">    # Create or update scripts dictionary, indexed by SNR, and return it.</span>
<span class="e">    def Scripts(scripts: dict&lt;string&gt; = {}): dict&lt;string&gt;</span>
<span class="e">      for info in getscriptinfo()</span>
<span class="e">        if scripts-&gt;has_key(info.sid)</span>
<span class="e">          continue</span>
<span class="e">        endif</span>
<span class="e">        scripts[info.sid] = info.name</span>
<span class="e">      endfor</span>
<span class="e">      return scripts</span>
<span class="e">    enddef</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
10. Vim <a href="usr_41.txt.html#script" class="d">script</a> versions		<span id="vimscript-version" class="t">vimscript-version</span> <span id="vimscript-versions" class="t">vimscript-versions</span>
							<span id="scriptversion" class="t">scriptversion</span>
Over time many features have been added to Vim script.  This includes <a href="intro.txt.html#Ex" class="d">Ex</a>
commands, functions, variable types, etc.  Each individual feature can be
checked with the <a href="builtin.txt.html#has%28%29" class="l">has()</a> and <a href="builtin.txt.html#exists%28%29" class="l">exists()</a> functions.

Sometimes old <a href="syntax.txt.html#syntax" class="d">syntax</a> of functionality gets in the way of making Vim better.
When support <a href="motion.txt.html#is" class="d">is</a> taken away this will break older Vim scripts.  To make this
explicit the <a href="repeat.txt.html#%3Ascriptversion" class="l">:scriptversion</a> command can be used.  When <a href="insert.txt.html#a" class="d">a</a> Vim <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#is" class="d">is</a> not
compatible with older versions of Vim this will give an explicit error,
instead of failing in mysterious ways.

When using <a href="insert.txt.html#a" class="d">a</a> legacy function, defined with <span class="e">:function</span>, in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> then
<a href="eval.txt.html#scriptversion" class="d">scriptversion</a> 4 <a href="motion.txt.html#is" class="d">is</a> used.

							<span id="scriptversion-1" class="t">scriptversion-1</span>  
<span class="e"> :scriptversion 1</span>
	This <a href="motion.txt.html#is" class="d">is</a> the original Vim script, same <a href="motion.txt.html#as" class="d">as</a> not using <a href="insert.txt.html#a" class="d">a</a> <a href="repeat.txt.html#%3Ascriptversion" class="l">:scriptversion</a>
	command.  Can be used to <a href="motion.txt.html#go" class="d">go</a> back to old <a href="syntax.txt.html#syntax" class="d">syntax</a> for <a href="insert.txt.html#a" class="d">a</a> range of lines.
	Test for support with: 
<span class="e">		has('vimscript-1')</span>
<span class="e"></span>
							<span id="scriptversion-2" class="t">scriptversion-2</span>  
<span class="e"> :scriptversion 2</span>
	<a href="eval.txt.html#String" class="d">String</a> concatenation with "<a href="repeat.txt.html#." class="d">.</a>" <a href="motion.txt.html#is" class="d">is</a> not supported, use ".." instead.
	This avoids the ambiguity using "<a href="repeat.txt.html#." class="d">.</a>" for <a href="eval.txt.html#Dict" class="d">Dict</a> member access and
	floating point numbers.  Now ".5" means the number 0.5.

							<span id="scriptversion-3" class="t">scriptversion-3</span>  
<span class="e"> :scriptversion 3</span>
	All <a href="eval.txt.html#vim-variable" class="l">vim-variable</a><a href="change.txt.html#s" class="d">s</a> <a href="vim_faq.txt.html#must" class="d">must</a> be prefixed by "<a href="eval.txt.html#v%3A" class="d">v:</a>"<a href="repeat.txt.html#." class="d">.</a>  E.g. "version" doesn't
	work <a href="motion.txt.html#as" class="d">as</a> <a href="eval.txt.html#v%3Aversion" class="l">v:version</a> anymore, <a href="motion.txt.html#it" class="d">it</a> can be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> normal variable.
	Same for some obvious names <a href="motion.txt.html#as" class="d">as</a> "<a href="intro.txt.html#count" class="d">count</a>" and others.

	Test for support with: 
<span class="e">		has('vimscript-3')</span>

							<span id="scriptversion-4" class="t">scriptversion-4</span>  
<span class="e"> :scriptversion 4</span>
	Numbers with <a href="insert.txt.html#a" class="d">a</a> leading zero are not recognized <a href="motion.txt.html#as" class="d">as</a> octal.  "<a href="eval.txt.html#0o" class="d">0o</a>" or "0O"
	<a href="motion.txt.html#is" class="d">is</a> still recognized <a href="motion.txt.html#as" class="d">as</a> octal.  With the
	previous version you get: 
<span class="e">		echo 017   " displays 15 (octal)</span>
<span class="e">		echo 0o17  " displays 15 (octal)</span>
<span class="e">		echo 018   " displays 18 (decimal)</span>
	with <a href="usr_41.txt.html#script" class="d">script</a> version 4: 
<span class="e">		echo 017   " displays 17 (decimal)</span>
<span class="e">		echo 0o17  " displays 15 (octal)</span>
<span class="e">		echo 018   " displays 18 (decimal)</span>
	Also, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> possible to use single <a href="quotes.txt.html#quotes" class="d">quotes</a> inside numbers to make them
	easier to read: 
<span class="e">		echo 1'000'000</span>
	The <a href="quotes.txt.html#quotes" class="d">quotes</a> <a href="vim_faq.txt.html#must" class="d">must</a> be surrounded by digits.

	Test for support with: 
<span class="e">		has('vimscript-4')</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
11. No <a href="various.txt.html#%2Beval" class="d">+eval</a> feature				<span id="no-eval-feature" class="t">no-eval-feature</span>

When the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature was disabled <a href="motion.txt.html#at" class="d">at</a> compile time, none of the <a href="eval.txt.html#expression" class="d">expression</a>
evaluation commands are available.  To prevent this from causing Vim scripts
to generate all kinds of errors, the "<a href="eval.txt.html#%3Aif" class="d">:if</a>" and "<a href="eval.txt.html#%3Aendif" class="d">:endif</a>" commands are still
recognized, though the argument of the "<a href="eval.txt.html#%3Aif" class="d">:if</a>" and everything between the "<a href="eval.txt.html#%3Aif" class="d">:if</a>"
and the matching "<a href="eval.txt.html#%3Aendif" class="d">:endif</a>" <a href="motion.txt.html#is" class="d">is</a> ignored.  Nesting of "<a href="eval.txt.html#%3Aif" class="d">:if</a>" blocks <a href="motion.txt.html#is" class="d">is</a> allowed, but
only if the commands are <a href="motion.txt.html#at" class="d">at</a> the start of the line.  The "<a href="eval.txt.html#%3Aelse" class="d">:else</a>" command <a href="motion.txt.html#is" class="d">is</a> not
recognized.

Example of how to avoid executing commands when the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature <a href="motion.txt.html#is" class="d">is</a>
missing: 
<span class="e"></span>
<span class="e">	:if 1</span>
<span class="e">	:  echo "Expression evaluation is compiled in"</span>
<span class="e">	:else</span>
<span class="e">	:  echo "You will _never_ see this message"</span>
<span class="e">	:endif</span>
<span class="e"></span>
To execute <a href="insert.txt.html#a" class="d">a</a> command only when the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature <a href="motion.txt.html#is" class="d">is</a> disabled can be done in
two ways.  The simplest <a href="motion.txt.html#is" class="d">is</a> to exit the <a href="usr_41.txt.html#script" class="d">script</a> (or Vim) prematurely: 
<span class="e">	if 1</span>
<span class="e">	   echo "commands executed with +eval"</span>
<span class="e">	   finish</span>
<span class="e">	endif</span>
<span class="e">	args  " command executed without +eval</span>
<span class="e"></span>
If you <a href="diff.txt.html#do" class="d">do</a> not want to abort loading the <a href="usr_41.txt.html#script" class="d">script</a> you can use <a href="insert.txt.html#a" class="d">a</a> trick, <a href="motion.txt.html#as" class="d">as</a> this
example shows: 
<span class="e"></span>
<span class="e">	silent! while 0</span>
<span class="e">	  set history=111</span>
<span class="e">	silent! endwhile</span>
<span class="e"></span>
When the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature <a href="motion.txt.html#is" class="d">is</a> available the command <a href="motion.txt.html#is" class="d">is</a> skipped because of the
"while <a href="motion.txt.html#0" class="d">0</a>"<a href="repeat.txt.html#." class="d">.</a>  Without the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature the "while <a href="motion.txt.html#0" class="d">0</a>" <a href="motion.txt.html#is" class="d">is</a> an error, which <a href="motion.txt.html#is" class="d">is</a>
silently ignored, and the command <a href="motion.txt.html#is" class="d">is</a> executed.

<span class="h">==============================================================================</span>
12. The <a href="eval.txt.html#sandbox" class="d">sandbox</a>					<span id="eval-sandbox" class="t">eval-sandbox</span> <span id="sandbox" class="t">sandbox</span>

The <a href="options.txt.html#%27foldexpr%27" class="o">'foldexpr'</a>, <a href="options.txt.html#%27formatexpr%27" class="o">'formatexpr'</a>, <a href="options.txt.html#%27includeexpr%27" class="o">'includeexpr'</a>, <a href="options.txt.html#%27indentexpr%27" class="o">'indentexpr'</a>, <a href="options.txt.html#%27statusline%27" class="o">'statusline'</a> and
<a href="options.txt.html#%27foldtext%27" class="o">'foldtext'</a> <a href="options.txt.html#options" class="d">options</a> may be evaluated in <a href="insert.txt.html#a" class="d">a</a> sandbox.  This means that you are
protected from these expressions having nasty side effects.  This gives some
safety for when these <a href="options.txt.html#options" class="d">options</a> are set from <a href="insert.txt.html#a" class="d">a</a> modeline.  It <a href="motion.txt.html#is" class="d">is</a> also used when
the command from <a href="insert.txt.html#a" class="d">a</a> <a href="tagsrch.txt.html#tags" class="d">tags</a> file <a href="motion.txt.html#is" class="d">is</a> executed and for <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a> <a href="change.txt.html#%3D" class="d">=</a> in the command line.
The <a href="eval.txt.html#sandbox" class="d">sandbox</a> <a href="motion.txt.html#is" class="d">is</a> also used for the <a href="eval.txt.html#%3Asandbox" class="l">:sandbox</a> command.
								<span id="E48" class="t">E48</span>
These items are not allowed in the sandbox:
	<a href="motion.txt.html#-" class="d">-</a> <a href="change.txt.html#changing" class="d">changing</a> the buffer text
	<a href="motion.txt.html#-" class="d">-</a> defining or <a href="change.txt.html#changing" class="d">changing</a> mapping, autocommands, user commands
	<a href="motion.txt.html#-" class="d">-</a> setting certain <a href="options.txt.html#options" class="d">options</a> (see <a href="options.txt.html#option-summary" class="l">option-summary</a><a href="motion.txt.html#%29" class="d">)</a>
	<a href="motion.txt.html#-" class="d">-</a> setting certain <a href="eval.txt.html#v%3A" class="d">v:</a> <a href="eval.txt.html#variables" class="d">variables</a> (see <a href="eval.txt.html#v%3Avar" class="l">v:var</a><a href="motion.txt.html#%29" class="d">)</a>  <span id="E794" class="t">E794</span>
	<a href="motion.txt.html#-" class="d">-</a> executing <a href="insert.txt.html#a" class="d">a</a> shell command
	<a href="motion.txt.html#-" class="d">-</a> reading or <a href="editing.txt.html#writing" class="d">writing</a> <a href="insert.txt.html#a" class="d">a</a> file
	<a href="motion.txt.html#-" class="d">-</a> jumping to another buffer or editing <a href="insert.txt.html#a" class="d">a</a> file
	<a href="motion.txt.html#-" class="d">-</a> executing Python, Perl, etc. commands
This <a href="motion.txt.html#is" class="d">is</a> not guaranteed 100% secure, but <a href="motion.txt.html#it" class="d">it</a> should block most attacks.

							<span id="%3Asan" class="t">:san</span> <span id="%3Asandbox" class="t">:sandbox</span>
:san[dbox] <span class="s">{cmd}</span>	Execute <span class="s">{cmd}</span> in the sandbox.  Useful to evaluate an
			option that may have been set from <a href="insert.txt.html#a" class="d">a</a> modeline, e.g.
			<a href="options.txt.html#%27foldexpr%27" class="o">'foldexpr'</a>.

							<span id="sandbox-option" class="t">sandbox-option</span>
<a href="insert.txt.html#A" class="d">A</a> few <a href="options.txt.html#options" class="d">options</a> contain an expression.  When this <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> evaluated <a href="motion.txt.html#it" class="d">it</a> may
have to be done in the <a href="eval.txt.html#sandbox" class="d">sandbox</a> to avoid <a href="insert.txt.html#a" class="d">a</a> security risk.  But the <a href="eval.txt.html#sandbox" class="d">sandbox</a> <a href="motion.txt.html#is" class="d">is</a>
restrictive, thus this only happens when the option was set from an insecure
location.  Insecure in this context are:
<a href="motion.txt.html#-" class="d">-</a> sourcing <a href="insert.txt.html#a" class="d">a</a> <a href="starting.txt.html#.vimrc" class="d">.vimrc</a> or <a href="starting.txt.html#.exrc" class="d">.exrc</a> in the current directory
<a href="motion.txt.html#-" class="d">-</a> while executing in the <a href="eval.txt.html#sandbox" class="d">sandbox</a>
<a href="motion.txt.html#-" class="d">-</a> value coming from <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#modeline" class="d">modeline</a>
<a href="motion.txt.html#-" class="d">-</a> executing <a href="insert.txt.html#a" class="d">a</a> function that was defined in the <a href="eval.txt.html#sandbox" class="d">sandbox</a>

<span class="n">Note</span> that when in the <a href="eval.txt.html#sandbox" class="d">sandbox</a> and saving an option value and restoring it, the
option will still be marked <a href="motion.txt.html#as" class="d">as</a> <a href="motion.txt.html#it" class="d">it</a> was set in the sandbox.

<span class="h">==============================================================================</span>
13. Textlock							<span id="textlock" class="t">textlock</span>

In <a href="insert.txt.html#a" class="d">a</a> few situations <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not allowed to change the text in the buffer, jump
to another <a href="windows.txt.html#window" class="d">window</a> and some other things that might confuse or break what Vim
<a href="motion.txt.html#is" class="d">is</a> currently doing.  This mostly applies to things that happen when Vim <a href="motion.txt.html#is" class="d">is</a>
actually doing something else.  For example, evaluating the <a href="options.txt.html#%27balloonexpr%27" class="o">'balloonexpr'</a> may
happen any moment the mouse cursor <a href="motion.txt.html#is" class="d">is</a> resting <a href="motion.txt.html#at" class="d">at</a> some position.

This <a href="motion.txt.html#is" class="d">is</a> not allowed when the <a href="eval.txt.html#textlock" class="d">textlock</a> <a href="motion.txt.html#is" class="d">is</a> active:
	<a href="motion.txt.html#-" class="d">-</a> <a href="change.txt.html#changing" class="d">changing</a> the buffer text
	<a href="motion.txt.html#-" class="d">-</a> jumping to another buffer or <a href="windows.txt.html#window" class="d">window</a>
	<a href="motion.txt.html#-" class="d">-</a> editing another file
	<a href="motion.txt.html#-" class="d">-</a> closing <a href="insert.txt.html#a" class="d">a</a> <a href="windows.txt.html#window" class="d">window</a> or quitting Vim
	<a href="motion.txt.html#-" class="d">-</a> etc.

<span class="h">==============================================================================</span>
14. Vim <a href="usr_41.txt.html#script" class="d">script</a> library					<span id="vim-script-library" class="t">vim-script-library</span>

Vim comes bundled with <a href="insert.txt.html#a" class="d">a</a> Vim <a href="usr_41.txt.html#script" class="d">script</a> library, that can be used by runtime,
<a href="usr_41.txt.html#script" class="d">script</a> authors.  Currently, <a href="motion.txt.html#it" class="d">it</a> only includes very few functions, but <a href="motion.txt.html#it" class="d">it</a> may
grow over time.

The <a href="eval.txt.html#functions" class="d">functions</a> are available <a href="motion.txt.html#as" class="d">as</a> <a href="vim9.txt.html#Vim9-script" class="l">Vim9-script</a> <a href="motion.txt.html#as" class="d">as</a> well <a href="motion.txt.html#as" class="d">as</a> using legacy Vim
<a href="usr_41.txt.html#script" class="d">script</a> (to be used for non Vim 9.0 versions and Neovim).

							<span id="dist%23vim" class="t">dist#vim</span> <span id="dist%23vim9" class="t">dist#vim9</span>
The <a href="eval.txt.html#functions" class="d">functions</a> make use of the autoloaded prefix "<a href="eval.txt.html#dist%23vim" class="d">dist#vim</a>" (for legacy Vim
<a href="usr_41.txt.html#script" class="d">script</a> and Neovim) and "<a href="eval.txt.html#dist%23vim9" class="d">dist#vim9</a>" for <a href="vim9.txt.html#Vim9" class="d">Vim9</a> script.

The following <a href="eval.txt.html#functions" class="d">functions</a> are available:

<span class="h">dist#vim#IsSafeExecutable(filetype, executable) </span>
<span class="h">dist#vim9#IsSafeExecutable(filetype:string, executable:string): bool </span>

This function takes <a href="insert.txt.html#a" class="d">a</a> <a href="filetype.txt.html#filetype" class="d">filetype</a> and an executable and checks whether <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> safe
to execute the given executable.  For security reasons users may not want to
have Vim execute <a href="builtin.txt.html#random" class="d">random</a> executables or may have forbidden to <a href="diff.txt.html#do" class="d">do</a> so for
specific <a href="filetype.txt.html#filetypes" class="d">filetypes</a> by setting the "<span class="s">&lt;filetype&gt;</span>_exec" variable <a href="motion.txt.html#%28" class="d">(</a><a href="filetype.txt.html#plugin_exec" class="l">plugin_exec</a>).

It returns <a href="vim9.txt.html#true" class="l">true</a> or <a href="vim9.txt.html#false" class="l">false</a> to indicate whether the <a href="usr_05.txt.html#plugin" class="d">plugin</a> should run the
given executable.  It takes the following arguments:

<span class="h">	argument	type </span>

	<a href="filetype.txt.html#filetype" class="d">filetype</a>	<a href="eval.txt.html#string" class="d">string</a>
	executable	<a href="eval.txt.html#string" class="d">string</a>

							<span id="package-open" class="t">package-open</span>
The <a href="eval.txt.html#%3AOpen" class="l">:Open</a> and <a href="eval.txt.html#%3ALaunch" class="l">:Launch</a> command are provided by the included <a href="usr_05.txt.html#plugin" class="d">plugin</a>
$VIMRUNTIME/plugin/openPlugin.vim

					<span id="dist%23vim9%23Open%28%29" class="t">dist#vim9#Open()</span> <span id="%3AOpen" class="t">:Open</span> <span id="%3AURLOpen" class="t">:URLOpen</span>
						      <span id="g%3AOpenprg" class="t">g:Openprg</span> <span id="gx" class="t">gx</span>
<span class="h">dist#vim9#Open(file: string) </span>

Opens <span class="e">path</span> with the system default handler (macOS <span class="e">open</span>, Windows
<span class="e">explorer.exe</span>, Linux <span class="e">xdg-open</span>, …).  If the variable <a href="eval.txt.html#g%3AOpenprg" class="l">g:Openprg</a> exists the
<a href="eval.txt.html#string" class="d">string</a> specified in the variable <a href="motion.txt.html#is" class="d">is</a> used instead.

The <a href="eval.txt.html#%3AOpen" class="l">:Open</a> user command uses file completion for its argument.

The <a href="eval.txt.html#%3AURLOpen" class="l">:URLOpen</a> user command works the same but does not perform file
completion and therefore does not expand special characters <a href="cmdline.txt.html#cmdline-special" class="l">cmdline-special</a><a href="repeat.txt.html#." class="d">.</a>

This function <a href="motion.txt.html#is" class="d">is</a> by default called using the <a href="eval.txt.html#gx" class="d">gx</a> mapping.  In visual mode
tries to open the visually selected text.

Associated setting variables:
<span class="e">g:gx_word</span>: <a href="intro.txt.html#control" class="d">control</a> how <a href="eval.txt.html#gx" class="d">gx</a> picks up the text under the cursor.  Uses
	     <span class="e">g:netrw_gx</span> <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> fallback for backward compatibility.
	     (default: <span class="e">&lt;cfile&gt;</span>)

<span class="e">g:nogx</span>: disables the <a href="eval.txt.html#gx" class="d">gx</a> mapping.  Uses <span class="e">g:netrw_nogx</span> <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> fallback for
	  backward compatibility. (default: <span class="e">unset</span>)


<span class="n">NOTE:</span> Escaping of the path <a href="motion.txt.html#is" class="d">is</a> automatically applied.

Usage: 
<span class="e">	:call dist#vim9#Open(&lt;path&gt;)</span>
<span class="e">	:Open &lt;path&gt;</span>
<span class="e">	:URLOpen &lt;path&gt;</span>

						<span id="dist%23vim9%23Launch%28%29" class="t">dist#vim9#Launch()</span> <span id="%3ALaunch" class="t">:Launch</span>
<span class="h">dist#vim9#Launch(file: string) </span>

Launches <a href="map.txt.html#%3Cargs%3E" class="s">&lt;args&gt;</a> with the appropriate system programs.  Intended for launching
<a href="gui.txt.html#GUI" class="d">GUI</a> programs within Vim.

The <a href="eval.txt.html#%3ALaunch" class="l">:Launch</a> user command uses shell completion for its first argument.

<span class="n">NOTE:</span> escaping of <a href="map.txt.html#%3Cargs%3E" class="s">&lt;args&gt;</a> <a href="motion.txt.html#is" class="d">is</a> left to the user

Examples: 
<span class="e">	vim9script</span>
<span class="e"></span>
<span class="e">	import autoload 'dist/vim9.vim'</span>
<span class="e">	# Execute 'makeprg' into another xterm window</span>
<span class="e">	vim9.Launch('xterm ' .. expandcmd(&amp;makeprg))</span>


Usage: 
<span class="e">	:call dist#vim9#Launch(&lt;args&gt;)</span>
<span class="e">	:Launch &lt;app&gt; &lt;args&gt;.</span>


 vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
</main>
<p>Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>
</body>
</html>