<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Vim help pages, always up-to-date">
<title>Vim: testing.txt</title>
<link rel="shortcut icon" href="s/KXPobNpJBGAI5V1t/favicon-vim.ico">
<!-- favicon is based on http://amnoid.de/tmp/vim_solidbright_512.png and is used with permission by its author -->

<link rel="stylesheet" href="s/MsMIu46igYudff1x/tom-select.min.css">
<script defer src="s/RLcAbtLBYX-q5me0/tom-select.base.min.js"></script>

<link rel="stylesheet" href="s/QRMkrs52-wJfIQ-w/vimhelp.css">
<noscript><link rel="stylesheet" href="s/eRFCn9A-K4lmzV_A/noscript.css"></noscript>
<script defer src="s/KpwrKyx19dtnhPoe/vimhelp.js"></script>
</head>
<body>




<div class="bar">
  <div class="ql">Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</div>
  <div class="tag srch need-js">
    <select id="vh-select-tag"></select>
    <div class="placeholder">Go to keyword<span class="not-mobile">&nbsp;(shortcut: <kbd>k</kbd>)</span></div>
  </div>
  <form class="site srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
    <div class="placeholder need-js">Site search<span class="not-mobile">&nbsp;(shortcut: <kbd>s</kbd>)</span></div>
  </form>
  <div id="theme-switcher" class="need-js">
  <button id="theme-current" title="Switch theme">Theme</button>
  <div id="theme-dropdown"><ul>
    <li><button id="theme-native" title="Switch to native theme">Native</button></li>
    <li><button id="theme-light" title="Switch to light theme">Light</button></li>
    <li><button id="theme-dark" title="Switch to dark theme">Dark</button></li>
  </ul></div>
</div>

</div>

<main>
<div id="vh-sidebar">
<ul><li><a href="testing.txt.html#">↑Top↑</a></li>
<li><a href="testing.txt.html#testing">Testing Vim</a></li>
<li><a href="testing.txt.html#test-functions-details">Test functions</a></li>
<li><a href="testing.txt.html#assert-functions-details">Assert functions</a></li>
</ul>
</div>
<div id="vh-content">
<pre>
<span id="testing.txt" class="t">testing.txt</span>  	For <span class="i">Vim version 9.1.</span>  Last change: 2025 Oct 12


		  <span class="i">VIM REFERENCE MANUAL	  by Bram Moolenaar</span>


Testing Vim and Vim <a href="usr_41.txt.html#script" class="d">script</a>			<span id="testing-support" class="t">testing-support</span>

Expression evaluation <a href="motion.txt.html#is" class="d">is</a> explained in <a href="eval.txt.html#eval.txt" class="l">eval.txt</a><a href="repeat.txt.html#." class="d">.</a>  This file goes into details
about <a href="editing.txt.html#writing" class="d">writing</a> tests in Vim script.  This can be used for <a href="testing.txt.html#testing" class="d">testing</a> Vim itself
and for <a href="testing.txt.html#testing" class="d">testing</a> plugins.

1. Testing Vim				<a href="testing.txt.html#testing" class="l">testing</a>
2. Test <a href="eval.txt.html#functions" class="d">functions</a>			<a href="testing.txt.html#test-functions-details" class="l">test-functions-details</a>
3. Assert <a href="eval.txt.html#functions" class="d">functions</a>			<a href="testing.txt.html#assert-functions-details" class="l">assert-functions-details</a>

<span class="h">==============================================================================</span>
1. Testing Vim						<span id="testing" class="t">testing</span>

Vim can be tested after building it, usually with "make test"<a href="repeat.txt.html#." class="d">.</a>
The tests are located in the directory "src/testdir"<a href="repeat.txt.html#." class="d">.</a>

There are two types of tests added over time:
	test20.in		oldest, only for tiny builds
	test_something.vim	new style tests

						<span id="new-style-testing" class="t">new-style-testing</span>
New tests should be added <a href="motion.txt.html#as" class="d">as</a> new style tests.  The test scripts are named
test_&lt;feature&gt;.vim (replace <span class="s">&lt;feature&gt;</span> with the feature under test).  These use
<a href="eval.txt.html#functions" class="d">functions</a> such <a href="motion.txt.html#as" class="d">as</a> <a href="testing.txt.html#assert_equal%28%29" class="l">assert_equal()</a> to keep the test commands and the expected
result in one place.
						<span id="old-style-testing" class="t">old-style-testing</span>
These tests are used only for <a href="testing.txt.html#testing" class="d">testing</a> Vim without the <a href="various.txt.html#%2Beval" class="l">+eval</a> feature.

Find more information in the file src/testdir/README.txt.

<span class="h">==============================================================================</span>
2. Test <a href="eval.txt.html#functions" class="d">functions</a>				<span id="test-functions-details" class="t">test-functions-details</span>

test_alloc_fail({id}, <span class="s">{countdown}</span>, <span class="s">{repeat}</span>)		<span id="test_alloc_fail%28%29" class="t">test_alloc_fail()</span>
		This <a href="motion.txt.html#is" class="d">is</a> for testing: If the memory allocation with <span class="s">{id}</span> <a href="motion.txt.html#is" class="d">is</a>
		called, then decrement <span class="s">{countdown}</span>, and when <a href="motion.txt.html#it" class="d">it</a> reaches zero
		let memory allocation fail <span class="s">{repeat}</span> times.  When <span class="s">{repeat}</span> <a href="motion.txt.html#is" class="d">is</a>
		smaller than one <a href="motion.txt.html#it" class="d">it</a> fails one time.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetAllocId()-&gt;test_alloc_fail()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


<a href="testing.txt.html#test_autochdir%28%29" class="d">test_autochdir()</a>					<span id="test_autochdir%28%29" class="t">test_autochdir()</span>
		Set <a href="insert.txt.html#a" class="d">a</a> flag to enable the effect of <a href="options.txt.html#%27autochdir%27" class="o">'autochdir'</a> before Vim
		<a href="starting.txt.html#startup" class="d">startup</a> has finished.

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


test_feedinput({string})				<span id="test_feedinput%28%29" class="t">test_feedinput()</span>
		Characters in <span class="s">{string}</span> are queued for processing <a href="motion.txt.html#as" class="d">as</a> if they
		were typed by the user.  This uses <a href="insert.txt.html#a" class="d">a</a> low level input buffer.
		This function works only when with <a href="builtin.txt.html#%2Bunix" class="l">+unix</a> or <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="motion.txt.html#is" class="d">is</a> running.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetText()-&gt;test_feedinput()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


<a href="testing.txt.html#test_garbagecollect_now%28%29" class="d">test_garbagecollect_now()</a>			 <span id="test_garbagecollect_now%28%29" class="t">test_garbagecollect_now()</span>
		Like <a href="builtin.txt.html#garbagecollect%28%29" class="l">garbagecollect()</a><a href="motion.txt.html#%2C" class="d">,</a> but executed right away.  This <a href="vim_faq.txt.html#must" class="d">must</a>
		only be called directly to avoid any structure to exist
		internally, and <a href="eval.txt.html#v%3Atesting" class="l">v:testing</a> <a href="vim_faq.txt.html#must" class="d">must</a> have been set before calling
		any function.   <span id="E1142" class="t">E1142</span>
		This will not work when called from <a href="insert.txt.html#a" class="d">a</a> <a href="vim9.txt.html#%3Adef" class="d">:def</a> function, because
		<a href="eval.txt.html#variables" class="d">variables</a> on the stack will be freed.

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

<a href="testing.txt.html#test_garbagecollect_soon%28%29" class="d">test_garbagecollect_soon()</a>			 <span id="test_garbagecollect_soon%28%29" class="t">test_garbagecollect_soon()</span>
		Set the flag to call the garbagecollector <a href="motion.txt.html#as" class="d">as</a> if in the main
		loop.  Only to be used in tests.

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_getvalue({name})					<span id="test_getvalue%28%29" class="t">test_getvalue()</span>
		Get the value of an internal variable.  These values for
		<span class="s">{name}</span> are supported:
			need_fileinfo

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetName()-&gt;test_getvalue()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

						<span id="test_gui_event%28%29" class="t">test_gui_event()</span>
test_gui_event({event}, <span class="s">{args}</span>)
		Generate <a href="insert.txt.html#a" class="d">a</a> <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="autocmd.txt.html#%7Bevent%7D" class="s">{event}</a> with arguments <span class="s">{args}</span> for <a href="testing.txt.html#testing" class="d">testing</a> Vim
		functionality.  This function works only when the <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="motion.txt.html#is" class="d">is</a>
		running.

		<a href="autocmd.txt.html#%7Bevent%7D" class="s">{event}</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> and the supported values are:
		    "dropfiles"	drop one or more files in <a href="insert.txt.html#a" class="d">a</a> window.
		    "findrepl"  search and replace text.
		    "mouse"	mouse button click event.
		    "scrollbar" move or drag the scrollbar.
		    "key"	send <a href="insert.txt.html#a" class="d">a</a> low-level keyboard event.
		    "tabline"	select <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#tab" class="d">tab</a> page by mouse click.
		    "tabmenu"	select <a href="insert.txt.html#a" class="d">a</a> tabline menu entry.

		<span class="s">{args}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dict" class="d">Dict</a> and contains the arguments for the event.

		"dropfiles"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Drop one or more files in <a href="insert.txt.html#a" class="d">a</a> specified window.  The supported
		  items in <span class="s">{args}</span> are:
		    files:	<a href="eval.txt.html#List" class="d">List</a> of file names
		    row:	<a href="windows.txt.html#window" class="d">window</a> row number
		    col:	<a href="windows.txt.html#window" class="d">window</a> column number
		    modifiers:	key modifiers.  The supported values are:
				    0x4	Shift
				    0x8	Alt
				   0x10	Ctrl
		  The files are added to the <a href="editing.txt.html#argument-list" class="l">argument-list</a> and the first
		  file in <span class="s">{files}</span> <a href="motion.txt.html#is" class="d">is</a> edited in the window.  See <a href="gui.txt.html#drag-n-drop" class="l">drag-n-drop</a>
		  for more information.  This event works only when the
		  <a href="gui.txt.html#drop_file" class="l">drop_file</a> feature <a href="motion.txt.html#is" class="d">is</a> present.

		"findrepl"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  <span class="s">{only available when the GUI has a find/replace dialog}</span>
		  Perform <a href="insert.txt.html#a" class="d">a</a> search and replace of text.  The supported items
		  in <span class="s">{args}</span> are:
		    find_text:	<a href="eval.txt.html#string" class="d">string</a> to find.
		    repl_text:	replacement string.
		    flags:	flags controlling the find/replace.  Supported
				values are:
				    1	search next <a href="eval.txt.html#string" class="d">string</a> (find dialog)
				    2	search next <a href="eval.txt.html#string" class="d">string</a> (replace dialog)
				    3	replace <a href="eval.txt.html#string" class="d">string</a> once
				    4	replace all matches
				    8	match whole words only
				   16	match <a href="change.txt.html#case" class="d">case</a>
		    forward:	set to 1 for forward search.

		"mouse"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Inject either <a href="insert.txt.html#a" class="d">a</a> mouse button click, or <a href="insert.txt.html#a" class="d">a</a> mouse move, event.
		  The supported items in <span class="s">{args}</span> are:
		    button:	mouse button.  The supported values are:
				    <a href="motion.txt.html#0" class="d">0</a>	left mouse button
				    1	middle mouse button
				    2	right mouse button
				    3	mouse button release
				    4	scroll wheel down
				    5	scroll wheel up
				    6	scroll wheel left
				    7	scroll wheel right
		    row:	mouse click row number.  The first row of the
				Vim <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a> 1 and the last row <a href="motion.txt.html#is" class="d">is</a> <a href="options.txt.html#%27lines%27" class="o">'lines'</a>.
		    col:	mouse click column number.  The maximum value
				of <span class="s">{col}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="options.txt.html#%27columns%27" class="o">'columns'</a>.
		    multiclick:	set to 1 to inject <a href="insert.txt.html#a" class="d">a</a> multiclick mouse event.
		    modifiers:	key modifiers.  The supported values are:
				    4	<a href="intro.txt.html#shift" class="d">shift</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				    8	<a href="intro.txt.html#alt" class="d">alt</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				   16	<a href="intro.txt.html#ctrl" class="d">ctrl</a> <a href="motion.txt.html#is" class="d">is</a> pressed
		    move:	Optional; if used and <a href="eval.txt.html#TRUE" class="d">TRUE</a> then <a href="insert.txt.html#a" class="d">a</a> mouse move
			        event can be generated.
				Only <span class="s">{args}</span> row: and col: are used and
				required; they are interpreted <a href="motion.txt.html#as" class="d">as</a> pixels or
				screen cells, depending on "cell"<a href="repeat.txt.html#." class="d">.</a>
				Only results in an event when <a href="options.txt.html#%27mousemoveevent%27" class="o">'mousemoveevent'</a>
				<a href="motion.txt.html#is" class="d">is</a> set or <a href="insert.txt.html#a" class="d">a</a> <a href="popup.txt.html#popup" class="d">popup</a> uses mouse move events.
		    cell:	Optional: when present and <a href="eval.txt.html#TRUE" class="d">TRUE</a> then "move"
				uses screen cells instead of pixel positions

		"scrollbar"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Set or drag the left, right or horizontal scrollbar.  Only
		  works when the scrollbar actually exists.  The supported
		  items in <span class="s">{args}</span> are:
		    which:	Selects the scrollbar.  The supported values
				are:
				    left  Left scrollbar of the current <a href="windows.txt.html#window" class="d">window</a>
				    right Right scrollbar of the current <a href="windows.txt.html#window" class="d">window</a>
				    hor   Horizontal scrollbar
		    value:	Amount to scroll.  For the vertical scrollbars
				the value can be between <a href="motion.txt.html#0" class="d">0</a> to the line-count
				of the buffer minus one.  For the horizontal
				scrollbar the value can be between 1 and the
				maximum line length, assuming <a href="options.txt.html#%27wrap%27" class="o">'wrap'</a> <a href="motion.txt.html#is" class="d">is</a> not
				set.
		    dragging:	1 to drag the scrollbar and <a href="motion.txt.html#0" class="d">0</a> to click in the
				scrollbar.

		"key"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Send <a href="insert.txt.html#a" class="d">a</a> low-level keyboard event (e.g. key-up or down).
		  Currently only supported on MS-Windows.
		  The supported items in <span class="s">{args}</span> are:
		    event:	The supported <a href="eval.txt.html#string" class="d">string</a> values are:
				    keyup   generate <a href="insert.txt.html#a" class="d">a</a> keyup event
				    keydown generate <a href="insert.txt.html#a" class="d">a</a> keydown event
		    keycode:    Keycode to use for <a href="insert.txt.html#a" class="d">a</a> keyup or <a href="insert.txt.html#a" class="d">a</a> keydown event.
								<span id="E1291" class="t">E1291</span>

		"tabline"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Inject <a href="insert.txt.html#a" class="d">a</a> mouse click event on the tabline to select <a href="insert.txt.html#a" class="d">a</a>
		  tabpage.  The supported items in <span class="s">{args}</span> are:
		    tabnr:	<a href="intro.txt.html#tab" class="d">tab</a> page number

		"tabmenu"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Inject an event to select <a href="insert.txt.html#a" class="d">a</a> tabline menu entry.  The
		  supported items in <span class="s">{args}</span> are:
		    tabnr:	<a href="intro.txt.html#tab" class="d">tab</a> page number
		    item:	<a href="intro.txt.html#tab" class="d">tab</a> page menu item number.  1 for the first
				menu item, 2 for the second item and so on.

		After injecting the <a href="gui.txt.html#GUI" class="d">GUI</a> events you probably should call
		<a href="builtin.txt.html#feedkeys%28%29" class="l">feedkeys()</a> to have them processed, e.g.: 
<span class="e">			call feedkeys("y", 'Lx!')</span>

		Returns <a href="eval.txt.html#TRUE" class="d">TRUE</a> if the event <a href="motion.txt.html#is" class="d">is</a> successfully added, <a href="eval.txt.html#FALSE" class="d">FALSE</a> if
		there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> failure.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetEvent()-&gt;test_gui_event({args})</span>

		Return type: <a href="vim9.txt.html#vim9-boolean" class="l">vim9-boolean</a>

test_ignore_error({expr})			 <span id="test_ignore_error%28%29" class="t">test_ignore_error()</span>
		Ignore any error containing <span class="s">{expr}</span>.  <a href="insert.txt.html#A" class="d">A</a> normal message <a href="motion.txt.html#is" class="d">is</a> given
		instead.
		This <a href="motion.txt.html#is" class="d">is</a> only meant to be used in tests, where catching the
		error with try/catch cannot be used (because <a href="motion.txt.html#it" class="d">it</a> skips over
		following code).
		<span class="s">{expr}</span> <a href="motion.txt.html#is" class="d">is</a> used literally, not <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> pattern.
		When the <span class="s">{expr}</span> <a href="motion.txt.html#is" class="d">is</a> the <a href="eval.txt.html#string" class="d">string</a> "RESET" then the <a href="eval.txt.html#list" class="d">list</a> of ignored
		<a href="message.txt.html#errors" class="d">errors</a> <a href="motion.txt.html#is" class="d">is</a> made empty.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetErrorText()-&gt;test_ignore_error()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_mswin_event({event}, <span class="s">{args}</span>)		<span id="test_mswin_event%28%29" class="t">test_mswin_event()</span>
		Generate <a href="insert.txt.html#a" class="d">a</a> low-level <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> <a href="autocmd.txt.html#%7Bevent%7D" class="s">{event}</a> with arguments <span class="s">{args}</span>
		for <a href="testing.txt.html#testing" class="d">testing</a> Vim functionality.  It works for <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> <a href="gui.txt.html#GUI" class="d">GUI</a>
		and for the console.

		<a href="autocmd.txt.html#%7Bevent%7D" class="s">{event}</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="d">String</a> and the supported values are:
		    "mouse"	mouse event.
		    "key"	keyboard event.
		    "set_keycode_trans_strategy"
				Change the key translation method.

		"mouse"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Inject either <a href="insert.txt.html#a" class="d">a</a> mouse button click, or <a href="insert.txt.html#a" class="d">a</a> mouse move, event.
		  The supported items in <span class="s">{args}</span> are:
		    button:	mouse button.  The supported values are:
				    <a href="motion.txt.html#0" class="d">0</a>	right mouse button
				    1	middle mouse button
				    2	left mouse button
				    3	mouse button release
				    4	scroll wheel down
				    5	scroll wheel up
				    6	scroll wheel left
				    7	scroll wheel right
		    row:	mouse click row number.  The first row of the
				Vim <a href="windows.txt.html#window" class="d">window</a> <a href="motion.txt.html#is" class="d">is</a> 1 and the last row <a href="motion.txt.html#is" class="d">is</a> <a href="options.txt.html#%27lines%27" class="o">'lines'</a>.
		    col:	mouse click column number.  The maximum value
				of <span class="s">{col}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="options.txt.html#%27columns%27" class="o">'columns'</a>.
				<span class="n">Note:</span> row and col are always interpreted <a href="motion.txt.html#as" class="d">as</a>
				screen cells for the console application.
				But, they may be interpreted <a href="motion.txt.html#as" class="d">as</a> pixels
				for the GUI, depending on "cell"<a href="repeat.txt.html#." class="d">.</a>
		    multiclick:	set to 1 to inject <a href="insert.txt.html#a" class="d">a</a> <a href="term.txt.html#double-click" class="d">double-click</a> mouse event.
		    modifiers:	key modifiers.  The supported values are:
				    4	<a href="intro.txt.html#shift" class="d">shift</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				    8	<a href="intro.txt.html#alt" class="d">alt</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				   16	<a href="intro.txt.html#ctrl" class="d">ctrl</a> <a href="motion.txt.html#is" class="d">is</a> pressed
		    move:	Optional; if used and <a href="eval.txt.html#TRUE" class="d">TRUE</a> then <a href="insert.txt.html#a" class="d">a</a> mouse move
			        event can be generated.
				Only <span class="s">{args}</span> row: and col: are used and
				required.
				Only results in an event when <a href="options.txt.html#%27mousemoveevent%27" class="o">'mousemoveevent'</a>
				<a href="motion.txt.html#is" class="d">is</a> set or <a href="insert.txt.html#a" class="d">a</a> <a href="popup.txt.html#popup" class="d">popup</a> uses mouse move events.
		    cell:	Optional for the GUI: when present and <a href="eval.txt.html#TRUE" class="d">TRUE</a>
				then "move" uses screen cells instead of pixel
				positions.  Not used by the console.

		"key"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  Send <a href="insert.txt.html#a" class="d">a</a> low-level keyboard event (e.g. keyup or keydown).
		  The supported items in <span class="s">{args}</span> are:
		    event:	The supported <a href="eval.txt.html#string" class="d">string</a> values are:
				    keyup   generate <a href="insert.txt.html#a" class="d">a</a> keyup event
				    keydown generate <a href="insert.txt.html#a" class="d">a</a> keydown event
		    keycode:	Keycode to use for <a href="insert.txt.html#a" class="d">a</a> keyup or <a href="insert.txt.html#a" class="d">a</a> keydown event.
		    modifiers:	Optional; key modifiers.
				The supported values are:
				    2	<a href="intro.txt.html#shift" class="d">shift</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				    4	<a href="intro.txt.html#ctrl" class="d">ctrl</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				    8	<a href="intro.txt.html#alt" class="d">alt</a> <a href="motion.txt.html#is" class="d">is</a> pressed
				<span class="n">Note:</span> These values are different from the
				mouse modifiers.
		    execute:	Optional.  Similar to <a href="builtin.txt.html#feedkeys%28%29" class="l">feedkeys()</a> mode x.
				When this <a href="motion.txt.html#is" class="d">is</a> included and set to <a href="vim9.txt.html#true" class="d">true</a>
				(non-zero) then Vim will process any buffered
				unprocessed key events.  All other <span class="s">{args}</span>
				items are optional when this <a href="motion.txt.html#is" class="d">is</a> set and true.

		"set_keycode_trans_strategy"<a href="cmdline.txt.html#%3A" class="d">:</a>
		  <a href="gui_w32.txt.html#w32-experimental-keycode-trans-strategy" class="l">w32-experimental-keycode-trans-strategy</a>
		  Switch the keycode translation method.  The supported
		  methods are:
		    experimental:   The <a href="eval.txt.html#method" class="d">method</a> used after Patch v8.2.4807
				    using ToUnicode() Win API call.
		    classic:	    The <a href="eval.txt.html#method" class="d">method</a> used pre Patch v8.2.4807
				    using the TranslateMessage() Win API call.

		Returns <a href="eval.txt.html#TRUE" class="d">TRUE</a> if the event <a href="motion.txt.html#is" class="d">is</a> successfully added or executed,
		<a href="eval.txt.html#FALSE" class="d">FALSE</a> if there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> failure.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetEvent()-&gt;test_mswin_event({args})</span>

		Return type: <a href="vim9.txt.html#vim9-boolean" class="l">vim9-boolean</a>

<a href="testing.txt.html#test_null_blob%28%29" class="d">test_null_blob()</a>					<span id="test_null_blob%28%29" class="t">test_null_blob()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Blob" class="l">Blob</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: <a href="eval.txt.html#Blob" class="l">Blob</a>

<a href="testing.txt.html#test_null_channel%28%29" class="d">test_null_channel()</a>					<span id="test_null_channel%28%29" class="t">test_null_channel()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Channel" class="l">Channel</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.
		<span class="s">{only available when compiled with the +channel feature}</span>

		Return type: <a href="eval.txt.html#Channel" class="l">Channel</a>

<a href="testing.txt.html#test_null_dict%28%29" class="d">test_null_dict()</a>					<span id="test_null_dict%28%29" class="t">test_null_dict()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Dict" class="l">Dict</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: dict&lt;any&gt;

<a href="testing.txt.html#test_null_function%28%29" class="d">test_null_function()</a>					<span id="test_null_function%28%29" class="t">test_null_function()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Funcref" class="l">Funcref</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: func(...): unknown

<a href="testing.txt.html#test_null_job%28%29" class="d">test_null_job()</a>						<span id="test_null_job%28%29" class="t">test_null_job()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Job" class="l">Job</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.
		<span class="s">{only available when compiled with the +job feature}</span>

		Return type: <a href="channel.txt.html#job" class="l">job</a>

<a href="testing.txt.html#test_null_list%28%29" class="d">test_null_list()</a>					<span id="test_null_list%28%29" class="t">test_null_list()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: list&lt;any&gt;

<a href="testing.txt.html#test_null_partial%28%29" class="d">test_null_partial()</a>					<span id="test_null_partial%28%29" class="t">test_null_partial()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Partial" class="l">Partial</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: func(...): unknown

<a href="testing.txt.html#test_null_string%28%29" class="d">test_null_string()</a>					<span id="test_null_string%28%29" class="t">test_null_string()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#String" class="l">String</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: <a href="eval.txt.html#String" class="l">String</a>

<a href="testing.txt.html#test_null_tuple%28%29" class="d">test_null_tuple()</a>					<span id="test_null_tuple%28%29" class="t">test_null_tuple()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#Tuple" class="l">Tuple</a> that <a href="motion.txt.html#is" class="d">is</a> null.  Only useful for testing.

		Return type: <a href="eval.txt.html#Tuple" class="l">Tuple</a>

test_option_not_set({name})				<span id="test_option_not_set%28%29" class="t">test_option_not_set()</span>
		Reset the flag that indicates option <span class="s">{name}</span> was set.  Thus <a href="motion.txt.html#it" class="d">it</a>
		looks like <a href="motion.txt.html#it" class="d">it</a> still has the default value.  Use like this: 
<span class="e">			set ambiwidth=double</span>
<span class="e">			call test_option_not_set('ambiwidth')</span>
		Now the <a href="options.txt.html#%27ambiwidth%27" class="o">'ambiwidth'</a> option behaves like <a href="motion.txt.html#it" class="d">it</a> was never changed,
		even though the value <a href="motion.txt.html#is" class="d">is</a> "double"<a href="repeat.txt.html#." class="d">.</a>
		Only to be used for testing!

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetOptionName()-&gt;test_option_not_set()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_override({name}, <span class="s">{val}</span>)				<span id="test_override%28%29" class="t">test_override()</span>
		Overrides certain parts of Vim's internal processing to be
		able to run tests.  Only to be used for <a href="testing.txt.html#testing" class="d">testing</a> Vim!
		The override <a href="motion.txt.html#is" class="d">is</a> enabled when <span class="s">{val}</span> <a href="motion.txt.html#is" class="d">is</a> non-zero and removed
		when <span class="s">{val}</span> <a href="motion.txt.html#is" class="d">is</a> zero.
		Current supported values for <span class="s">{name}</span> are:

<span class="h">		{name}	     effect when {val} is non-zero </span>
		alloc_lines  make <a href="insert.txt.html#a" class="d">a</a> copy of every buffer line into allocated
			     memory, so that memory access <a href="message.txt.html#errors" class="d">errors</a> can be found
			     by valgrind.
		<a href="userfunc.txt.html#autoload" class="d">autoload</a>     `import autoload` will load the <a href="usr_41.txt.html#script" class="d">script</a> right
			     away, not postponed until an item <a href="motion.txt.html#is" class="d">is</a> used.
		char_avail   disable the char_avail() function.
		defcompile   all the <a href="vim9.txt.html#%3Adef" class="l">:def</a> <a href="eval.txt.html#functions" class="d">functions</a> in <a href="insert.txt.html#a" class="d">a</a> sourced <a href="usr_41.txt.html#script" class="d">script</a> are
			     compiled when defined.  This <a href="motion.txt.html#is" class="d">is</a> similar to using
			     the <a href="vim9.txt.html#%3Adefcompile" class="l">:defcompile</a> command in <a href="insert.txt.html#a" class="d">a</a> script.
		nfa_fail     makes the <a href="pattern.txt.html#NFA" class="d">NFA</a> <a href="pattern.txt.html#regexp" class="d">regexp</a> engine fail to force <a href="insert.txt.html#a" class="d">a</a>
			     fallback to the old engine.
		no_query_mouse  <a href="diff.txt.html#do" class="d">do</a> not query the mouse position for "dec"
				terminals.
		no_wait_return	set the "no_wait_return" flag.  Not restored
				with "ALL"<a href="repeat.txt.html#." class="d">.</a>
		redraw       disable the redrawing() function.
		redraw_flag  ignore the RedrawingDisabled flag.
		<a href="starting.txt.html#starting" class="d">starting</a>     reset the "<a href="starting.txt.html#starting" class="d">starting</a>" variable, see below.
		term_props   reset all <a href="terminal.txt.html#terminal" class="d">terminal</a> properties when the version
			     <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#is" class="d">is</a> detected.
		ui_delay     time in msec to use in ui_delay(); overrules <a href="insert.txt.html#a" class="d">a</a>
			     wait time of up to 3 seconds for messages.
		unreachable  no error for code after <span class="e">:throw</span> and <span class="e">:return</span>.
		uptime	     overrules sysinfo.uptime.
		vterm_title  setting the <a href="windows.txt.html#window" class="d">window</a> title by <a href="insert.txt.html#a" class="d">a</a> <a href="channel.txt.html#job" class="d">job</a> running in <a href="insert.txt.html#a" class="d">a</a>
			     <a href="terminal.txt.html#terminal" class="d">terminal</a> window.
		ALL	     clear all overrides, except alloc_lines ({val} <a href="motion.txt.html#is" class="d">is</a>
			     not used).

		"<a href="starting.txt.html#starting" class="d">starting</a>" <a href="motion.txt.html#is" class="d">is</a> to be used when <a href="insert.txt.html#a" class="d">a</a> test should behave like
		<a href="starting.txt.html#startup" class="d">startup</a> was done.  Since the tests are run by sourcing <a href="insert.txt.html#a" class="d">a</a>
		<a href="usr_41.txt.html#script" class="d">script</a> the "<a href="starting.txt.html#starting" class="d">starting</a>" variable <a href="motion.txt.html#is" class="d">is</a> non-zero.  This <a href="motion.txt.html#is" class="d">is</a> usually <a href="insert.txt.html#a" class="d">a</a>
		good thing (tests run faster), but sometimes this changes
		behavior in <a href="insert.txt.html#a" class="d">a</a> way that the test doesn't work properly.
		When using: 
<span class="e">			call test_override('starting', 1)</span>
		The value of "<a href="starting.txt.html#starting" class="d">starting</a>" <a href="motion.txt.html#is" class="d">is</a> saved.  It <a href="motion.txt.html#is" class="d">is</a> restored by: 
<span class="e">			call test_override('starting', 0)</span>
<span class="e"></span>
		To make sure the flag <a href="motion.txt.html#is" class="d">is</a> reset later using <span class="e">:defer</span> can be
		useful: 
<span class="e">			call test_override('unreachable', 1)</span>
<span class="e">			defer call test_override('unreachable', 0)</span>
<span class="e"></span>
		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetOverrideVal()-&gt; test_override('starting')</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_refcount({expr})					<span id="test_refcount%28%29" class="t">test_refcount()</span>
		Return the <a href="intro.txt.html#reference" class="d">reference</a> <a href="intro.txt.html#count" class="d">count</a> of <span class="s">{expr}</span>.  When <span class="s">{expr}</span> <a href="motion.txt.html#is" class="d">is</a> of <a href="insert.txt.html#a" class="d">a</a>
		type that does not have <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#reference" class="d">reference</a> count, returns -1.  Only
		to be used for testing.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetVarname()-&gt;test_refcount()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_setmouse({row}, <span class="s">{col}</span>)				<span id="test_setmouse%28%29" class="t">test_setmouse()</span>
		Set the mouse position to be used for the next mouse action.
		<span class="s">{row}</span> and <span class="s">{col}</span> are one based.
		For example: 
<span class="e">			call test_setmouse(4, 20)</span>
<span class="e">			call feedkeys("\&lt;LeftMouse&gt;", "xt")</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


test_settime({expr})					<span id="test_settime%28%29" class="t">test_settime()</span>
		Set the time Vim uses internally.  Currently only used for
		<a href="editing.txt.html#timestamps" class="d">timestamps</a> in the history, <a href="motion.txt.html#as" class="d">as</a> they are used in viminfo, and
		for undo.
		Using <a href="insert.txt.html#a" class="d">a</a> value of 1 makes Vim not sleep after <a href="insert.txt.html#a" class="d">a</a> warning or
		error message.
		<span class="s">{expr}</span> <a href="vim_faq.txt.html#must" class="d">must</a> evaluate to <a href="insert.txt.html#a" class="d">a</a> number.  When the value <a href="motion.txt.html#is" class="d">is</a> zero the
		normal behavior <a href="motion.txt.html#is" class="d">is</a> restored.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetTime()-&gt;test_settime()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

test_srand_seed([{seed}])				<span id="test_srand_seed%28%29" class="t">test_srand_seed()</span>
		When <span class="s">{seed}</span> <a href="motion.txt.html#is" class="d">is</a> given this sets the seed value used by
		<span class="e">srand()</span>.  When omitted the test seed <a href="motion.txt.html#is" class="d">is</a> removed.

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

<a href="testing.txt.html#test_unknown%28%29" class="d">test_unknown()</a>						<span id="test_unknown%28%29" class="t">test_unknown()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> value with unknown type.  Only useful for testing.

		Return type: unknown

<a href="testing.txt.html#test_void%28%29" class="d">test_void()</a>						<span id="test_void%28%29" class="t">test_void()</span>
		Return <a href="insert.txt.html#a" class="d">a</a> value with void type.  Only useful for testing.

		Return type: void

<span class="h">==============================================================================</span>
3. Assert <a href="eval.txt.html#functions" class="d">functions</a>				<span id="assert-functions-details" class="t">assert-functions-details</span>


assert_beeps({cmd})					<span id="assert_beeps%28%29" class="t">assert_beeps()</span>
		Run <span class="s">{cmd}</span> and add an error message to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> if <a href="motion.txt.html#it" class="d">it</a> does
		NOT produce <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#beep" class="d">beep</a> or visual bell.
		Also see <a href="testing.txt.html#assert_fails%28%29" class="l">assert_fails()</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="testing.txt.html#assert_nobeep%28%29" class="l">assert_nobeep()</a> and
		<a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetCmd()-&gt;assert_beeps()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

							<span id="assert_equal%28%29" class="t">assert_equal()</span>
assert_equal({expected}, <span class="s">{actual}</span> [, <span class="s">{msg}</span>])
		When <span class="s">{expected}</span> and <span class="s">{actual}</span> are not equal an error message <a href="motion.txt.html#is" class="d">is</a>
		added to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> and 1 <a href="motion.txt.html#is" class="d">is</a> returned.  Otherwise zero <a href="motion.txt.html#is" class="d">is</a>
		returned. <a href="eval.txt.html#assert-return" class="l">assert-return</a>
		The error <a href="motion.txt.html#is" class="d">is</a> in the form "Expected <span class="s">{expected}</span> but got
		<span class="s">{actual}</span>"<a href="repeat.txt.html#." class="d">.</a>  When <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> present <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> prefixed to that,
		along with the location of the assert when run from <a href="insert.txt.html#a" class="d">a</a> script.

		There <a href="motion.txt.html#is" class="d">is</a> no automatic conversion, the <a href="eval.txt.html#String" class="d">String</a> "4" <a href="motion.txt.html#is" class="d">is</a> different
		from the <a href="eval.txt.html#Number" class="d">Number</a> 4.  And the number 4 <a href="motion.txt.html#is" class="d">is</a> different from the
		<a href="eval.txt.html#Float" class="d">Float</a> 4.0.  The value of <a href="options.txt.html#%27ignorecase%27" class="o">'ignorecase'</a> <a href="motion.txt.html#is" class="d">is</a> not used here, <a href="change.txt.html#case" class="d">case</a>
		always matters.
		Example: 
<span class="e">			call assert_equal('foo', 'bar', 'baz')</span>
		Will add the following to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="cmdline.txt.html#%3A" class="d">:</a>
<span class="h">			test.vim line 12: baz: Expected 'foo' but got 'bar' </span>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="motion.txt.html#%2C" class="d">,</a> the base <a href="motion.txt.html#is" class="d">is</a> passed <a href="motion.txt.html#as" class="d">as</a> the
		second argument: 
<span class="e">			mylist-&gt;assert_equal([1, 2, 3])</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

							<span id="assert_equalfile%28%29" class="t">assert_equalfile()</span>
assert_equalfile({fname-one}, <span class="s">{fname-two}</span> [, <span class="s">{msg}</span>])
		When the files <span class="s">{fname-one}</span> and <span class="s">{fname-two}</span> <a href="diff.txt.html#do" class="d">do</a> not contain
		exactly the same text an error message <a href="motion.txt.html#is" class="d">is</a> added to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="repeat.txt.html#." class="d">.</a>
		Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
		When <span class="s">{fname-one}</span> or <span class="s">{fname-two}</span> does not exist the error will
		mention that.
		Mainly useful with <a href="terminal.txt.html#terminal-diff" class="l">terminal-diff</a><a href="repeat.txt.html#." class="d">.</a>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetLog()-&gt;assert_equalfile('expected.log')</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

assert_exception({error} [, <span class="s">{msg}</span>])			<span id="assert_exception%28%29" class="t">assert_exception()</span>
		When <a href="eval.txt.html#v%3Aexception" class="d">v:exception</a> does not contain the <a href="eval.txt.html#string" class="d">string</a> <span class="s">{error}</span> an error
		message <a href="motion.txt.html#is" class="d">is</a> added to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="repeat.txt.html#." class="d">.</a>  Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
		This can be used to assert that <a href="insert.txt.html#a" class="d">a</a> command throws an exception.
		Using the error number, followed by <a href="insert.txt.html#a" class="d">a</a> colon, avoids problems
		with translations: 
<span class="e">			try</span>
<span class="e">			  commandthatfails</span>
<span class="e">			  call assert_false(1, 'command should have failed')</span>
<span class="e">			catch</span>
<span class="e">			  call assert_exception('E492:')</span>
<span class="e">			endtry</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

							<span id="assert_fails%28%29" class="t">assert_fails()</span>
assert_fails({cmd} [, <span class="s">{error}</span> [, <span class="s">{msg}</span> [, <span class="s">{lnum}</span> [, <span class="s">{context}</span>]]]])
		Run <span class="s">{cmd}</span> and add an error message to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> if <a href="motion.txt.html#it" class="d">it</a> does
		NOT produce an error or when <span class="s">{error}</span> <a href="motion.txt.html#is" class="d">is</a> not found in the
		error message.  Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
							<span id="E856" class="t">E856</span>
		When <span class="s">{error}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#it" class="d">it</a> <a href="vim_faq.txt.html#must" class="d">must</a> be found literally in the
		first reported error.  Most often this will be the error code,
		including the colon, e.g. "E123:"<a href="repeat.txt.html#." class="d">.</a> 
<span class="e">			call assert_fails('bad cmd', 'E987:')</span>

		When <span class="s">{error}</span> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#List" class="l">List</a> with one or two strings, these are
		used <a href="motion.txt.html#as" class="d">as</a> patterns.  The first <a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="motion.txt.html#is" class="d">is</a> matched against the
		first reported error: 
<span class="e">			call assert_fails('cmd', ['E987:.*expected bool'])</span>
		The second pattern, if present, <a href="motion.txt.html#is" class="d">is</a> matched against the last
		reported error.
		If there <a href="motion.txt.html#is" class="d">is</a> only one error then both patterns <a href="vim_faq.txt.html#must" class="d">must</a> match.
		This can be used to check that there <a href="motion.txt.html#is" class="d">is</a> only one error.
		To only match the last error use an empty <a href="eval.txt.html#string" class="d">string</a> for the first
		error: 
<span class="e">			call assert_fails('cmd', ['', 'E987:'])</span>

		If <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> empty then <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not used.  Do this to get the
		default message when passing the <span class="s">{lnum}</span> argument.
							<span id="E1115" class="t">E1115</span>
		When <span class="s">{lnum}</span> <a href="motion.txt.html#is" class="d">is</a> present and not negative, and the <span class="s">{error}</span>
		argument <a href="motion.txt.html#is" class="d">is</a> present and matches, then this <a href="motion.txt.html#is" class="d">is</a> compared with
		the line number <a href="motion.txt.html#at" class="d">at</a> which the error was reported.  That can be
		the line number in <a href="insert.txt.html#a" class="d">a</a> function or in <a href="insert.txt.html#a" class="d">a</a> script.
							<span id="E1116" class="t">E1116</span>
		When <span class="s">{context}</span> <a href="motion.txt.html#is" class="d">is</a> present <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="pattern.txt.html#pattern" class="d">pattern</a> and matched
		against the context (script name or function name) where
		<span class="s">{lnum}</span> <a href="motion.txt.html#is" class="d">is</a> located in.

		<span class="n">Note</span> that beeping <a href="motion.txt.html#is" class="d">is</a> not considered an error, and some failing
		commands only beep.  Use <a href="testing.txt.html#assert_beeps%28%29" class="l">assert_beeps()</a> for those.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetCmd()-&gt;assert_fails('E99:')</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

assert_false({actual} [, <span class="s">{msg}</span>])			<span id="assert_false%28%29" class="t">assert_false()</span>
		When <span class="s">{actual}</span> <a href="motion.txt.html#is" class="d">is</a> not <a href="vim9.txt.html#false" class="d">false</a> an error message <a href="motion.txt.html#is" class="d">is</a> added to
		<a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="motion.txt.html#%2C" class="d">,</a> like with <a href="testing.txt.html#assert_equal%28%29" class="l">assert_equal()</a><a href="repeat.txt.html#." class="d">.</a>
		The error <a href="motion.txt.html#is" class="d">is</a> in the form "Expected False but got <span class="s">{actual}</span>"<a href="repeat.txt.html#." class="d">.</a>
		When <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> present <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> prefixed to that, along with the
		location of the assert when run from <a href="insert.txt.html#a" class="d">a</a> script.
		Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>

		<a href="insert.txt.html#A" class="d">A</a> value <a href="motion.txt.html#is" class="d">is</a> <a href="vim9.txt.html#false" class="d">false</a> when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> zero.  When <span class="s">{actual}</span> <a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a>
		number the assert fails.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetResult()-&gt;assert_false()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

assert_inrange({lower}, <span class="s">{upper}</span>, <span class="s">{actual}</span> [, <span class="s">{msg}</span>])	 <span id="assert_inrange%28%29" class="t">assert_inrange()</span>
		This asserts number and <a href="eval.txt.html#Float" class="l">Float</a> values.  When <span class="s">{actual}</span>  <a href="motion.txt.html#is" class="d">is</a> lower
		than <span class="s">{lower}</span> or higher than <span class="s">{upper}</span> an error message <a href="motion.txt.html#is" class="d">is</a> added
		to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="repeat.txt.html#." class="d">.</a>  Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
		The error <a href="motion.txt.html#is" class="d">is</a> in the form "Expected range <span class="s">{lower}</span> <a href="motion.txt.html#-" class="d">-</a> <span class="s">{upper}</span>,
		but got <span class="s">{actual}</span>"<a href="repeat.txt.html#." class="d">.</a>  When <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> present <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> prefixed to
		that.

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

								<span id="assert_match%28%29" class="t">assert_match()</span>
assert_match({pattern}, <span class="s">{actual}</span> [, <span class="s">{msg}</span>])
		When <span class="s">{pattern}</span> does not match <span class="s">{actual}</span> an error message <a href="motion.txt.html#is" class="d">is</a>
		added to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="repeat.txt.html#." class="d">.</a>  Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
		The error <a href="motion.txt.html#is" class="d">is</a> in the form "<a href="pattern.txt.html#Pattern" class="d">Pattern</a> <span class="s">{pattern}</span> does not match
		<span class="s">{actual}</span>"<a href="repeat.txt.html#." class="d">.</a>  When <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> present <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> prefixed to that,
		along with the location of the assert when run from <a href="insert.txt.html#a" class="d">a</a> script.

		<span class="s">{pattern}</span> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> with <span class="l">=~</span><a href="cmdline.txt.html#%3A" class="d">:</a> The matching <a href="motion.txt.html#is" class="d">is</a> always done
		like <a href="options.txt.html#%27magic%27" class="o">'magic'</a> was set and <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> <a href="motion.txt.html#is" class="d">is</a> empty, no matter what
		the actual value of <a href="options.txt.html#%27magic%27" class="o">'magic'</a> or <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> is.

		<span class="s">{actual}</span> <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> string, automatic conversion applies.
		Use "<a href="motion.txt.html#%5E" class="d">^</a>" and "<a href="motion.txt.html#%24" class="d">$</a>" to match with the start and <a href="intro.txt.html#end" class="d">end</a> of the text.
		Use both to match the whole text.

		Example: 
<span class="e">			call assert_match('^f.*o$', 'foobar')</span>
		Will result in <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> to be added to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="cmdline.txt.html#%3A" class="d">:</a>
<span class="h">			test.vim line 12: Pattern '^f.*o$' does not match 'foobar' </span>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			getFile()-&gt;assert_match('foo.*')</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

assert_nobeep({cmd})					<span id="assert_nobeep%28%29" class="t">assert_nobeep()</span>
		Run <span class="s">{cmd}</span> and add an error message to <a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> if <a href="motion.txt.html#it" class="d">it</a>
		produces <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#beep" class="d">beep</a> or visual bell.
		Also see <a href="testing.txt.html#assert_beeps%28%29" class="l">assert_beeps()</a><a href="repeat.txt.html#." class="d">.</a>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetCmd()-&gt;assert_nobeep()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

							<span id="assert_notequal%28%29" class="t">assert_notequal()</span>
assert_notequal({expected}, <span class="s">{actual}</span> [, <span class="s">{msg}</span>])
		The opposite of <span class="e">assert_equal()</span>: add an error message to
		<a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> when <span class="s">{expected}</span> and <span class="s">{actual}</span> are equal.
		Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			mylist-&gt;assert_notequal([1, 2, 3])</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

							<span id="assert_notmatch%28%29" class="t">assert_notmatch()</span>
assert_notmatch({pattern}, <span class="s">{actual}</span> [, <span class="s">{msg}</span>])
		The opposite of <span class="e">assert_match()</span>: add an error message to
		<a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a> when <span class="s">{pattern}</span> matches <span class="s">{actual}</span>.
		Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			getFile()-&gt;assert_notmatch('bar.*')</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>

assert_report({msg})					<span id="assert_report%28%29" class="t">assert_report()</span>
		Report <a href="insert.txt.html#a" class="d">a</a> test failure directly, using <a href="eval.txt.html#String" class="d">String</a> <span class="s">{msg}</span>.
		Always returns one.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetMessage()-&gt;assert_report()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


assert_true({actual} [, <span class="s">{msg}</span>])				<span id="assert_true%28%29" class="t">assert_true()</span>
		When <span class="s">{actual}</span> <a href="motion.txt.html#is" class="d">is</a> not <a href="vim9.txt.html#true" class="d">true</a> an error message <a href="motion.txt.html#is" class="d">is</a> added to
		<a href="eval.txt.html#v%3Aerrors" class="l">v:errors</a><a href="motion.txt.html#%2C" class="d">,</a> like with <a href="testing.txt.html#assert_equal%28%29" class="l">assert_equal()</a><a href="repeat.txt.html#." class="d">.</a>
		Also see <a href="eval.txt.html#assert-return" class="l">assert-return</a><a href="repeat.txt.html#." class="d">.</a>
		<a href="insert.txt.html#A" class="d">A</a> value <a href="motion.txt.html#is" class="d">is</a> <a href="eval.txt.html#TRUE" class="d">TRUE</a> when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> non-zero number.  When <span class="s">{actual}</span>
		<a href="motion.txt.html#is" class="d">is</a> not <a href="insert.txt.html#a" class="d">a</a> number the assert fails.
		When <span class="s">{msg}</span> <a href="motion.txt.html#is" class="d">is</a> given <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> prefixed to the default message,
		along with the location of the assert when run from <a href="insert.txt.html#a" class="d">a</a> script.

		Can also be used <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#method" class="l">method</a><a href="cmdline.txt.html#%3A" class="d">:</a> 
<span class="e">			GetResult()-&gt;assert_true()</span>

		Return type: <a href="eval.txt.html#Number" class="l">Number</a>


 vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
</main>
<p>Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>
</body>
</html>