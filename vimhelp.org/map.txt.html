<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Vim help pages, always up-to-date">
<title>Vim: map.txt</title>
<link rel="shortcut icon" href="s/KXPobNpJBGAI5V1t/favicon-vim.ico">
<!-- favicon is based on http://amnoid.de/tmp/vim_solidbright_512.png and is used with permission by its author -->

<link rel="stylesheet" href="s/MsMIu46igYudff1x/tom-select.min.css">
<script defer src="s/RLcAbtLBYX-q5me0/tom-select.base.min.js"></script>

<link rel="stylesheet" href="s/QRMkrs52-wJfIQ-w/vimhelp.css">
<noscript><link rel="stylesheet" href="s/eRFCn9A-K4lmzV_A/noscript.css"></noscript>
<script defer src="s/KpwrKyx19dtnhPoe/vimhelp.js"></script>
</head>
<body>




<div class="bar">
  <div class="ql">Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</div>
  <div class="tag srch need-js">
    <select id="vh-select-tag"></select>
    <div class="placeholder">Go to keyword<span class="not-mobile">&nbsp;(shortcut: <kbd>k</kbd>)</span></div>
  </div>
  <form class="site srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
    <div class="placeholder need-js">Site search<span class="not-mobile">&nbsp;(shortcut: <kbd>s</kbd>)</span></div>
  </form>
  <div id="theme-switcher" class="need-js">
  <button id="theme-current" title="Switch theme">Theme</button>
  <div id="theme-dropdown"><ul>
    <li><button id="theme-native" title="Switch to native theme">Native</button></li>
    <li><button id="theme-light" title="Switch to light theme">Light</button></li>
    <li><button id="theme-dark" title="Switch to dark theme">Dark</button></li>
  </ul></div>
</div>

</div>

<main>
<div id="vh-sidebar">
<ul><li><a href="map.txt.html#">↑Top↑</a></li>
<li><a href="map.txt.html#key-mapping">Key mapping</a></li>
<li><a href="map.txt.html#abbreviations">Abbreviations</a></li>
<li><a href="map.txt.html#script-local">Local mappings and functions</a></li>
<li><a href="map.txt.html#user-commands">User-defined commands</a></li>
</ul>
</div>
<div id="vh-content">
<pre>
<span id="map.txt" class="t">map.txt</span>  	For <span class="i">Vim version 9.1.</span>  Last change: 2025 Nov 09


		  <span class="i">VIM REFERENCE MANUAL	  by Bram Moolenaar</span>


Key mapping, <a href="map.txt.html#abbreviations" class="d">abbreviations</a> and user-defined commands.

This subject <a href="motion.txt.html#is" class="d">is</a> introduced in sections <a href="usr_05.txt.html#05.4" class="l">05.4</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="usr_24.txt.html#24.7" class="l">24.7</a> and <a href="usr_40.txt.html#40.1" class="l">40.1</a> of the user
manual.

1. Key <a href="map.txt.html#mapping" class="d">mapping</a>			<a href="map.txt.html#key-mapping" class="l">key-mapping</a>
   1.1 MAP COMMANDS				<a href="map.txt.html#%3Amap-commands" class="l">:map-commands</a>
   1.2 <a href="eval.txt.html#Special" class="d">Special</a> arguments			<a href="map.txt.html#%3Amap-arguments" class="l">:map-arguments</a>
   1.3 Mapping and modes			<a href="map.txt.html#%3Amap-modes" class="l">:map-modes</a>
   1.4 Listing mappings				<a href="map.txt.html#map-listing" class="l">map-listing</a>
   1.5 Mapping special keys			<a href="map.txt.html#%3Amap-special-keys" class="l">:map-special-keys</a>
   1.6 <a href="eval.txt.html#Special" class="d">Special</a> characters			<a href="map.txt.html#%3Amap-special-chars" class="l">:map-special-chars</a>
   1.7 What keys to map				<a href="map.txt.html#map-which-keys" class="l">map-which-keys</a>
   1.8 Examples					<a href="map.txt.html#map-examples" class="l">map-examples</a>
   1.9 Using mappings				<a href="map.txt.html#map-typing" class="l">map-typing</a>
   1.10 Mapping alt-keys			<a href="map.txt.html#%3Amap-alt-keys" class="l">:map-alt-keys</a>
   1.11 Mapping meta-keys			<a href="map.txt.html#%3Amap-meta-keys" class="l">:map-meta-keys</a>
   1.12 Mapping super-keys or command keys	<a href="map.txt.html#%3Amap-super-keys" class="l">:map-super-keys</a>
   1.13 Mapping in <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> mode		<a href="map.txt.html#modifyOtherKeys" class="l">modifyOtherKeys</a>
   1.14 Mapping with Kitty keyboard protocol	<a href="map.txt.html#kitty-keyboard-protocol" class="l">kitty-keyboard-protocol</a>
   1.15 Mapping an <a href="motion.txt.html#operator" class="d">operator</a>			<a href="map.txt.html#%3Amap-operator" class="l">:map-operator</a>
2. <a href="map.txt.html#Abbreviations" class="d">Abbreviations</a>		<a href="map.txt.html#abbreviations" class="l">abbreviations</a>
3. Local mappings and <a href="eval.txt.html#functions" class="d">functions</a>	<a href="map.txt.html#script-local" class="l">script-local</a>
4. User-defined commands	<a href="map.txt.html#user-commands" class="l">user-commands</a>

<span class="h">==============================================================================</span>
1. Key <a href="map.txt.html#mapping" class="d">mapping</a>				<span id="key-mapping" class="t">key-mapping</span> <span id="mapping" class="t">mapping</span> <span id="macro" class="t">macro</span>

Key <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> used to change the meaning of typed keys.  The most common use
<a href="motion.txt.html#is" class="d">is</a> to define <a href="insert.txt.html#a" class="d">a</a> sequence of commands for <a href="insert.txt.html#a" class="d">a</a> function key.  Example: 
<span class="e"></span>
<span class="e">	:map &lt;F2&gt; a&lt;C-R&gt;=strftime("%c")&lt;CR&gt;&lt;Esc&gt;</span>
<span class="e"></span>
This appends the current date and time after the cursor (in <a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> <a href="intro.txt.html#notation" class="d">notation</a> <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a>).


1.1 MAP COMMANDS					<span id="%3Amap-commands" class="t">:map-commands</span>

There are commands to enter new mappings, remove mappings and <a href="eval.txt.html#list" class="d">list</a> mappings.
See <a href="map.txt.html#map-overview" class="l">map-overview</a> for the <a href="various.txt.html#various" class="d">various</a> forms of "map" and their relationships with
modes.

<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>	means left-hand-side	<span id="%7Blhs%7D" class="t">{lhs}</span>
<a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>	means right-hand-side	<span id="%7Brhs%7D" class="t">{rhs}</span>

<a href="map.txt.html#%3Amap" class="d">:map</a>	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>  		<span id="%3Amap" class="t">:map</span>
:nm[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>  		<span id="%3Anm" class="t">:nm</span> <span id="%3Anmap" class="t">:nmap</span>
:vm[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>  		<span id="%3Avm" class="t">:vm</span> <span id="%3Avmap" class="t">:vmap</span>
:xm[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>  		<span id="%3Axm" class="t">:xm</span> <span id="%3Axmap" class="t">:xmap</span>
<a href="map.txt.html#%3Asmap" class="d">:smap</a>	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>  		    <span id="%3Asmap" class="t">:smap</span>
:om[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>  		<span id="%3Aom" class="t">:om</span> <span id="%3Aomap" class="t">:omap</span>
<a href="map.txt.html#%3Amap%21" class="d">:map!</a>	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>  		<span id="%3Amap%21" class="t">:map!</span>
:im[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>  		<span id="%3Aim" class="t">:im</span> <span id="%3Aimap" class="t">:imap</span>
:lm[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>  		<span id="%3Alm" class="t">:lm</span> <span id="%3Alma" class="t">:lma</span> <span id="%3Almap" class="t">:lmap</span>
:cm[ap]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>  		<span id="%3Acm" class="t">:cm</span> <span id="%3Acmap" class="t">:cmap</span>
:tma[p]	<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>  		<span id="%3Atma" class="t">:tma</span> <span id="%3Atmap" class="t">:tmap</span>
			Map the key sequence <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> to <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> for the modes
			where the map command applies.  The result, including
			<a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>, <a href="motion.txt.html#is" class="d">is</a> then further scanned for mappings.  This
			allows for nested and recursive use of mappings.
			<span class="n">Note:</span> Trailing spaces are included in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>,
			because <a href="intro.txt.html#space" class="d">space</a> <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> valid <a href="intro.txt.html#Normal" class="d">Normal</a> mode command.
			See <a href="map.txt.html#map-trailing-white" class="l">map-trailing-white</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="%3Anore" class="t">:nore</span> <span id="%3Anorem" class="t">:norem</span>
:no[remap]  <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>  	<span id="%3Ano" class="t">:no</span>  <span id="%3Anoremap" class="t">:noremap</span> <span id="%3Anor" class="t">:nor</span>
:nn[oremap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>  	<span id="%3Ann" class="t">:nn</span>  <span id="%3Annoremap" class="t">:nnoremap</span>
:vn[oremap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>  	<span id="%3Avn" class="t">:vn</span>  <span id="%3Avnoremap" class="t">:vnoremap</span>
:xn[oremap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>  	<span id="%3Axn" class="t">:xn</span>  <span id="%3Axnoremap" class="t">:xnoremap</span>
:snor[emap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>  	<span id="%3Asnor" class="t">:snor</span> <span id="%3Asnore" class="t">:snore</span> <span id="%3Asnoremap" class="t">:snoremap</span>
:ono[remap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>  	<span id="%3Aono" class="t">:ono</span> <span id="%3Aonoremap" class="t">:onoremap</span>
:no[remap]! <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>  	<span id="%3Ano%21" class="t">:no!</span> <span id="%3Anoremap%21" class="t">:noremap!</span>
:ino[remap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>  	<span id="%3Aino" class="t">:ino</span> <span id="%3Ainor" class="t">:inor</span> <span id="%3Ainoremap" class="t">:inoremap</span>
:ln[oremap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>  	<span id="%3Aln" class="t">:ln</span>  <span id="%3Alnoremap" class="t">:lnoremap</span>
:cno[remap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>  	<span id="%3Acno" class="t">:cno</span> <span id="%3Acnor" class="t">:cnor</span> <span id="%3Acnoremap" class="t">:cnoremap</span>
:tno[remap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>		<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>  	<span id="%3Atno" class="t">:tno</span> <span id="%3Atnoremap" class="t">:tnoremap</span>
			Map the key sequence <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> to <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> for the modes
			where the map command applies.  Disallow <a href="map.txt.html#mapping" class="d">mapping</a> of
			<a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>, to avoid nested and recursive mappings.  Often
			used to redefine <a href="insert.txt.html#a" class="d">a</a> command.
			<span class="n">Note:</span> Keys in <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> also won't trigger abbreviation,
			with the exception of <a href="insert.txt.html#i_CTRL-%5D" class="l">i_CTRL-]</a> and <a href="cmdline.txt.html#c_CTRL-%5D" class="l">c_CTRL-]</a><a href="repeat.txt.html#." class="d">.</a>
			<span class="n">Note:</span> When <a href="map.txt.html#%3CPlug%3E" class="s">&lt;Plug&gt;</a> appears in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> this part <a href="motion.txt.html#is" class="d">is</a>
			always applied even if remapping <a href="motion.txt.html#is" class="d">is</a> disallowed.


:unm[ap]  <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>  		<span id="%3Aunm" class="t">:unm</span>  <span id="%3Aunmap" class="t">:unmap</span>
:nun[map] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>  		<span id="%3Anun" class="t">:nun</span>  <span id="%3Anunmap" class="t">:nunmap</span>
:vu[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>  		<span id="%3Avu" class="t">:vu</span>   <span id="%3Avunmap" class="t">:vunmap</span>
:xu[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>  		<span id="%3Axu" class="t">:xu</span>   <span id="%3Axunmap" class="t">:xunmap</span>
:sunm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>  		<span id="%3Asunm" class="t">:sunm</span> <span id="%3Asunmap" class="t">:sunmap</span>
:ou[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>  		<span id="%3Aou" class="t">:ou</span>   <span id="%3Aounmap" class="t">:ounmap</span>
:unm[ap]! <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>  		<span id="%3Aunm%21" class="t">:unm!</span> <span id="%3Aunmap%21" class="t">:unmap!</span>
:iu[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>  		<span id="%3Aiu" class="t">:iu</span>   <span id="%3Aiunmap" class="t">:iunmap</span>
:lu[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>  		<span id="%3Alu" class="t">:lu</span>   <span id="%3Alunmap" class="t">:lunmap</span>
:cu[nmap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>  		<span id="%3Acu" class="t">:cu</span>   <span id="%3Acun" class="t">:cun</span> <span id="%3Acunmap" class="t">:cunmap</span>
:tunma[p] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>  		<span id="%3Atunma" class="t">:tunma</span> <span id="%3Atunmap" class="t">:tunmap</span>
			Remove the <a href="map.txt.html#mapping" class="d">mapping</a> of <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> for the modes where the
			map command applies.  The <a href="map.txt.html#mapping" class="d">mapping</a> may remain defined
			for other modes where <a href="motion.txt.html#it" class="d">it</a> applies.
			It also works when <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> matches the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> of <a href="insert.txt.html#a" class="d">a</a>
			mapping.  This <a href="motion.txt.html#is" class="d">is</a> for when an abbreviation applied.
			<span class="n">Note:</span> Trailing spaces are included in the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>.
			See <a href="map.txt.html#map-trailing-white" class="l">map-trailing-white</a><a href="repeat.txt.html#." class="d">.</a>

:mapc[lear]			<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>  		<span id="%3Amapc" class="t">:mapc</span>   <span id="%3Amapclear" class="t">:mapclear</span>
:nmapc[lear]			<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>  		<span id="%3Anmapc" class="t">:nmapc</span>  <span id="%3Anmapclear" class="t">:nmapclear</span>
:vmapc[lear]			<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>  		<span id="%3Avmapc" class="t">:vmapc</span>  <span id="%3Avmapclear" class="t">:vmapclear</span>
:xmapc[lear]			<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>  		<span id="%3Axmapc" class="t">:xmapc</span>  <span id="%3Axmapclear" class="t">:xmapclear</span>
:smapc[lear]			<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>  		<span id="%3Asmapc" class="t">:smapc</span>  <span id="%3Asmapclear" class="t">:smapclear</span>
:omapc[lear]			<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>  		<span id="%3Aomapc" class="t">:omapc</span>  <span id="%3Aomapclear" class="t">:omapclear</span>
:mapc[lear]!			<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>  		<span id="%3Amapc%21" class="t">:mapc!</span>  <span id="%3Amapclear%21" class="t">:mapclear!</span>
:imapc[lear]			<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>  		<span id="%3Aimapc" class="t">:imapc</span>  <span id="%3Aimapclear" class="t">:imapclear</span>
:lmapc[lear]			<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>  		<span id="%3Almapc" class="t">:lmapc</span>  <span id="%3Almapclear" class="t">:lmapclear</span>
:cmapc[lear]			<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>  		<span id="%3Acmapc" class="t">:cmapc</span>  <span id="%3Acmapclear" class="t">:cmapclear</span>
:tmapc[lear]			<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>  		<span id="%3Atmapc" class="t">:tmapc</span>  <span id="%3Atmapclear" class="t">:tmapclear</span>
			Remove ALL mappings for the modes where the map
			command applies.
			Use the <span class="s">&lt;buffer&gt;</span> argument to remove buffer-local
			mappings <a href="map.txt.html#%3Amap-%3Cbuffer%3E" class="l">:map-&lt;buffer&gt;</a>
			Warning: This also removes the <a href="os_mac.txt.html#mac-standard-mappings" class="l">mac-standard-mappings</a>
			and the <a href="os_dos.txt.html#dos-standard-mappings" class="l">dos-standard-mappings</a><a href="repeat.txt.html#." class="d">.</a>

<a href="map.txt.html#%3Amap" class="d">:map</a>				<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>
:nm[ap]				<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>
:vm[ap]				<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>
:xm[ap]				<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>
:sm[ap]				<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>
:om[ap]				<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>
<a href="map.txt.html#%3Amap%21" class="d">:map!</a>				<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>
:im[ap]				<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>
:lm[ap]				<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>
:cm[ap]				<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>
:tma[p]				<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>
			<a href="eval.txt.html#List" class="d">List</a> all key mappings for the modes where the map
			command applies.  <span class="n">Note</span> that "<a href="map.txt.html#%3Amap" class="d">:map</a>" and "<a href="map.txt.html#%3Amap%21" class="d">:map!</a>" are
			used most often, because they include the other modes.

<a href="map.txt.html#%3Amap" class="d">:map</a>    <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-nvo" class="l">mapmode-nvo</a>  		<span id="%3Amap_l" class="t">:map_l</span>
:nm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-n" class="l">mapmode-n</a>  		<span id="%3Anmap_l" class="t">:nmap_l</span>
:vm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-v" class="l">mapmode-v</a>  		<span id="%3Avmap_l" class="t">:vmap_l</span>
:xm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-x" class="l">mapmode-x</a>  		<span id="%3Axmap_l" class="t">:xmap_l</span>
:sm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-s" class="l">mapmode-s</a>  		<span id="%3Asmap_l" class="t">:smap_l</span>
:om[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-o" class="l">mapmode-o</a>  		<span id="%3Aomap_l" class="t">:omap_l</span>
<a href="map.txt.html#%3Amap%21" class="d">:map!</a>   <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-ic" class="l">mapmode-ic</a>  		<span id="%3Amap_l%21" class="t">:map_l!</span>
:im[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-i" class="l">mapmode-i</a>  		<span id="%3Aimap_l" class="t">:imap_l</span>
:lm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-l" class="l">mapmode-l</a>  		<span id="%3Almap_l" class="t">:lmap_l</span>
:cm[ap] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-c" class="l">mapmode-c</a>  		<span id="%3Acmap_l" class="t">:cmap_l</span>
:tma[p] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>			<a href="map.txt.html#mapmode-t" class="l">mapmode-t</a>  		<span id="%3Atmap_l" class="t">:tmap_l</span>
			<a href="eval.txt.html#List" class="d">List</a> the key mappings for the key sequences <a href="starting.txt.html#starting" class="d">starting</a>
			with <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> in the modes where the map command applies.

These commands are used to map <a href="insert.txt.html#a" class="d">a</a> key or key sequence to <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#string" class="d">string</a> of
characters.  You can use this to <a href="change.txt.html#put" class="d">put</a> command sequences under function keys,
translate one key into another, etc.  See <a href="starting.txt.html#%3Amkexrc" class="l">:mkexrc</a> for how to save and
restore the current mappings.

							<span id="map-ambiguous" class="t">map-ambiguous</span>
When two mappings start with the same sequence of characters, they are
ambiguous.  Example: 
<span class="e">	:imap aa foo</span>
<span class="e">	:imap aaa bar</span>
When Vim has read "aa"<a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#it" class="d">it</a> will need to get another character to be able to
decide if "aa" or "aaa" should be mapped.  This means that after typing "aa"
that <a href="map.txt.html#mapping" class="d">mapping</a> won't get expanded yet, Vim <a href="motion.txt.html#is" class="d">is</a> waiting for another character.
If you type <a href="insert.txt.html#a" class="d">a</a> space, then "foo" will get inserted, plus the space.  If you
type "<a href="insert.txt.html#a" class="d">a</a>"<a href="motion.txt.html#%2C" class="d">,</a> then "<a href="motion.txt.html#bar" class="d">bar</a>" will get inserted.

<span class="h">Trailing white space </span>
							<span id="map-trailing-white" class="t">map-trailing-white</span>
This unmap command does NOT work: 
<span class="e">	:map @@ foo</span>
<span class="e">	:unmap @@ | print</span>
<span class="e"></span>
Because <a href="motion.txt.html#it" class="d">it</a> tries to unmap "<a href="repeat.txt.html#%40%40" class="d">@@</a> "<a href="motion.txt.html#%2C" class="d">,</a> including the white <a href="intro.txt.html#space" class="d">space</a> before the command
separator "|"<a href="repeat.txt.html#." class="d">.</a>  Other examples with trailing white space: 
<span class="e">	unmap @@ </span>
<span class="e">	unmap @@     # Vim9 script comment</span>
<span class="e">	unmap @@     " legacy script comment</span>
<span class="e"></span>
An error will be issued, which <a href="motion.txt.html#is" class="d">is</a> very hard to identify, because the ending
<a href="pattern.txt.html#whitespace" class="d">whitespace</a> character in `unmap <a href="repeat.txt.html#%40%40" class="d">@@</a> <a href="motion.txt.html#%60" class="d">`</a> <a href="motion.txt.html#is" class="d">is</a> not visible.

<a href="insert.txt.html#A" class="d">A</a> generic solution <a href="motion.txt.html#is" class="d">is</a> to <a href="change.txt.html#put" class="d">put</a> the command separator "|" right after the mapped
keys.  After that white <a href="intro.txt.html#space" class="d">space</a> and <a href="insert.txt.html#a" class="d">a</a> comment may follow: 
<span class="e"></span>
<span class="e">	unmap @@|    # Vim9 script comment</span>
<span class="e">	unmap @@|    " legacy script comment</span>
<span class="e"></span>
<span class="e"></span>
1.2 SPECIAL ARGUMENTS					<span id="%3Amap-arguments" class="t">:map-arguments</span>

"<span class="s">&lt;buffer&gt;</span>"<a href="motion.txt.html#%2C" class="d">,</a> "<span class="s">&lt;nowait&gt;</span>"<a href="motion.txt.html#%2C" class="d">,</a> "<span class="s">&lt;silent&gt;</span>"<a href="motion.txt.html#%2C" class="d">,</a> "<span class="s">&lt;special&gt;</span>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<span class="s">&lt;expr&gt;</span>" and
"<span class="s">&lt;unique&gt;</span>" can be used in any order.  They <a href="vim_faq.txt.html#must" class="d">must</a> appear right after the
command, before any other arguments.

				    <span id="%3Amap-local" class="t">:map-local</span> <span id="%3Amap-%3Cbuffer%3E" class="t">:map-&lt;buffer&gt;</span> <span id="%3Amap-buffer" class="t">:map-buffer</span>
				    <span id="E224" class="t">E224</span> <span id="E225" class="t">E225</span>
If the first argument to one of these commands <a href="motion.txt.html#is" class="d">is</a> "<span class="s">&lt;buffer&gt;</span>" the <a href="map.txt.html#mapping" class="d">mapping</a> will
be effective in the current buffer only.  Example: 
<span class="e">	:map &lt;buffer&gt;  ,w  /[.,;]&lt;CR&gt;</span>
Then you can map ",w" to something else in another buffer: 
<span class="e">	:map &lt;buffer&gt;  ,w  /[#&amp;!]&lt;CR&gt;</span>
The local buffer mappings are used before the global ones.  See <span class="s">&lt;nowait&gt;</span> below
to make <a href="insert.txt.html#a" class="d">a</a> short local <a href="map.txt.html#mapping" class="d">mapping</a> not taking effect when <a href="insert.txt.html#a" class="d">a</a> longer global one
exists.
The "<span class="s">&lt;buffer&gt;</span>" argument can also be used to clear mappings: 
<span class="e">	:unmap &lt;buffer&gt; ,w</span>
<span class="e">	:mapclear &lt;buffer&gt;</span>
Local mappings are also cleared when <a href="insert.txt.html#a" class="d">a</a> buffer <a href="motion.txt.html#is" class="d">is</a> deleted, but not when <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
unloaded.  Just like local option values.
Also see <a href="map.txt.html#map-precedence" class="l">map-precedence</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="%3Amap-%3Cnowait%3E" class="t">:map-&lt;nowait&gt;</span> <span id="%3Amap-nowait" class="t">:map-nowait</span>
When defining <a href="insert.txt.html#a" class="d">a</a> buffer-local <a href="map.txt.html#mapping" class="d">mapping</a> for "<a href="motion.txt.html#%2C" class="d">,</a>" there may be <a href="insert.txt.html#a" class="d">a</a> global <a href="map.txt.html#mapping" class="d">mapping</a>
that starts with "<a href="motion.txt.html#%2C" class="d">,</a>"<a href="repeat.txt.html#." class="d">.</a>  Then you need to type another character for Vim to know
whether to use the "<a href="motion.txt.html#%2C" class="d">,</a>" <a href="map.txt.html#mapping" class="d">mapping</a> or the longer one.  To avoid this add the
<span class="s">&lt;nowait&gt;</span> argument.  Then the <a href="map.txt.html#mapping" class="d">mapping</a> will be used when <a href="motion.txt.html#it" class="d">it</a> matches, Vim does
not wait for more characters to be typed.  However, if the characters were
already typed they are used.
<span class="n">Note</span> that this works when the <span class="s">&lt;nowait&gt;</span> <a href="map.txt.html#mapping" class="d">mapping</a> fully matches and <a href="motion.txt.html#is" class="d">is</a> found
before any <a href="builtin.txt.html#partial" class="d">partial</a> matches.  This works when:
<a href="motion.txt.html#-" class="d">-</a> There <a href="motion.txt.html#is" class="d">is</a> only one matching buffer-local mapping, since these are always
  found before global mappings.
<a href="motion.txt.html#-" class="d">-</a> There <a href="motion.txt.html#is" class="d">is</a> another buffer-local <a href="map.txt.html#mapping" class="d">mapping</a> that partly matches, but <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
  defined earlier (last defined <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> found first).

						<span id="%3Amap-%3Csilent%3E" class="t">:map-&lt;silent&gt;</span> <span id="%3Amap-silent" class="t">:map-silent</span>
To define <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> which will not be echoed on the command line, add
"<span class="s">&lt;silent&gt;</span>" <a href="motion.txt.html#as" class="d">as</a> the first argument.  Example: 
<span class="e">	:map &lt;silent&gt; ,h /Header&lt;CR&gt;</span>
The search <a href="eval.txt.html#string" class="d">string</a> will not be echoed when using this mapping.  Messages from
the executed command are still given though.  To shut them up too, add <a href="insert.txt.html#a" class="d">a</a>
"<a href="various.txt.html#%3Asilent" class="d">:silent</a>" in the executed command: 
<span class="e">	:map &lt;silent&gt; ,h :exe ":silent normal /Header\r"&lt;CR&gt;</span>
<span class="n">Note</span> that the effect of <a href="insert.txt.html#a" class="d">a</a> command might also be silenced, e.g., when the
<a href="map.txt.html#mapping" class="d">mapping</a> selects another entry for command line completion <a href="motion.txt.html#it" class="d">it</a> won't be
displayed.
Prompts will still be given, e.g., for inputdialog().
Using "<span class="s">&lt;silent&gt;</span>" for an abbreviation <a href="motion.txt.html#is" class="d">is</a> possible, but will cause redrawing of
the command line to fail.

						<span id="%3Amap-%3Cspecial%3E" class="t">:map-&lt;special&gt;</span> <span id="%3Amap-special" class="t">:map-special</span>
Define <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> with <a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> <a href="intro.txt.html#notation" class="d">notation</a> for special keys, even though the "<a href="change.txt.html#%3C" class="d">&lt;</a>" flag
may appear in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>.  This <a href="motion.txt.html#is" class="d">is</a> useful if the side effect of setting
<a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> <a href="motion.txt.html#is" class="d">is</a> not desired.  Example: 
<span class="e">	:map &lt;special&gt; &lt;F12&gt; /Header&lt;CR&gt;</span>

						<span id="%3Amap-%3Cscript%3E" class="t">:map-&lt;script&gt;</span> <span id="%3Amap-script" class="t">:map-script</span>
If the first argument to one of these commands <a href="motion.txt.html#is" class="d">is</a> "<a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>" and <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used to
define <a href="insert.txt.html#a" class="d">a</a> new <a href="map.txt.html#mapping" class="d">mapping</a> or abbreviation, the <a href="map.txt.html#mapping" class="d">mapping</a> will only remap characters
in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> using mappings that were defined local to <a href="insert.txt.html#a" class="d">a</a> script, <a href="starting.txt.html#starting" class="d">starting</a> with
"<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>  This can be used to avoid that mappings from outside <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a>
interfere (e.g., when <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#is" class="d">is</a> remapped in mswin.vim), but <a href="diff.txt.html#do" class="d">do</a> use other
mappings defined in the script.
<span class="n">Note:</span> "<a href="map.txt.html#%3Amap" class="d">:map</a> <a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>" and "<a href="map.txt.html#%3Anoremap" class="d">:noremap</a> <a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>" <a href="diff.txt.html#do" class="d">do</a> the same thing.  The
"<a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>" overrules the command name.  Using "<a href="map.txt.html#%3Anoremap" class="d">:noremap</a> <a href="cmdline.txt.html#%3Cscript%3E" class="s">&lt;script&gt;</a>" <a href="motion.txt.html#is" class="d">is</a>
preferred, because it's clearer that remapping <a href="motion.txt.html#is" class="d">is</a> (mostly) disabled.

				<span id="%3Amap-%3Cunique%3E" class="t">:map-&lt;unique&gt;</span> <span id="%3Amap-unique" class="t">:map-unique</span> <span id="E226" class="t">E226</span> <span id="E227" class="t">E227</span>
If the first argument to one of these commands <a href="motion.txt.html#is" class="d">is</a> "<span class="s">&lt;unique&gt;</span>" and <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used to
define <a href="insert.txt.html#a" class="d">a</a> new <a href="map.txt.html#mapping" class="d">mapping</a> or abbreviation, the command will fail if the <a href="map.txt.html#mapping" class="d">mapping</a> or
abbreviation already exists.  Example: 
<span class="e">	:map &lt;unique&gt; ,w  /[#&amp;!]&lt;CR&gt;</span>
When defining <a href="insert.txt.html#a" class="d">a</a> local mapping, there will also be <a href="insert.txt.html#a" class="d">a</a> check if <a href="insert.txt.html#a" class="d">a</a> global map
already exists which <a href="motion.txt.html#is" class="d">is</a> equal.
Example of what will fail: 
<span class="e">	:map ,w  /[#&amp;!]&lt;CR&gt;</span>
<span class="e">	:map &lt;buffer&gt; &lt;unique&gt; ,w  /[.,;]&lt;CR&gt;</span>
If you want to map <a href="insert.txt.html#a" class="d">a</a> key and then have <a href="motion.txt.html#it" class="d">it</a> <a href="diff.txt.html#do" class="d">do</a> what <a href="motion.txt.html#it" class="d">it</a> was originally mapped to,
have <a href="insert.txt.html#a" class="d">a</a> look <a href="motion.txt.html#at" class="d">at</a> <a href="builtin.txt.html#maparg%28%29" class="l">maparg()</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="%3Amap-%3Cexpr%3E" class="t">:map-&lt;expr&gt;</span> <span id="%3Amap-expression" class="t">:map-expression</span>
If the first argument to one of these commands <a href="motion.txt.html#is" class="d">is</a> "<span class="s">&lt;expr&gt;</span>" and <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> used to
define <a href="insert.txt.html#a" class="d">a</a> new <a href="map.txt.html#mapping" class="d">mapping</a> or abbreviation, the argument <a href="motion.txt.html#is" class="d">is</a> an expression.  The
<a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> evaluated to obtain the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> that <a href="motion.txt.html#is" class="d">is</a> used.  Example: 
<span class="e">	:inoremap &lt;expr&gt; . &lt;SID&gt;InsertDot()</span>
The result of the s:InsertDot() function will be inserted.  It could check the
text before the cursor and start omni completion when some condition <a href="motion.txt.html#is" class="d">is</a> met.
Using <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#script-local" class="d">script-local</a> function <a href="motion.txt.html#is" class="d">is</a> preferred, to avoid polluting the global
namespace.  Use <a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a> in the RHS so that the <a href="usr_41.txt.html#script" class="d">script</a> that the <a href="map.txt.html#mapping" class="d">mapping</a> was
defined in can be found.

For <a href="map.txt.html#abbreviations" class="d">abbreviations</a> <a href="eval.txt.html#v%3Achar" class="l">v:char</a> <a href="motion.txt.html#is" class="d">is</a> set to the character that was typed to trigger
the abbreviation.  You can use this to decide how to expand the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>.  You
should not either <a href="insert.txt.html#insert" class="d">insert</a> or change the v:char.

In <a href="change.txt.html#case" class="d">case</a> you want the <a href="map.txt.html#mapping" class="d">mapping</a> to not <a href="diff.txt.html#do" class="d">do</a> anything, you can have the <a href="eval.txt.html#expression" class="d">expression</a>
evaluate to an empty string.  If something changed that requires Vim to
<a href="motion.txt.html#go" class="d">go</a> through the main loop (e.g. to update the display), return "\&lt;Ignore&gt;"<a href="repeat.txt.html#." class="d">.</a>
This <a href="motion.txt.html#is" class="d">is</a> similar to "nothing" but makes Vim return from the loop that waits for
input.  Example: 
<span class="e">	func s:OpenPopup()</span>
<span class="e">	  call popup_create(... arguments ...)</span>
<span class="e">	  return "\&lt;Ignore&gt;"</span>
<span class="e">	endfunc</span>
<span class="e">	nnoremap &lt;expr&gt; &lt;F3&gt; &lt;SID&gt;OpenPopup()</span>
<span class="e"></span>
Keep in mind that the <a href="eval.txt.html#expression" class="d">expression</a> may be evaluated when looking for
typeahead, before the previous command has been executed.  For example: 
<span class="e">	func StoreColumn()</span>
<span class="e">	  let g:column = col('.')</span>
<span class="e">	  return 'x'</span>
<span class="e">	endfunc</span>
<span class="e">	nnoremap &lt;expr&gt; x StoreColumn()</span>
<span class="e">	nmap ! f!x</span>
You will notice that g:column has the value from before executing "f!"<a href="motion.txt.html#%2C" class="d">,</a>
because "<a href="change.txt.html#x" class="d">x</a>" <a href="motion.txt.html#is" class="d">is</a> evaluated before "f!" <a href="motion.txt.html#is" class="d">is</a> executed.
This can be solved by <a href="insert.txt.html#inserting" class="d">inserting</a> <a href="builtin.txt.html#%3CIgnore%3E" class="s">&lt;Ignore&gt;</a> before the character that <a href="motion.txt.html#is" class="d">is</a>
expression-mapped: 
<span class="e">	nmap ! f!&lt;Ignore&gt;x</span>
<span class="e"></span>
When defining <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> in <a href="insert.txt.html#a" class="d">a</a> <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script, the <a href="eval.txt.html#expression" class="d">expression</a> will be evaluated
in the context of that script.  This means that <a href="map.txt.html#script-local" class="d">script-local</a> items can be
accessed in the expression.

Be very careful about side effects!  The <a href="eval.txt.html#expression" class="d">expression</a> <a href="motion.txt.html#is" class="d">is</a> evaluated while
obtaining characters, you may very well make the command dysfunctional.
For this reason the following <a href="motion.txt.html#is" class="d">is</a> blocked:
<a href="motion.txt.html#-" class="d">-</a> Changing the buffer text <a href="eval.txt.html#textlock" class="l">textlock</a><a href="repeat.txt.html#." class="d">.</a>
<a href="motion.txt.html#-" class="d">-</a> Editing another buffer.
<a href="motion.txt.html#-" class="d">-</a> The <a href="various.txt.html#%3Anormal" class="l">:normal</a> command.
<a href="motion.txt.html#-" class="d">-</a> Moving the cursor <a href="motion.txt.html#is" class="d">is</a> allowed, but <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> restored afterwards.
If you want the <a href="map.txt.html#mapping" class="d">mapping</a> to <a href="diff.txt.html#do" class="d">do</a> any of these let the returned characters <a href="diff.txt.html#do" class="d">do</a>
that, or use <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#%3CCmd%3E" class="l">&lt;Cmd&gt;</a> <a href="map.txt.html#mapping" class="d">mapping</a> instead.

You can use getchar(), <a href="motion.txt.html#it" class="d">it</a> consumes typeahead if there <a href="motion.txt.html#is" class="d">is</a> any.  E.g., if you
have these mappings: 
<span class="e">  inoremap &lt;expr&gt; &lt;C-L&gt; nr2char(getchar())</span>
<span class="e">  inoremap &lt;expr&gt; &lt;C-L&gt;x "foo"</span>
If you now type <a href="various.txt.html#CTRL-L" class="k">CTRL-L</a> nothing happens yet, Vim needs the next character to
decide what <a href="map.txt.html#mapping" class="d">mapping</a> to use.  If you type 'x' the second <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> used and
"foo" <a href="motion.txt.html#is" class="d">is</a> inserted.  If you type any other key the first <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> used,
<a href="builtin.txt.html#getchar%28%29" class="d">getchar()</a> gets the typed key and returns it.

Here <a href="motion.txt.html#is" class="d">is</a> an example that inserts <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#list" class="d">list</a> number that increases: 
<span class="e">	let counter = 0</span>
<span class="e">	inoremap &lt;expr&gt; &lt;C-L&gt; ListItem()</span>
<span class="e">	inoremap &lt;expr&gt; &lt;C-R&gt; ListReset()</span>
<span class="e"></span>
<span class="e">	func ListItem()</span>
<span class="e">	  let g:counter += 1</span>
<span class="e">	  return g:counter .. '. '</span>
<span class="e">	endfunc</span>
<span class="e"></span>
<span class="e">	func ListReset()</span>
<span class="e">	  let g:counter = 0</span>
<span class="e">	  return ''</span>
<span class="e">	endfunc</span>
<span class="e"></span>
<a href="various.txt.html#CTRL-L" class="k">CTRL-L</a> inserts the next number, <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a> resets the count.  <a href="undo.txt.html#CTRL-R" class="k">CTRL-R</a> returns an
empty string, so that nothing <a href="motion.txt.html#is" class="d">is</a> inserted.

<span class="n">Note</span> that using 0x80 <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> single byte before other text does not work, <a href="motion.txt.html#it" class="d">it</a> will
be seen <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> special key.

						<span id="%3CCmd%3E" class="t">&lt;Cmd&gt;</span> <span id="%3Amap-cmd" class="t">:map-cmd</span>
The special text <a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a> begins <a href="insert.txt.html#a" class="d">a</a> "command <a href="map.txt.html#mapping" class="d">mapping</a>"<a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#it" class="d">it</a> executes the command
directly without <a href="change.txt.html#changing" class="d">changing</a> modes.  Where you might use ":...&lt;CR&gt;" in the
<a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> of <a href="insert.txt.html#a" class="d">a</a> mapping, you can instead use "<a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a>...<a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>
Example: 
<span class="e">	noremap x &lt;Cmd&gt;echo mode(1)&lt;CR&gt;</span>

This <a href="motion.txt.html#is" class="d">is</a> more flexible than <span class="e">:&lt;C-U&gt;</span> in <a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode, or
<span class="e">&lt;C-O&gt;:</span> in <a href="insert.txt.html#Insert" class="d">Insert</a> mode, because the commands are executed directly in the
current mode, instead of always going to <a href="intro.txt.html#Normal" class="d">Normal</a> mode.  <a href="visual.txt.html#Visual" class="d">Visual</a> mode <a href="motion.txt.html#is" class="d">is</a>
preserved, so tricks with <a href="visual.txt.html#gv" class="l">gv</a> are not needed.  Commands can be invoked
directly in <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode (which would otherwise require <a href="builtin.txt.html#timer" class="d">timer</a> hacks).
Example of using <a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a> halfway <a href="insert.txt.html#Insert" class="d">Insert</a> mode: 
<span class="e">	nnoremap &lt;F3&gt; aText &lt;Cmd&gt;echo mode(1)&lt;CR&gt; Added&lt;Esc&gt;</span>
<span class="e"></span>
Unlike <span class="s">&lt;expr&gt;</span> mappings, there are no special restrictions on the <a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a>
command: <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> executed <a href="motion.txt.html#as" class="d">as</a> if an (unrestricted) <a href="autocmd.txt.html#autocommand" class="l">autocommand</a> was invoked.

						<span id="%3CScriptCmd%3E" class="t">&lt;ScriptCmd&gt;</span>
<a href="map.txt.html#%3CScriptCmd%3E" class="s">&lt;ScriptCmd&gt;</a> <a href="motion.txt.html#is" class="d">is</a> like <a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a> but sets the context to the <a href="usr_41.txt.html#script" class="d">script</a> the <a href="map.txt.html#mapping" class="d">mapping</a> was
defined in, for the duration of the command execution.  This <a href="motion.txt.html#is" class="d">is</a> especially
useful for <a href="vim9.txt.html#Vim9" class="l">Vim9</a> script.  It also works to access an import, which <a href="motion.txt.html#is" class="d">is</a> useful
in <a href="insert.txt.html#a" class="d">a</a> <a href="usr_05.txt.html#plugin" class="d">plugin</a> using a, possibly autoloaded, script: 
<span class="e">	vim9script</span>
<span class="e">	import autoload 'implementation.vim' as impl</span>
<span class="e">	nnoremap &lt;F4&gt; &lt;ScriptCmd&gt;impl.DoTheWork()&lt;CR&gt;</span>

No matter where <a href="term.txt.html#%3CF4%3E" class="s">&lt;F4&gt;</a> <a href="motion.txt.html#is" class="d">is</a> typed, the "impl" import will be found in the <a href="usr_41.txt.html#script" class="d">script</a>
context of where the <a href="map.txt.html#mapping" class="d">mapping</a> was defined.  When it's an <a href="userfunc.txt.html#autoload" class="d">autoload</a> import, <a href="motion.txt.html#as" class="d">as</a> in
the example, the "implementation.vim" <a href="usr_41.txt.html#script" class="d">script</a> will only be loaded once <a href="term.txt.html#%3CF4%3E" class="s">&lt;F4&gt;</a> <a href="motion.txt.html#is" class="d">is</a>
typed, not when the <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> defined.

Without <a href="map.txt.html#%3CScriptCmd%3E" class="s">&lt;ScriptCmd&gt;</a> using "s:impl" would result in "E121: Undefined variable"<a href="repeat.txt.html#." class="d">.</a>

<span class="n">Note:</span>
<a href="motion.txt.html#-" class="d">-</a> Because <a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a> and <a href="map.txt.html#%3CScriptCmd%3E" class="s">&lt;ScriptCmd&gt;</a> avoid mode-changes <a href="motion.txt.html#it" class="d">it</a> does not trigger
  <a href="autocmd.txt.html#CmdlineEnter" class="l">CmdlineEnter</a> and <a href="autocmd.txt.html#CmdlineLeave" class="l">CmdlineLeave</a> events, because no user interaction <a href="motion.txt.html#is" class="d">is</a>
  expected.
<a href="motion.txt.html#-" class="d">-</a> For the same reason, <a href="intro.txt.html#keycodes" class="l">keycodes</a> like <span class="s">&lt;C-R&gt;</span><span class="s">&lt;C-W&gt;</span> are interpreted <a href="motion.txt.html#as" class="d">as</a> plain,
  unmapped keys.
<a href="motion.txt.html#-" class="d">-</a> The command <a href="motion.txt.html#is" class="d">is</a> not echo'ed, no need for <span class="s">&lt;silent&gt;</span>.
<a href="motion.txt.html#-" class="d">-</a> The <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> <a href="motion.txt.html#is" class="d">is</a> not subject to <a href="map.txt.html#abbreviations" class="d">abbreviations</a> nor to other mappings, even if the
  <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> recursive.
<a href="motion.txt.html#-" class="d">-</a> In <a href="visual.txt.html#Visual" class="d">Visual</a> mode you can use <span class="e">line('v')</span> and <span class="e">col('v')</span> to get one <a href="intro.txt.html#end" class="d">end</a> of the
  <a href="visual.txt.html#Visual" class="d">Visual</a> area, the cursor <a href="motion.txt.html#is" class="d">is</a> <a href="motion.txt.html#at" class="d">at</a> the other end.

							<span id="E1255" class="t">E1255</span> <span id="E1136" class="t">E1136</span>
<a href="map.txt.html#%3CCmd%3E" class="s">&lt;Cmd&gt;</a> and <a href="map.txt.html#%3CScriptCmd%3E" class="s">&lt;ScriptCmd&gt;</a> commands <a href="vim_faq.txt.html#must" class="d">must</a> terminate, that is, they <a href="vim_faq.txt.html#must" class="d">must</a> be followed
by <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> of the <a href="map.txt.html#mapping" class="d">mapping</a> definition.  <a href="cmdline.txt.html#Command-line" class="l">Command-line</a> mode <a href="motion.txt.html#is" class="d">is</a> never
entered.  To use <a href="insert.txt.html#a" class="d">a</a> literal <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>, use <a href="intro.txt.html#%3Clt%3E" class="l">&lt;lt&gt;</a><a href="repeat.txt.html#." class="d">.</a>


1.3 MAPPING AND MODES					<span id="%3Amap-modes" class="t">:map-modes</span>
			<span id="mapmode-nvo" class="t">mapmode-nvo</span> <span id="mapmode-n" class="t">mapmode-n</span> <span id="mapmode-v" class="t">mapmode-v</span> <span id="mapmode-o" class="t">mapmode-o</span>

There are seven sets of mappings
<a href="motion.txt.html#-" class="d">-</a> For <a href="intro.txt.html#Normal" class="d">Normal</a> mode: When typing commands.
<a href="motion.txt.html#-" class="d">-</a> For <a href="visual.txt.html#Visual" class="d">Visual</a> mode: When typing commands while the <a href="visual.txt.html#Visual" class="d">Visual</a> area <a href="motion.txt.html#is" class="d">is</a> highlighted.
<a href="motion.txt.html#-" class="d">-</a> For <a href="visual.txt.html#Select" class="d">Select</a> mode: like <a href="visual.txt.html#Visual" class="d">Visual</a> mode but typing text replaces the selection.
<a href="motion.txt.html#-" class="d">-</a> For <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode: When an <a href="motion.txt.html#operator" class="d">operator</a> <a href="motion.txt.html#is" class="d">is</a> pending (after "<a href="change.txt.html#d" class="d">d</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="change.txt.html#y" class="d">y</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="change.txt.html#c" class="d">c</a>"<a href="motion.txt.html#%2C" class="d">,</a>
  etc.).  See below: <a href="map.txt.html#omap-info" class="l">omap-info</a><a href="repeat.txt.html#." class="d">.</a>
<a href="motion.txt.html#-" class="d">-</a> For <a href="insert.txt.html#Insert" class="d">Insert</a> mode.  These are also used in <a href="insert.txt.html#Replace" class="d">Replace</a> mode.
<a href="motion.txt.html#-" class="d">-</a> For <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode: When entering <a href="insert.txt.html#a" class="d">a</a> "<a href="cmdline.txt.html#%3A" class="d">:</a>" or "<a href="pattern.txt.html#%2F" class="d">/</a>" command.
<a href="motion.txt.html#-" class="d">-</a> For Terminal mode: When typing in <a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#%3Aterminal" class="l">:terminal</a> buffer.

<a href="eval.txt.html#Special" class="d">Special</a> case: While typing <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a> for <a href="insert.txt.html#a" class="d">a</a> command in <a href="intro.txt.html#Normal" class="d">Normal</a> mode, <a href="map.txt.html#mapping" class="d">mapping</a> zero
<a href="motion.txt.html#is" class="d">is</a> disabled.  This makes <a href="motion.txt.html#it" class="d">it</a> possible to map zero without making <a href="motion.txt.html#it" class="d">it</a> impossible
to type <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a> with <a href="insert.txt.html#a" class="d">a</a> zero.

						<span id="map-overview" class="t">map-overview</span> <span id="map-modes" class="t">map-modes</span>
Overview of which map command works in which mode.  More details below.
<span class="h">     COMMANDS                    MODES </span>
<a href="map.txt.html#%3Amap" class="d">:map</a>   <a href="map.txt.html#%3Anoremap" class="d">:noremap</a>  <a href="map.txt.html#%3Aunmap" class="d">:unmap</a>     Normal, Visual, Select, <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a>
<a href="map.txt.html#%3Anmap" class="d">:nmap</a>  <a href="map.txt.html#%3Annoremap" class="d">:nnoremap</a> <a href="map.txt.html#%3Anunmap" class="d">:nunmap</a>    <a href="intro.txt.html#Normal" class="d">Normal</a>
<a href="map.txt.html#%3Avmap" class="d">:vmap</a>  <a href="map.txt.html#%3Avnoremap" class="d">:vnoremap</a> <a href="map.txt.html#%3Avunmap" class="d">:vunmap</a>    <a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="visual.txt.html#Select" class="d">Select</a>
<a href="map.txt.html#%3Asmap" class="d">:smap</a>  <a href="map.txt.html#%3Asnoremap" class="d">:snoremap</a> <a href="map.txt.html#%3Asunmap" class="d">:sunmap</a>    <a href="visual.txt.html#Select" class="d">Select</a>
<a href="map.txt.html#%3Axmap" class="d">:xmap</a>  <a href="map.txt.html#%3Axnoremap" class="d">:xnoremap</a> <a href="map.txt.html#%3Axunmap" class="d">:xunmap</a>    <a href="visual.txt.html#Visual" class="d">Visual</a>
<a href="map.txt.html#%3Aomap" class="d">:omap</a>  <a href="map.txt.html#%3Aonoremap" class="d">:onoremap</a> <a href="map.txt.html#%3Aounmap" class="d">:ounmap</a>    <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a>
<a href="map.txt.html#%3Amap%21" class="d">:map!</a>  <a href="map.txt.html#%3Anoremap%21" class="d">:noremap!</a> <a href="map.txt.html#%3Aunmap%21" class="d">:unmap!</a>    <a href="insert.txt.html#Insert" class="d">Insert</a> and <a href="cmdline.txt.html#Command-line" class="d">Command-line</a>
<a href="map.txt.html#%3Aimap" class="d">:imap</a>  <a href="map.txt.html#%3Ainoremap" class="d">:inoremap</a> <a href="map.txt.html#%3Aiunmap" class="d">:iunmap</a>    <a href="insert.txt.html#Insert" class="d">Insert</a>
<a href="map.txt.html#%3Almap" class="d">:lmap</a>  <a href="map.txt.html#%3Alnoremap" class="d">:lnoremap</a> <a href="map.txt.html#%3Alunmap" class="d">:lunmap</a>    Insert, Command-line, Lang-Arg
<a href="map.txt.html#%3Acmap" class="d">:cmap</a>  <a href="map.txt.html#%3Acnoremap" class="d">:cnoremap</a> <a href="map.txt.html#%3Acunmap" class="d">:cunmap</a>    <a href="cmdline.txt.html#Command-line" class="d">Command-line</a>
<a href="map.txt.html#%3Atmap" class="d">:tmap</a>  <a href="map.txt.html#%3Atnoremap" class="d">:tnoremap</a> <a href="map.txt.html#%3Atunmap" class="d">:tunmap</a>    <a href="terminal.txt.html#Terminal-Job" class="d">Terminal-Job</a>

Same information in <a href="insert.txt.html#a" class="d">a</a> table:
							<span id="map-table" class="t">map-table</span>
<span class="h">         Mode  | Norm | Ins | Cmd | Vis | Sel | Opr | Term | Lang | </span>
<span class="h">Command        +------+-----+-----+-----+-----+-----+------+------+ </span>
[nore]map      | yes  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes | yes | yes |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
n[nore]map     | yes  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
[nore]map!     |  <a href="motion.txt.html#-" class="d">-</a>   | yes | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
i[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
c[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
v[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
x[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
s[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
o[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>   |
t[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  | yes  |  <a href="motion.txt.html#-" class="d">-</a>   |
l[nore]map     |  <a href="motion.txt.html#-" class="d">-</a>   | yes | yes |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>  |  <a href="motion.txt.html#-" class="d">-</a>   | yes  |


<span class="h">    COMMANDS				      MODES </span>
<span class="h">				       Normal  Visual+Select  Operator-pending </span>
<a href="map.txt.html#%3Amap" class="d">:map</a>   <a href="map.txt.html#%3Anoremap" class="d">:noremap</a>   <a href="map.txt.html#%3Aunmap" class="d">:unmap</a>   <a href="map.txt.html#%3Amapclear" class="d">:mapclear</a>	 yes	    yes		   yes
<a href="map.txt.html#%3Anmap" class="d">:nmap</a>  <a href="map.txt.html#%3Annoremap" class="d">:nnoremap</a>  <a href="map.txt.html#%3Anunmap" class="d">:nunmap</a>  <a href="map.txt.html#%3Anmapclear" class="d">:nmapclear</a>	 yes	     <a href="motion.txt.html#-" class="d">-</a>		    <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Avmap" class="d">:vmap</a>  <a href="map.txt.html#%3Avnoremap" class="d">:vnoremap</a>  <a href="map.txt.html#%3Avunmap" class="d">:vunmap</a>  <a href="map.txt.html#%3Avmapclear" class="d">:vmapclear</a>	  <a href="motion.txt.html#-" class="d">-</a>	    yes		    <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Aomap" class="d">:omap</a>  <a href="map.txt.html#%3Aonoremap" class="d">:onoremap</a>  <a href="map.txt.html#%3Aounmap" class="d">:ounmap</a>  <a href="map.txt.html#%3Aomapclear" class="d">:omapclear</a>	  <a href="motion.txt.html#-" class="d">-</a>	     <a href="motion.txt.html#-" class="d">-</a>		   yes

<a href="map.txt.html#%3Anunmap" class="d">:nunmap</a> can also be used outside of <a href="insert.txt.html#a" class="d">a</a> monastery.
						<span id="mapmode-x" class="t">mapmode-x</span> <span id="mapmode-s" class="t">mapmode-s</span>
Some commands work both in <a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="visual.txt.html#Select" class="d">Select</a> mode, some in only one.  <span class="n">Note</span>
that quite often "<a href="visual.txt.html#Visual" class="d">Visual</a>" <a href="motion.txt.html#is" class="d">is</a> mentioned where both <a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="visual.txt.html#Select" class="d">Select</a> mode
apply. <a href="visual.txt.html#Select-mode-mapping" class="l">Select-mode-mapping</a>
<span class="n">NOTE:</span> Mapping <a href="insert.txt.html#a" class="d">a</a> printable character in <a href="visual.txt.html#Select" class="d">Select</a> mode may confuse the user.  It's
better to explicitly use <a href="map.txt.html#%3Axmap" class="d">:xmap</a> and <a href="map.txt.html#%3Asmap" class="d">:smap</a> for printable characters.  Or use
<a href="map.txt.html#%3Asunmap" class="d">:sunmap</a> after defining the mapping.

<span class="h">    COMMANDS				      MODES </span>
<span class="h">					  Visual    Select </span>
<a href="map.txt.html#%3Avmap" class="d">:vmap</a>  <a href="map.txt.html#%3Avnoremap" class="d">:vnoremap</a>  <a href="map.txt.html#%3Avunmap" class="d">:vunmap</a>  <a href="map.txt.html#%3Avmapclear" class="d">:vmapclear</a>	    yes      yes
<a href="map.txt.html#%3Axmap" class="d">:xmap</a>  <a href="map.txt.html#%3Axnoremap" class="d">:xnoremap</a>  <a href="map.txt.html#%3Axunmap" class="d">:xunmap</a>  <a href="map.txt.html#%3Axmapclear" class="d">:xmapclear</a>	    yes       <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Asmap" class="d">:smap</a>  <a href="map.txt.html#%3Asnoremap" class="d">:snoremap</a>  <a href="map.txt.html#%3Asunmap" class="d">:sunmap</a>  <a href="map.txt.html#%3Asmapclear" class="d">:smapclear</a>	    <a href="motion.txt.html#-" class="d">-</a>	     yes

			<span id="mapmode-ic" class="t">mapmode-ic</span> <span id="mapmode-i" class="t">mapmode-i</span> <span id="mapmode-c" class="t">mapmode-c</span> <span id="mapmode-l" class="t">mapmode-l</span>
Some commands work both in <a href="insert.txt.html#Insert" class="d">Insert</a> mode and <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode, some not:

<span class="h">    COMMANDS				      MODES </span>
<span class="h">					  Insert  Command-line	Lang-Arg </span>
<a href="map.txt.html#%3Amap%21" class="d">:map!</a>  <a href="map.txt.html#%3Anoremap%21" class="d">:noremap!</a>  <a href="map.txt.html#%3Aunmap%21" class="d">:unmap!</a>  <a href="map.txt.html#%3Amapclear%21" class="d">:mapclear!</a>	    yes	       yes	   <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Aimap" class="d">:imap</a>  <a href="map.txt.html#%3Ainoremap" class="d">:inoremap</a>  <a href="map.txt.html#%3Aiunmap" class="d">:iunmap</a>  <a href="map.txt.html#%3Aimapclear" class="d">:imapclear</a>	    yes		<a href="motion.txt.html#-" class="d">-</a>	   <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Acmap" class="d">:cmap</a>  <a href="map.txt.html#%3Acnoremap" class="d">:cnoremap</a>  <a href="map.txt.html#%3Acunmap" class="d">:cunmap</a>  <a href="map.txt.html#%3Acmapclear" class="d">:cmapclear</a>	     <a href="motion.txt.html#-" class="d">-</a>	       yes	   <a href="motion.txt.html#-" class="d">-</a>
<a href="map.txt.html#%3Almap" class="d">:lmap</a>  <a href="map.txt.html#%3Alnoremap" class="d">:lnoremap</a>  <a href="map.txt.html#%3Alunmap" class="d">:lunmap</a>  <a href="map.txt.html#%3Almapclear" class="d">:lmapclear</a>	    yes*       yes*	  yes*

* If <a href="options.txt.html#%27iminsert%27" class="o">'iminsert'</a> <a href="motion.txt.html#is" class="d">is</a> 1, see <a href="map.txt.html#language-mapping" class="l">language-mapping</a> below.

The original <a href="intro.txt.html#Vi" class="d">Vi</a> did not have separate mappings for
Normal/Visual/Operator-pending mode and for Insert/Command-line mode.
Therefore the "<a href="map.txt.html#%3Amap" class="d">:map</a>" and "<a href="map.txt.html#%3Amap%21" class="d">:map!</a>" commands enter and display mappings for
several modes.  In Vim you can use the "<a href="map.txt.html#%3Anmap" class="d">:nmap</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="map.txt.html#%3Avmap" class="d">:vmap</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="map.txt.html#%3Aomap" class="d">:omap</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="map.txt.html#%3Acmap" class="d">:cmap</a>" and
"<a href="map.txt.html#%3Aimap" class="d">:imap</a>" commands to enter mappings for each mode separately.

							<span id="mapmode-t" class="t">mapmode-t</span>
The <a href="terminal.txt.html#terminal" class="d">terminal</a> mappings are used in <a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#terminal" class="d">terminal</a> window, when typing keys for the
<a href="channel.txt.html#job" class="d">job</a> running in the terminal.  See <a href="terminal.txt.html#terminal-typing" class="l">terminal-typing</a><a href="repeat.txt.html#." class="d">.</a>

							<span id="omap-info" class="t">omap-info</span>
<a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mappings can be used to define <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#movement" class="d">movement</a> command that can be
used with any operator.  Simple example: 
<span class="e">	:omap { w</span>
makes "y{" work like "yw" and "d{" like "dw"<a href="repeat.txt.html#." class="d">.</a>

To ignore the <a href="starting.txt.html#starting" class="d">starting</a> cursor position and select different text, you can have
the omap start <a href="visual.txt.html#Visual" class="d">Visual</a> mode to select the text to be operated upon.  Example
that operates on <a href="insert.txt.html#a" class="d">a</a> function name in the current line: 
<span class="e">	onoremap &lt;silent&gt; F :&lt;C-U&gt;normal! 0f(hviw&lt;CR&gt;</span>
The <a href="scroll.txt.html#CTRL-U" class="k">CTRL-U</a> (&lt;C-U&gt;) <a href="motion.txt.html#is" class="d">is</a> used to remove the range that Vim may insert.  The
<a href="intro.txt.html#Normal" class="d">Normal</a> mode commands find the first '(' character and select the first <a href="motion.txt.html#word" class="d">word</a>
before it.  That usually <a href="motion.txt.html#is" class="d">is</a> the function name.

To enter <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> for <a href="intro.txt.html#Normal" class="d">Normal</a> and <a href="visual.txt.html#Visual" class="d">Visual</a> mode, but not <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode,
first define <a href="motion.txt.html#it" class="d">it</a> for all three modes, then unmap <a href="motion.txt.html#it" class="d">it</a> for
<a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode: 
<span class="e">	:map    xx something-difficult</span>
<span class="e">	:ounmap xx</span>
<span class="e"></span>
Likewise for <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> for <a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode or <a href="intro.txt.html#Normal" class="d">Normal</a> and
<a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a> mode.

						<span id="language-mapping" class="t">language-mapping</span>
"<a href="map.txt.html#%3Almap" class="d">:lmap</a>" defines <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> that applies to:
<a href="motion.txt.html#-" class="d">-</a> <a href="insert.txt.html#Insert" class="d">Insert</a> mode
<a href="motion.txt.html#-" class="d">-</a> <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode
<a href="motion.txt.html#-" class="d">-</a> when entering <a href="insert.txt.html#a" class="d">a</a> search <a href="pattern.txt.html#pattern" class="d">pattern</a>
<a href="motion.txt.html#-" class="d">-</a> the argument of the commands that accept <a href="insert.txt.html#a" class="d">a</a> text character, such <a href="motion.txt.html#as" class="d">as</a> "<a href="change.txt.html#r" class="d">r</a>" and
  "<a href="motion.txt.html#f" class="d">f</a>"
<a href="motion.txt.html#-" class="d">-</a> for the <a href="builtin.txt.html#input%28%29" class="d">input()</a> line
Generally: Whenever <a href="insert.txt.html#a" class="d">a</a> character <a href="motion.txt.html#is" class="d">is</a> to be typed that <a href="motion.txt.html#is" class="d">is</a> part of the text in the
buffer, not <a href="insert.txt.html#a" class="d">a</a> Vim command character.  "Lang-Arg" isn't really another mode,
it's just used here for this situation.
   The simplest way to load <a href="insert.txt.html#a" class="d">a</a> set of related language mappings <a href="motion.txt.html#is" class="d">is</a> by using the
<a href="options.txt.html#%27keymap%27" class="o">'keymap'</a> option.  See <a href="usr_45.txt.html#45.5" class="l">45.5</a><a href="repeat.txt.html#." class="d">.</a>
   In <a href="insert.txt.html#Insert" class="d">Insert</a> mode and in <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode the mappings can be disabled with
the <a href="editing.txt.html#CTRL-%5E" class="k">CTRL-^</a> command <a href="insert.txt.html#i_CTRL-%5E" class="l">i_CTRL-^</a> <a href="cmdline.txt.html#c_CTRL-%5E" class="l">c_CTRL-^</a><a href="repeat.txt.html#." class="d">.</a>  These commands change the value of
the <a href="options.txt.html#%27iminsert%27" class="o">'iminsert'</a> option.  When <a href="starting.txt.html#starting" class="d">starting</a> to enter <a href="insert.txt.html#a" class="d">a</a> normal command line (not <a href="insert.txt.html#a" class="d">a</a>
search pattern) the mappings are disabled until <a href="insert.txt.html#a" class="d">a</a> <a href="editing.txt.html#CTRL-%5E" class="k">CTRL-^</a> <a href="motion.txt.html#is" class="d">is</a> typed.  The state
last used <a href="motion.txt.html#is" class="d">is</a> remembered for <a href="insert.txt.html#Insert" class="d">Insert</a> mode and Search patterns separately.  The
state for <a href="insert.txt.html#Insert" class="d">Insert</a> mode <a href="motion.txt.html#is" class="d">is</a> also used when typing <a href="insert.txt.html#a" class="d">a</a> character <a href="motion.txt.html#as" class="d">as</a> an argument to
command like "<a href="motion.txt.html#f" class="d">f</a>" or "<a href="motion.txt.html#t" class="d">t</a>"<a href="repeat.txt.html#." class="d">.</a>
   Language mappings will never be applied to already mapped characters.  They
are only used for typed characters.  This assumes that the language <a href="map.txt.html#mapping" class="d">mapping</a>
was already done when typing the mapping.


1.4 LISTING MAPPINGS					<span id="map-listing" class="t">map-listing</span>

When listing mappings the characters in the first two columns are:

<span class="h">      CHAR	MODE	</span>
     <a href="motion.txt.html#%3CSpace%3E" class="s">&lt;Space&gt;</a>	Normal, Visual, <a href="visual.txt.html#Select" class="d">Select</a> and <a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a>
	<a href="pattern.txt.html#n" class="d">n</a>	<a href="intro.txt.html#Normal" class="d">Normal</a>
	<a href="visual.txt.html#v" class="d">v</a>	<a href="visual.txt.html#Visual" class="d">Visual</a> and <a href="visual.txt.html#Select" class="d">Select</a>
	<a href="change.txt.html#s" class="d">s</a>	<a href="visual.txt.html#Select" class="d">Select</a>
	<a href="change.txt.html#x" class="d">x</a>	<a href="visual.txt.html#Visual" class="d">Visual</a>
	<a href="insert.txt.html#o" class="d">o</a>	<a href="intro.txt.html#Operator-pending" class="d">Operator-pending</a>
	<a href="change.txt.html#%21" class="d">!</a>	<a href="insert.txt.html#Insert" class="d">Insert</a> and <a href="cmdline.txt.html#Command-line" class="d">Command-line</a>
	<a href="insert.txt.html#i" class="d">i</a>	<a href="insert.txt.html#Insert" class="d">Insert</a>
	<a href="motion.txt.html#l" class="d">l</a>	"<a href="map.txt.html#%3Almap" class="d">:lmap</a>" mappings for Insert, <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> and Lang-Arg
	<a href="change.txt.html#c" class="d">c</a>	<a href="cmdline.txt.html#Command-line" class="d">Command-line</a>
	<a href="motion.txt.html#t" class="d">t</a>	<a href="terminal.txt.html#Terminal-Job" class="d">Terminal-Job</a>

Just before the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> <a href="insert.txt.html#a" class="d">a</a> special character can appear:
	*	indicates that <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not remappable
	<a href="change.txt.html#%26" class="d">&amp;</a>	indicates that only <a href="map.txt.html#script-local" class="d">script-local</a> mappings are remappable
	<a href="repeat.txt.html#%40" class="d">@</a>	indicates <a href="insert.txt.html#a" class="d">a</a> buffer-local <a href="map.txt.html#mapping" class="d">mapping</a>

Everything from the first non-blank after <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> up to the <a href="intro.txt.html#end" class="d">end</a> of the line
(or <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27%29" class="d">')</a> <a href="motion.txt.html#is" class="d">is</a> considered to be part of <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  This allows the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> to <a href="intro.txt.html#end" class="d">end</a>
with <a href="insert.txt.html#a" class="d">a</a> space.

<span class="n">Note:</span> When using mappings for <a href="visual.txt.html#Visual" class="d">Visual</a> mode, you can use the "<a href="motion.txt.html#%27%3C" class="d">'&lt;</a>" mark, which
<a href="motion.txt.html#is" class="d">is</a> the start of the last selected <a href="visual.txt.html#Visual" class="d">Visual</a> area in the current buffer <a href="motion.txt.html#%27%3C" class="l">'&lt;</a><a href="repeat.txt.html#." class="d">.</a>

The <a href="various.txt.html#%3Afilter" class="l">:filter</a> command can be used to select what mappings to list.  The
<a href="pattern.txt.html#pattern" class="d">pattern</a> <a href="motion.txt.html#is" class="d">is</a> matched against the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> and <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> in the raw form.

While mappings are being listed, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not possible to add or clear mappings,
e.g. from <a href="insert.txt.html#a" class="d">a</a> <a href="builtin.txt.html#timer" class="d">timer</a> callback. <span id="E1309" class="t">E1309</span>

							<span id="%3Amap-verbose" class="t">:map-verbose</span>
When <a href="options.txt.html#%27verbose%27" class="o">'verbose'</a> <a href="motion.txt.html#is" class="d">is</a> non-zero, the detected and used <a href="options.txt.html#%27keyprotocol%27" class="o">'keyprotocol'</a> value will be
displayed in the first line.  Also <a href="insert.txt.html#a" class="d">a</a> key map will also display where <a href="motion.txt.html#it" class="d">it</a> was
last defined.  Example: 
<span class="e"></span>
<span class="e">	:verbose map &lt;C-W&gt;*</span>
<span class="e">	Kitty keyboard protocol: Cleared</span>
<span class="e">	n  &lt;C-W&gt;*      * &lt;C-W&gt;&lt;C-S&gt;*</span>
<span class="e">		Last set from /home/abcd/.vimrc</span>
<span class="e"></span>
See <a href="various.txt.html#%3Averbose-cmd" class="l">:verbose-cmd</a> for more information.


1.5 MAPPING SPECIAL KEYS				<span id="%3Amap-special-keys" class="t">:map-special-keys</span>

There are three ways to map <a href="insert.txt.html#a" class="d">a</a> special key:
1. The Vi-compatible method: Map the key code.  Often this <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> sequence that
   starts with <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>.  To enter <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> like this you type "<a href="map.txt.html#%3Amap" class="d">:map</a> " and then
   you have to type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> before hitting the function key.  <span class="n">Note</span> that when
   the key code for the key <a href="motion.txt.html#is" class="d">is</a> in the <a href="term.txt.html#termcap" class="d">termcap</a> (the t_ options), <a href="motion.txt.html#it" class="d">it</a> will
   automatically be translated into the internal code and become the second
   way of <a href="map.txt.html#mapping" class="d">mapping</a> (unless the 'k' flag <a href="motion.txt.html#is" class="d">is</a> included in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>).
2. The second <a href="eval.txt.html#method" class="d">method</a> <a href="motion.txt.html#is" class="d">is</a> to use the internal code for the function key.  To
   enter such <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> type <span class="k">CTRL-K</span> and then hit the function key, or use
   the form "#1"<a href="motion.txt.html#%2C" class="d">,</a> "#2"<a href="motion.txt.html#%2C" class="d">,</a> .. "#9"<a href="motion.txt.html#%2C" class="d">,</a> "#0"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#%3CUp%3E" class="s">&lt;Up&gt;</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="scroll.txt.html#%3CS-Down%3E" class="s">&lt;S-Down&gt;</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="term.txt.html#%3CS-F7%3E" class="s">&lt;S-F7&gt;</a>"<a href="motion.txt.html#%2C" class="d">,</a> etc.
   (see table of keys <a href="intro.txt.html#key-notation" class="l">key-notation</a><a href="motion.txt.html#%2C" class="d">,</a> all keys from <a href="motion.txt.html#%3CUp%3E" class="s">&lt;Up&gt;</a> can be used).  The
   first ten function keys can be defined in two ways: Just the number, like
   "#2"<a href="motion.txt.html#%2C" class="d">,</a> and with "<span class="s">&lt;F&gt;</span>"<a href="motion.txt.html#%2C" class="d">,</a> like "<a href="term.txt.html#%3CF2%3E" class="s">&lt;F2&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>  Both stand for function key 2.  "#0"
   refers to function key 10, defined with option 't_f10', which may be
   function key zero on some keyboards.  The <a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> form cannot be used when
   <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the '&lt;' flag.
3. Use the <a href="term.txt.html#termcap" class="d">termcap</a> entry, with the form <span class="s">&lt;t_xx&gt;</span>, where "xx" <a href="motion.txt.html#is" class="d">is</a> the name of the
   <a href="term.txt.html#termcap" class="d">termcap</a> entry.  Any <a href="eval.txt.html#string" class="d">string</a> entry can be used.  For example: 
<span class="e">     :map &lt;t_F3&gt; G</span>
  Maps function key 13 to "<a href="motion.txt.html#G" class="d">G</a>"<a href="repeat.txt.html#." class="d">.</a>  This does not work if <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes
   the '&lt;' flag.

The advantage of the second and third <a href="eval.txt.html#method" class="d">method</a> <a href="motion.txt.html#is" class="d">is</a> that the <a href="map.txt.html#mapping" class="d">mapping</a> will work on
different terminals without modification (the function key will be
translated into the same internal code or the actual key code, no matter what
<a href="terminal.txt.html#terminal" class="d">terminal</a> you are using.  The <a href="term.txt.html#termcap" class="d">termcap</a> <a href="vim_faq.txt.html#must" class="d">must</a> be correct for this to work, and you
<a href="vim_faq.txt.html#must" class="d">must</a> use the same mappings).

DETAIL: Vim first checks if <a href="insert.txt.html#a" class="d">a</a> sequence from the keyboard <a href="motion.txt.html#is" class="d">is</a> mapped.  If <a href="motion.txt.html#it" class="d">it</a>
isn't the <a href="terminal.txt.html#terminal" class="d">terminal</a> key codes are tried (see <a href="term.txt.html#terminal-options" class="l">terminal-options</a>).  If <a href="insert.txt.html#a" class="d">a</a>
<a href="terminal.txt.html#terminal" class="d">terminal</a> code <a href="motion.txt.html#is" class="d">is</a> found <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> replaced with the internal code.  Then the check
for <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> done again (so you can map an internal code to something
else).  What <a href="motion.txt.html#is" class="d">is</a> written into the <a href="usr_41.txt.html#script" class="d">script</a> file depends on what <a href="motion.txt.html#is" class="d">is</a> recognized.
If the <a href="terminal.txt.html#terminal" class="d">terminal</a> key code was recognized <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> the key code itself <a href="motion.txt.html#is" class="d">is</a>
written to the <a href="usr_41.txt.html#script" class="d">script</a> file.  If <a href="motion.txt.html#it" class="d">it</a> was recognized <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#terminal" class="d">terminal</a> code the
internal code <a href="motion.txt.html#is" class="d">is</a> written to the <a href="usr_41.txt.html#script" class="d">script</a> file.


1.6 SPECIAL CHARACTERS					<span id="%3Amap-special-chars" class="t">:map-special-chars</span>
						<span id="map_backslash" class="t">map_backslash</span> <span id="map-backslash" class="t">map-backslash</span>
<span class="n">Note</span> that only <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#is" class="d">is</a> mentioned here <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> special character for mappings
and abbreviations.  When <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> does not contain 'B', <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> can
also be used like <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>.  The <a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> <a href="intro.txt.html#notation" class="d">notation</a> can be fully used then <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a><a href="repeat.txt.html#." class="d">.</a>  But
you cannot use "<span class="s">&lt;C-V&gt;</span>" like <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> to <a href="intro.txt.html#escape" class="d">escape</a> the special meaning of what
follows.

To map <a href="insert.txt.html#a" class="d">a</a> backslash, or use <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> literally in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>, the special
sequence "<a href="intro.txt.html#%3CBslash%3E" class="s">&lt;Bslash&gt;</a>" can be used.  This avoids the need to double backslashes
when using nested mappings.

						<span id="map_CTRL-C" class="t">map_CTRL-C</span> <span id="map-CTRL-C" class="t">map-CTRL-C</span>
Using <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a> in the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="motion.txt.html#is" class="d">is</a> possible, but <a href="motion.txt.html#it" class="d">it</a> will only work when Vim <a href="motion.txt.html#is" class="d">is</a>
waiting for <a href="insert.txt.html#a" class="d">a</a> key, not when Vim <a href="motion.txt.html#is" class="d">is</a> busy with something.  When Vim <a href="motion.txt.html#is" class="d">is</a> busy
<a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a> interrupts/breaks the command.
When using the <a href="gui.txt.html#GUI" class="d">GUI</a> version on <a href="os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> <a href="pattern.txt.html#CTRL-C" class="k">CTRL-C</a> can be mapped to allow <a href="insert.txt.html#a" class="d">a</a> Copy
command to the clipboard.  Use <span class="k">CTRL-Break</span> to interrupt Vim.

					<span id="map_space_in_lhs" class="t">map_space_in_lhs</span> <span id="map-space_in_lhs" class="t">map-space_in_lhs</span>
To include <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> in <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> precede <a href="motion.txt.html#it" class="d">it</a> with <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> (type two <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>s for
each space).
					<span id="map_space_in_rhs" class="t">map_space_in_rhs</span> <span id="map-space_in_rhs" class="t">map-space_in_rhs</span>
If you want <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> that starts with <a href="insert.txt.html#a" class="d">a</a> space, use "<a href="motion.txt.html#%3CSpace%3E" class="s">&lt;Space&gt;</a>"<a href="repeat.txt.html#." class="d">.</a>  To be fully <a href="intro.txt.html#Vi" class="d">Vi</a>
compatible (but unreadable) don't use the <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a> notation, precede <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> with <a href="insert.txt.html#a" class="d">a</a>
single <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> (you have to type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> two times).
						<span id="map_empty_rhs" class="t">map_empty_rhs</span> <span id="map-empty-rhs" class="t">map-empty-rhs</span>
You can create an empty <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> by typing nothing after <a href="insert.txt.html#a" class="d">a</a> single <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> (you
have to type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> two times).  Unfortunately, you cannot <a href="diff.txt.html#do" class="d">do</a> this in <a href="insert.txt.html#a" class="d">a</a> <a href="starting.txt.html#vimrc" class="d">vimrc</a>
file.
							<span id="%3CNop%3E" class="t">&lt;Nop&gt;</span>
An easier way to get <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> that doesn't produce anything, <a href="motion.txt.html#is" class="d">is</a> to use
"<a href="map.txt.html#%3CNop%3E" class="s">&lt;Nop&gt;</a>" for the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  This only works when the <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a> <a href="intro.txt.html#notation" class="d">notation</a> <a href="motion.txt.html#is" class="d">is</a> enabled.
For example, to make sure that function key 8 does nothing <a href="motion.txt.html#at" class="d">at</a> all: 
<span class="e">	:map  &lt;F8&gt;  &lt;Nop&gt;</span>
<span class="e">	:map! &lt;F8&gt;  &lt;Nop&gt;</span>

							<span id="map-multibyte" class="t">map-multibyte</span>
It <a href="motion.txt.html#is" class="d">is</a> possible to map <a href="mbyte.txt.html#multibyte" class="d">multibyte</a> characters, but only the whole character.  You
cannot map the first byte only.  This was done to prevent problems in this
scenario: 
<span class="e">	:set encoding=latin1</span>
<span class="e">	:imap &lt;M-C&gt; foo</span>
<span class="e">	:set encoding=utf-8</span>
The <a href="map.txt.html#mapping" class="d">mapping</a> for <span class="s">&lt;M-C&gt;</span> <a href="motion.txt.html#is" class="d">is</a> defined with the latin1 encoding, resulting in <a href="insert.txt.html#a" class="d">a</a> 0xc3
byte.  If you type the character á (0xe1 <span class="s">&lt;M-a&gt;</span>) in <a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> encoding this <a href="motion.txt.html#is" class="d">is</a> the
two bytes 0xc3 0xa1.  You don't want the 0xc3 byte to be mapped then or
otherwise <a href="motion.txt.html#it" class="d">it</a> would be impossible to type the á character.

					<span id="%3CLeader%3E" class="t">&lt;Leader&gt;</span> <span id="mapleader" class="t">mapleader</span>
To define <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> which uses the "g:mapleader" variable, the special <a href="eval.txt.html#string" class="d">string</a>
"<a href="map.txt.html#%3CLeader%3E" class="s">&lt;Leader&gt;</a>" can be used.  It <a href="motion.txt.html#is" class="d">is</a> replaced with the <a href="eval.txt.html#string" class="d">string</a> value of
"g:mapleader"<a href="repeat.txt.html#." class="d">.</a>  If "g:mapleader" <a href="motion.txt.html#is" class="d">is</a> not set or empty, <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a> <a href="motion.txt.html#is" class="d">is</a> used
instead.  Example: 
<span class="e">	map &lt;Leader&gt;A  oanother line&lt;Esc&gt;</span>
Works like: 
<span class="e">	map \A  oanother line&lt;Esc&gt;</span>
But after (legacy script): 
<span class="e">	let mapleader = ","</span>
Or (Vim9 script): 
<span class="e">	g:mapleader = ","</span>
It works like: 
<span class="e">	map ,A  oanother line&lt;Esc&gt;</span>
<span class="e"></span>
<span class="n">Note</span> that the value of "g:mapleader" <a href="motion.txt.html#is" class="d">is</a> used <a href="motion.txt.html#at" class="d">at</a> the moment the <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a>
defined.  Changing "g:mapleader" after that has no effect for already defined
mappings.

					<span id="%3CLocalLeader%3E" class="t">&lt;LocalLeader&gt;</span> <span id="maplocalleader" class="t">maplocalleader</span>
<a href="map.txt.html#%3CLocalLeader%3E" class="s">&lt;LocalLeader&gt;</a> <a href="motion.txt.html#is" class="d">is</a> just like <a href="map.txt.html#%3CLeader%3E" class="s">&lt;Leader&gt;</a>, except that <a href="motion.txt.html#it" class="d">it</a> uses "<a href="map.txt.html#maplocalleader" class="d">maplocalleader</a>"
instead of "<a href="map.txt.html#mapleader" class="d">mapleader</a>"<a href="repeat.txt.html#." class="d">.</a>  <a href="map.txt.html#%3CLocalLeader%3E" class="s">&lt;LocalLeader&gt;</a> <a href="motion.txt.html#is" class="d">is</a> to be used for mappings which are
local to <a href="insert.txt.html#a" class="d">a</a> buffer.  Example: 
<span class="e">      :map &lt;buffer&gt; &lt;LocalLeader&gt;A  oanother line&lt;Esc&gt;</span>

In <a href="insert.txt.html#a" class="d">a</a> global <a href="usr_05.txt.html#plugin" class="d">plugin</a> <a href="map.txt.html#%3CLeader%3E" class="s">&lt;Leader&gt;</a> should be used and in <a href="insert.txt.html#a" class="d">a</a> <a href="filetype.txt.html#filetype" class="d">filetype</a> <a href="usr_05.txt.html#plugin" class="d">plugin</a>
<a href="map.txt.html#%3CLocalLeader%3E" class="s">&lt;LocalLeader&gt;</a>.  "<a href="map.txt.html#mapleader" class="d">mapleader</a>" and "<a href="map.txt.html#maplocalleader" class="d">maplocalleader</a>" can be equal.  Although, if
you make them different, there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> smaller chance of mappings from global
plugins to clash with mappings for <a href="filetype.txt.html#filetype" class="d">filetype</a> plugins.  For example, you could
keep "<a href="map.txt.html#mapleader" class="d">mapleader</a>" <a href="motion.txt.html#at" class="d">at</a> the default backslash, and set "<a href="map.txt.html#maplocalleader" class="d">maplocalleader</a>" to an
underscore.

							<span id="map-%3CSID%3E" class="t">map-&lt;SID&gt;</span>
In <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> the special key name "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" can be used to define <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a>
that's local to the script.  See <a href="map.txt.html#%3CSID%3E" class="l">&lt;SID&gt;</a> for details.

							<span id="%3CPlug%3E" class="t">&lt;Plug&gt;</span>
The special key name "<a href="map.txt.html#%3CPlug%3E" class="s">&lt;Plug&gt;</a>" can be used for an internal mapping, which <a href="motion.txt.html#is" class="d">is</a>
not to be matched with any key sequence.  This <a href="motion.txt.html#is" class="d">is</a> useful in plugins
<a href="usr_51.txt.html#using-%3CPlug%3E" class="l">using-&lt;Plug&gt;</a><a href="repeat.txt.html#." class="d">.</a>

							<span id="%3CMouseMove%3E" class="t">&lt;MouseMove&gt;</span>
The special key name "<a href="map.txt.html#%3CMouseMove%3E" class="s">&lt;MouseMove&gt;</a>" can be used to handle mouse movement.  It
needs to be enabled with <a href="options.txt.html#%27mousemoveevent%27" class="o">'mousemoveevent'</a>.  Currently only works in the GUI.
The <a href="builtin.txt.html#getmousepos%28%29" class="l">getmousepos()</a> function can be used to obtain the mouse position.

							<span id="%3CChar%3E" class="t">&lt;Char&gt;</span> <span id="%3CChar-%3E" class="t">&lt;Char-&gt;</span>
To map <a href="insert.txt.html#a" class="d">a</a> character by its decimal, <a href="eval.txt.html#octal" class="d">octal</a> or hexadecimal number the <a href="map.txt.html#%3CChar%3E" class="s">&lt;Char&gt;</a>
construct can be used:
	<span class="s">&lt;Char-123&gt;</span>	character 123
	<span class="s">&lt;Char-033&gt;</span>	character 27
	<span class="s">&lt;Char-0x7f&gt;</span>	character 127
	<span class="s">&lt;S-Char-114&gt;</span>    character 114 ('r') shifted ('R')
This <a href="motion.txt.html#is" class="d">is</a> useful to specify <a href="insert.txt.html#a" class="d">a</a> (multibyte) character in <a href="insert.txt.html#a" class="d">a</a> <a href="options.txt.html#%27keymap%27" class="o">'keymap'</a> file.
Upper and <a href="change.txt.html#lowercase" class="d">lowercase</a> differences are ignored.

							<span id="map-comments" class="t">map-comments</span>
It <a href="motion.txt.html#is" class="d">is</a> not possible to <a href="change.txt.html#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> comment after these commands, because the <a href="motion.txt.html#%27" class="d">'</a>"<a href="motion.txt.html#%27" class="d">'</a>
character <a href="motion.txt.html#is" class="d">is</a> considered to be part of the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> or <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  However, one can
use |"<a href="motion.txt.html#%2C" class="d">,</a> since this starts <a href="insert.txt.html#a" class="d">a</a> new, empty command with <a href="insert.txt.html#a" class="d">a</a> comment.

							<span id="map_bar" class="t">map_bar</span> <span id="map-bar" class="t">map-bar</span>
Since the <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> character <a href="motion.txt.html#is" class="d">is</a> used to separate <a href="insert.txt.html#a" class="d">a</a> map command from the next
command, you will have to <a href="diff.txt.html#do" class="d">do</a> something special to include  <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> in <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.
There are three methods:
<span class="h">   use	     works when			   example	</span>
   <a href="intro.txt.html#%3CBar%3E" class="s">&lt;Bar&gt;</a>     '&lt;' <a href="motion.txt.html#is" class="d">is</a> not in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>	   <a href="map.txt.html#%3Amap" class="d">:map</a> _l :!ls <a href="intro.txt.html#%3CBar%3E" class="s">&lt;Bar&gt;</a> more^M
   \|	     'b' <a href="motion.txt.html#is" class="d">is</a> not in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>	   <a href="map.txt.html#%3Amap" class="d">:map</a> _l :!ls \| more^M
   ^V|	     always, in Vim and <a href="intro.txt.html#Vi" class="d">Vi</a>	   <a href="map.txt.html#%3Amap" class="d">:map</a> _l :!ls ^V| more^M

(here ^V stands for <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>; to get one <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> you have to type <a href="motion.txt.html#it" class="d">it</a> twice; you
cannot use the <a href="intro.txt.html#%3C%3E" class="d">&lt;&gt;</a> <a href="intro.txt.html#notation" class="d">notation</a> "<span class="s">&lt;C-V&gt;</span>" here).

All three work when you use the default setting for <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>.

When 'b' <a href="motion.txt.html#is" class="d">is</a> present in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>, "\|" will be recognized <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a>
ending in <a href="insert.txt.html#a" class="d">a</a> '\' and then another command.  This <a href="motion.txt.html#is" class="d">is</a> <a href="intro.txt.html#Vi" class="d">Vi</a> compatible, but
illogical when compared to other commands.

						<span id="map_return" class="t">map_return</span> <span id="map-return" class="t">map-return</span>
When you have <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> that contains an <a href="intro.txt.html#Ex" class="d">Ex</a> command, you need to <a href="change.txt.html#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> line
terminator after <a href="motion.txt.html#it" class="d">it</a> to have <a href="motion.txt.html#it" class="d">it</a> executed.  The use of <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> <a href="motion.txt.html#is" class="d">is</a> recommended for
this (see <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a>).  Example: 
<span class="e">   :map  _ls  :!ls -l %:S&lt;CR&gt;:echo "the end"&lt;CR&gt;</span>
<span class="e"></span>
To avoid <a href="map.txt.html#mapping" class="d">mapping</a> of the characters you type in <a href="insert.txt.html#insert" class="d">insert</a> or <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode,
type <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> first.  The <a href="map.txt.html#mapping" class="d">mapping</a> in <a href="insert.txt.html#Insert" class="d">Insert</a> mode <a href="motion.txt.html#is" class="d">is</a> disabled if the <a href="options.txt.html#%27paste%27" class="o">'paste'</a>
option <a href="motion.txt.html#is" class="d">is</a> on.
							<span id="map-error" class="t">map-error</span>
<span class="n">Note</span> that when an error <a href="motion.txt.html#is" class="d">is</a> encountered (that causes an error message or might
cause <a href="insert.txt.html#a" class="d">a</a> beep) the rest of the <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> not executed.  This <a href="motion.txt.html#is" class="d">is</a> Vi-compatible.

<span class="n">Note</span> that the second character (argument) of the commands @zZtTfF[]rm'`"<a href="visual.txt.html#v" class="d">v</a>
and <a href="change.txt.html#CTRL-X" class="k">CTRL-X</a> <a href="motion.txt.html#is" class="d">is</a> not mapped.  This was done to be able to use all the named
<a href="change.txt.html#registers" class="d">registers</a> and marks, even when the command with the same name has been
mapped.


1.7 WHAT KEYS TO MAP					<span id="map-which-keys" class="t">map-which-keys</span>

If you are going to map something, you will need to choose which key(s) to use
for the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>.  You will have to avoid keys that are used for Vim commands,
otherwise you would not be able to use those commands anymore.  Here are <a href="insert.txt.html#a" class="d">a</a> few
suggestions:
<a href="motion.txt.html#-" class="d">-</a> Function keys <a href="term.txt.html#%3CF2%3E" class="s">&lt;F2&gt;</a>, <a href="term.txt.html#%3CF3%3E" class="s">&lt;F3&gt;</a>, etc..  Also the shifted function keys <a href="intro.txt.html#%3CS-F1%3E" class="s">&lt;S-F1&gt;</a>,
  <a href="term.txt.html#%3CS-F2%3E" class="s">&lt;S-F2&gt;</a>, etc.  <span class="n">Note</span> that <a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a> <a href="motion.txt.html#is" class="d">is</a> already used for the <a href="helphelp.txt.html#help" class="d">help</a> command.
<a href="motion.txt.html#-" class="d">-</a> Any key with the Alt or Meta key pressed.  Depending on your keyboard
  accented characters may be used <a href="motion.txt.html#as" class="d">as</a> well. <a href="map.txt.html#%3Amap-alt-keys" class="l">:map-alt-keys</a>
<a href="motion.txt.html#-" class="d">-</a> Use the '_' or ',' character and then any other character.  The "<a href="motion.txt.html#_" class="d">_</a>" and "<a href="motion.txt.html#%2C" class="d">,</a>"
  commands <a href="diff.txt.html#do" class="d">do</a> exist in Vim (see <a href="motion.txt.html#_" class="l">_</a> and <a href="motion.txt.html#%2C" class="l">,</a>), but you probably never use them.
<a href="motion.txt.html#-" class="d">-</a> Use <a href="insert.txt.html#a" class="d">a</a> key that <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> synonym for another command.  For example: <a href="motion.txt.html#CTRL-P" class="k">CTRL-P</a> and
  <a href="motion.txt.html#CTRL-N" class="k">CTRL-N</a>.  Use an extra character to allow more mappings.
<a href="motion.txt.html#-" class="d">-</a> The key defined by <a href="map.txt.html#%3CLeader%3E" class="s">&lt;Leader&gt;</a> and one or more other keys.  This <a href="motion.txt.html#is" class="d">is</a> especially
  useful in scripts. <a href="map.txt.html#mapleader" class="l">mapleader</a>

See the file "<a href="index.txt.html#index" class="d">index</a>" for keys that are not used and thus can be mapped without
losing any builtin function.  You can also use "<a href="helphelp.txt.html#%3Ahelp" class="d">:help</a> <span class="s">{key}</span>^D" to find out if
<a href="insert.txt.html#a" class="d">a</a> key <a href="motion.txt.html#is" class="d">is</a> used for some command.  ({key} <a href="motion.txt.html#is" class="d">is</a> the specific key you want to find
out about, ^D <a href="motion.txt.html#is" class="d">is</a> <a href="scroll.txt.html#CTRL-D" class="k">CTRL-D</a>).


1.8 EXAMPLES						<span id="map-examples" class="t">map-examples</span>

<a href="insert.txt.html#A" class="d">A</a> few examples (given <a href="motion.txt.html#as" class="d">as</a> you type them, for "<a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a>" you type four characters;
the '&lt;' flag <a href="vim_faq.txt.html#must" class="d">must</a> not be present in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> for this to work). 
<span class="e"></span>
<span class="e">   :map &lt;F3&gt;  o#include</span>
<span class="e">   :map &lt;M-g&gt; /foo&lt;CR&gt;cwbar&lt;Esc&gt;</span>
<span class="e">   :map _x    d/END/e&lt;CR&gt;</span>
<span class="e">   :map! qq   quadrillion questions</span>
<span class="e"></span>
<span class="e"></span>
Multiplying <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a>

When you type <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#count" class="d">count</a> before triggering <a href="insert.txt.html#a" class="d">a</a> mapping, it's like the <a href="intro.txt.html#count" class="d">count</a> was
typed before the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>.  For example, with this mapping: 
<span class="e">   :map &lt;F4&gt;  3w</span>
Typing 2&lt;F4&gt; will result in "23w"<a href="repeat.txt.html#." class="d">.</a>  Thus not moving 2 * 3 words but 23 words.
If you want to multiply counts use the <a href="eval.txt.html#expression" class="d">expression</a> register: 
<span class="e">   :map &lt;F4&gt;  @='3w'&lt;CR&gt;</span>
The part between <a href="quotes.txt.html#quotes" class="d">quotes</a> <a href="motion.txt.html#is" class="d">is</a> the <a href="eval.txt.html#expression" class="d">expression</a> being executed. <a href="change.txt.html#%40%3D" class="l">@=</a>


1.9 USING MAPPINGS					<span id="map-typing" class="t">map-typing</span>

Vim will compare what you type with the start of <a href="insert.txt.html#a" class="d">a</a> mapped sequence.  If there
<a href="motion.txt.html#is" class="d">is</a> an incomplete match, <a href="motion.txt.html#it" class="d">it</a> will get more characters until there either <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a>
complete match or until there <a href="motion.txt.html#is" class="d">is</a> no match <a href="motion.txt.html#at" class="d">at</a> all.  Example: If you map! "qq"<a href="motion.txt.html#%2C" class="d">,</a>
the first 'q' will not appear on the screen until you type another
character.  This <a href="motion.txt.html#is" class="d">is</a> because Vim cannot know if the next character will be <a href="insert.txt.html#a" class="d">a</a>
'q' or not.  If the <a href="options.txt.html#%27timeout%27" class="o">'timeout'</a> option <a href="motion.txt.html#is" class="d">is</a> on (which <a href="motion.txt.html#is" class="d">is</a> the default) Vim will
only wait for one second (or <a href="motion.txt.html#as" class="d">as</a> long <a href="motion.txt.html#as" class="d">as</a> specified with the <a href="options.txt.html#%27timeoutlen%27" class="o">'timeoutlen'</a>
option).  After that <a href="motion.txt.html#it" class="d">it</a> assumes that the 'q' <a href="motion.txt.html#is" class="d">is</a> to be interpreted <a href="motion.txt.html#as" class="d">as</a> such.  If
you type slowly, or your system <a href="motion.txt.html#is" class="d">is</a> slow, reset the <a href="options.txt.html#%27timeout%27" class="o">'timeout'</a> option.  Then you
might want to set the <a href="options.txt.html#%27ttimeout%27" class="o">'ttimeout'</a> option.

							<span id="map-precedence" class="t">map-precedence</span>
Buffer-local mappings (defined using <a href="map.txt.html#%3Amap-%3Cbuffer%3E" class="l">:map-&lt;buffer&gt;</a><a href="motion.txt.html#%29" class="d">)</a> take precedence over
global mappings.  When <a href="insert.txt.html#a" class="d">a</a> buffer-local <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> the same <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> global mapping,
Vim will use the buffer-local mapping.  In addition, Vim will use <a href="insert.txt.html#a" class="d">a</a> complete
<a href="map.txt.html#mapping" class="d">mapping</a> immediately if <a href="motion.txt.html#it" class="d">it</a> was defined with <span class="s">&lt;nowait&gt;</span>, even if <a href="insert.txt.html#a" class="d">a</a> longer <a href="map.txt.html#mapping" class="d">mapping</a>
has the same prefix.  For example, given the following two mappings: 
<span class="e">    :map &lt;buffer&gt; &lt;nowait&gt; \a   :echo "Local \a"&lt;CR&gt;</span>
<span class="e">    :map                   \abc :echo "Global \abc"&lt;CR&gt;</span>
When typing \a the buffer-local <a href="map.txt.html#mapping" class="d">mapping</a> will be used immediately.  Vim will
not wait for more characters to see if the user might be typing \abc.

							<span id="map-keys-fails" class="t">map-keys-fails</span>
There are situations where key codes might not be recognized:
<a href="motion.txt.html#-" class="d">-</a> Vim can only read part of the key code.  Mostly this <a href="motion.txt.html#is" class="d">is</a> only the first
  character.  This happens on some <a href="os_unix.txt.html#Unix" class="d">Unix</a> versions in an xterm.
<a href="motion.txt.html#-" class="d">-</a> The key code <a href="motion.txt.html#is" class="d">is</a> after character(s) that are mapped.  E.g., "<a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a><a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a>" or
  "g&lt;F1&gt;"<a href="repeat.txt.html#." class="d">.</a>

The result <a href="motion.txt.html#is" class="d">is</a> that the key code <a href="motion.txt.html#is" class="d">is</a> not recognized in this situation, and the
<a href="map.txt.html#mapping" class="d">mapping</a> fails.  There are two actions needed to avoid this problem:

<a href="motion.txt.html#-" class="d">-</a> Remove the 'K' flag from <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>.  This will make Vim wait for the rest
  of the characters of the function key.
<a href="motion.txt.html#-" class="d">-</a> When using <a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a> to <a href="term.txt.html#%3CF4%3E" class="s">&lt;F4&gt;</a> the actual key code generated may correspond to
  <a href="term.txt.html#%3CxF1%3E" class="s">&lt;xF1&gt;</a> to <a href="term.txt.html#%3CxF4%3E" class="s">&lt;xF4&gt;</a>.  There are mappings from <a href="term.txt.html#%3CxF1%3E" class="s">&lt;xF1&gt;</a> to <a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a>, <a href="term.txt.html#%3CxF2%3E" class="s">&lt;xF2&gt;</a> to <a href="term.txt.html#%3CF2%3E" class="s">&lt;F2&gt;</a>, etc.,
  but these are not recognized after another half <a href="insert.txt.html#a" class="d">a</a> mapping.  Make sure the
  key codes for <a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a> to <a href="term.txt.html#%3CF4%3E" class="s">&lt;F4&gt;</a> are correct: 
<span class="e">	:set &lt;F1&gt;=&lt;type CTRL-V&gt;&lt;type F1&gt;</span>
 Type the <a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a> <a href="motion.txt.html#as" class="d">as</a> four characters.  The part after the "<a href="change.txt.html#%3D" class="d">=</a>" <a href="vim_faq.txt.html#must" class="d">must</a> be done with
  the actual keys, not the literal text.
Another solution <a href="motion.txt.html#is" class="d">is</a> to use the actual key code in the <a href="map.txt.html#mapping" class="d">mapping</a> for the second
special key: 
<span class="e">	:map &lt;F1&gt;&lt;Esc&gt;OP :echo "yes"&lt;CR&gt;</span>
Don't type <a href="insert.txt.html#a" class="d">a</a> real <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>, Vim will recognize the key code and replace <a href="motion.txt.html#it" class="d">it</a> with
<a href="helphelp.txt.html#%3CF1%3E" class="s">&lt;F1&gt;</a> anyway.

Another problem may be that when keeping ALT or Meta pressed the <a href="terminal.txt.html#terminal" class="d">terminal</a>
prepends ESC instead of setting the 8th bit.  See <a href="map.txt.html#%3Amap-alt-keys" class="l">:map-alt-keys</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="recursive_mapping" class="t">recursive_mapping</span>
If you include the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> in the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> you have <a href="insert.txt.html#a" class="d">a</a> recursive mapping.  When
<a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="motion.txt.html#is" class="d">is</a> typed, <a href="motion.txt.html#it" class="d">it</a> will be replaced with <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  When the <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> which <a href="motion.txt.html#is" class="d">is</a>
included in <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> <a href="motion.txt.html#is" class="d">is</a> encountered <a href="motion.txt.html#it" class="d">it</a> will be replaced with <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>, and so on.
This makes <a href="motion.txt.html#it" class="d">it</a> possible to repeat <a href="insert.txt.html#a" class="d">a</a> command an infinite number of times.  The
only problem <a href="motion.txt.html#is" class="d">is</a> that the only way to stop this <a href="motion.txt.html#is" class="d">is</a> by causing an error.  The
macros to solve <a href="insert.txt.html#a" class="d">a</a> maze uses this, look there for an example.  There <a href="motion.txt.html#is" class="d">is</a> one
exception: If the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> starts with <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>, the first character <a href="motion.txt.html#is" class="d">is</a> not mapped
again (this <a href="motion.txt.html#is" class="d">is</a> <a href="intro.txt.html#Vi" class="d">Vi</a> compatible).
For example: 
<span class="e">   :map ab abcd</span>
will execute the "<a href="insert.txt.html#a" class="d">a</a>" command and <a href="insert.txt.html#insert" class="d">insert</a> "bcd" in the text.  The "<a href="motion.txt.html#ab" class="d">ab</a>" in the
<a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> will not be mapped again.

If you want to exchange the meaning of two keys you should use the <a href="map.txt.html#%3Anoremap" class="d">:noremap</a>
command.  For example: 
<span class="e">   :noremap k j</span>
<span class="e">   :noremap j k</span>
This will exchange the cursor up and down commands.

With the normal <a href="map.txt.html#%3Amap" class="d">:map</a> command, when the <a href="options.txt.html#%27remap%27" class="o">'remap'</a> option <a href="motion.txt.html#is" class="d">is</a> on, <a href="map.txt.html#mapping" class="d">mapping</a> takes
place until the text <a href="motion.txt.html#is" class="d">is</a> found not to be <a href="insert.txt.html#a" class="d">a</a> part of <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>.  For example, if
you use: 
<span class="e">   :map x y</span>
<span class="e">   :map y x</span>
Vim will replace <a href="change.txt.html#x" class="d">x</a> with y, and then <a href="change.txt.html#y" class="d">y</a> with x, etc.  When this has happened
<a href="options.txt.html#%27maxmapdepth%27" class="o">'maxmapdepth'</a> times (default 1000), Vim will give the error message
"recursive <a href="map.txt.html#mapping" class="d">mapping</a>"<a href="repeat.txt.html#." class="d">.</a>

							<span id="%3Amap-undo" class="t">:map-undo</span>
If you include an <a href="undo.txt.html#undo" class="d">undo</a> command inside <a href="insert.txt.html#a" class="d">a</a> mapped sequence, this will bring the
text back in the state before executing the macro.  This <a href="motion.txt.html#is" class="d">is</a> compatible with
the original Vi, <a href="motion.txt.html#as" class="d">as</a> long <a href="motion.txt.html#as" class="d">as</a> there <a href="motion.txt.html#is" class="d">is</a> only one <a href="undo.txt.html#undo" class="d">undo</a> command in the mapped
sequence (having two <a href="undo.txt.html#undo" class="d">undo</a> commands in <a href="insert.txt.html#a" class="d">a</a> mapped sequence did not make sense
in the original Vi, you would get back the text before the first undo).


1.10 MAPPING <span class="k">ALT-K</span>EYS					<span id="%3Amap-alt-keys" class="t">:map-alt-keys</span>

For <a href="insert.txt.html#a" class="d">a</a> readable <a href="map.txt.html#mapping" class="d">mapping</a> command the <span class="s">&lt;A-k&gt;</span> form can be used.  <span class="n">Note</span> that <span class="s">&lt;A-k&gt;</span>
and <span class="s">&lt;A-K&gt;</span> are different, the latter will use an upper <a href="change.txt.html#case" class="d">case</a> letter.  Actually,
<span class="s">&lt;A-K&gt;</span> and <span class="s">&lt;A-S-K&gt;</span> are the same.  Instead of "<a href="insert.txt.html#A" class="d">A</a>" you can use "<a href="motion.txt.html#M" class="d">M</a>"<a href="repeat.txt.html#." class="d">.</a>  If you have
an actual Meta modifier key, please see <a href="map.txt.html#%3Amap-meta-keys" class="l">:map-meta-keys</a><a href="repeat.txt.html#." class="d">.</a>

In the <a href="gui.txt.html#GUI" class="d">GUI</a> Vim handles the Alt key itself, thus <a href="map.txt.html#mapping" class="d">mapping</a> keys with ALT should
always work.  But in <a href="insert.txt.html#a" class="d">a</a> <a href="terminal.txt.html#terminal" class="d">terminal</a> Vim gets <a href="insert.txt.html#a" class="d">a</a> sequence of bytes and has to figure
out whether ALT was pressed or not.

If the <a href="terminal.txt.html#terminal" class="d">terminal</a> supports the <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> mode and <a href="motion.txt.html#it" class="d">it</a> has been enabled,
then Vim can recognize more key combinations, see <a href="map.txt.html#modifyOtherKeys" class="l">modifyOtherKeys</a> below.
The Kitty keyboard protocol works in <a href="insert.txt.html#a" class="d">a</a> similar way, see
<a href="map.txt.html#kitty-keyboard-protocol" class="l">kitty-keyboard-protocol</a><a href="repeat.txt.html#." class="d">.</a>

By default Vim assumes that pressing the ALT key sets the 8th bit of <a href="insert.txt.html#a" class="d">a</a> typed
character.  Most decent terminals can work that way, such <a href="motion.txt.html#as" class="d">as</a> xterm, aterm and
rxvt.  If your <span class="s">&lt;A-k&gt;</span> mappings don't work <a href="motion.txt.html#it" class="d">it</a> might be that the <a href="terminal.txt.html#terminal" class="d">terminal</a> <a href="motion.txt.html#is" class="d">is</a>
prefixing the character with an ESC character.  But you can just <a href="motion.txt.html#as" class="d">as</a> well type
ESC before <a href="insert.txt.html#a" class="d">a</a> character, thus Vim doesn't know what happened (except for
checking the delay between characters, which <a href="motion.txt.html#is" class="d">is</a> not reliable).

As of this writing, some mainstream terminals like gnome-terminal and konsole
use the ESC prefix.  There doesn't appear <a href="insert.txt.html#a" class="d">a</a> way to have them use the 8th bit
instead.  Xterm should work well by default.  Aterm and <a href="syntax.txt.html#rxvt" class="d">rxvt</a> should work well
when started with the "--meta8" argument.  You can also tweak resources like
"metaSendsEscape"<a href="motion.txt.html#%2C" class="d">,</a> "eightBitInput" and "eightBitOutput"<a href="repeat.txt.html#." class="d">.</a>

On the Linux console, this behavior can be toggled with the "setmetamode"
command.  Bear in mind that not using an ESC prefix could get you in trouble
with other programs.  You should make sure that bash has the "convert-meta"
option set to "on" in order for your Meta keybindings to still work on <a href="motion.txt.html#it" class="d">it</a>
(it's the default readline behavior, unless changed by specific system
configuration).  For that, you can add the line: 
<span class="e"></span>
<span class="e">	set convert-meta on</span>
<span class="e"></span>
to your ~/.inputrc file.  If you're creating the file, you might want to use: 
<span class="e"></span>
<span class="e">	$include /etc/inputrc</span>
<span class="e"></span>
<a href="motion.txt.html#as" class="d">as</a> the first line, if that file exists on your system, to keep global options.
This may cause <a href="insert.txt.html#a" class="d">a</a> problem for entering special characters, such <a href="motion.txt.html#as" class="d">as</a> the umlaut.
Then you should use <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> before that character.

Bear in mind that convert-meta has been reported to have troubles when used in
<a href="mbyte.txt.html#UTF-8" class="d">UTF-8</a> locales.  On terminals like xterm, the "metaSendsEscape" resource can be
toggled on the fly through the "Main Options" menu, by pressing Ctrl-LeftClick
on the terminal; that's <a href="insert.txt.html#a" class="d">a</a> good last resource in <a href="change.txt.html#case" class="d">case</a> you want to send ESC when
using other applications but not when inside Vim.


1.11 MAPPING <span class="k">META-K</span>EYS					<span id="%3Amap-meta-keys" class="t">:map-meta-keys</span>

Mapping keys with the Meta modifier works very similar to using the Alt key.
What key on your keyboard produces the Meta modifier depends on your keyboard
and configuration.

<span class="n">Note</span> that <a href="map.txt.html#mapping" class="d">mapping</a> <span class="s">&lt;M-a&gt;</span> actually <a href="motion.txt.html#is" class="d">is</a> for using the Alt key.  That can be
confusing!  It cannot be changed, <a href="motion.txt.html#it" class="d">it</a> would not be backwards compatible.

For the Meta modifier the "<a href="motion.txt.html#T" class="d">T</a>" character <a href="motion.txt.html#is" class="d">is</a> used.  For example, to map Meta-b
in <a href="insert.txt.html#Insert" class="d">Insert</a> mode: 
<span class="e">	:imap &lt;T-b&gt; terrible</span>
<span class="e"></span>
1.12 MAPPING SUPER-KEYS or COMMAND-KEYS	     <span id="%3Amap-super-keys" class="t">:map-super-keys</span> <span id="%3Amap-cmd-key" class="t">:map-cmd-key</span>

The Super modifier <a href="motion.txt.html#is" class="d">is</a> available in <a href="gui.txt.html#GUI" class="d">GUI</a> mode (when <a href="builtin.txt.html#gui_running" class="l">gui_running</a> <a href="motion.txt.html#is" class="d">is</a> 1) for gVim
on Linux and MacVim on <a href="os_mac.txt.html#Mac" class="d">Mac</a> OS.  If you're on <a href="insert.txt.html#a" class="d">a</a> Mac, this represents the
Command key, on Linux with the <a href="gui_x11.txt.html#GTK" class="d">GTK</a> <a href="gui.txt.html#GUI" class="d">GUI</a> <a href="motion.txt.html#it" class="d">it</a> represents the Super key.
The character "<a href="change.txt.html#D" class="d">D</a>" <a href="motion.txt.html#is" class="d">is</a> used for the Super <a href="pattern.txt.html#%2F" class="d">/</a> Command modifier.

For example, to map Command-b in <a href="insert.txt.html#Insert" class="d">Insert</a> mode: 
<span class="e">	:imap &lt;D-b&gt; barritone</span>
<span class="e"></span>
1.13 MAPPING IN <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> mode			<span id="modifyOtherKeys" class="t">modifyOtherKeys</span>

Xterm and <a href="insert.txt.html#a" class="d">a</a> few other terminals can be <a href="change.txt.html#put" class="d">put</a> in <a href="insert.txt.html#a" class="d">a</a> mode where keys with modifiers
are sent with <a href="insert.txt.html#a" class="d">a</a> special <a href="intro.txt.html#escape" class="d">escape</a> code.  Vim recognizes these codes and can then
make <a href="insert.txt.html#a" class="d">a</a> difference between <a href="motion.txt.html#CTRL-H" class="k">CTRL-H</a> and Backspace, even when Backspace sends the
character 8.  And many more special keys, such <a href="motion.txt.html#as" class="d">as</a> <a href="intro.txt.html#Tab" class="d">Tab</a> and <a href="motion.txt.html#CTRL-I" class="k">CTRL-I</a>, which cannot
be mapped separately otherwise.

For xterm <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> <a href="motion.txt.html#is" class="d">is</a> enabled in the builtin <a href="term.txt.html#termcap" class="d">termcap</a> entry.  If this <a href="motion.txt.html#is" class="d">is</a>
not used you can enable <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> with these lines in your vimrc: 
<span class="e">      let &amp;t_TI = "\&lt;Esc&gt;[&gt;4;2m"</span>
<span class="e">      let &amp;t_TE = "\&lt;Esc&gt;[&gt;4;m"</span>
<span class="e"></span>
This sets <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> to level 2.  <span class="n">Note</span> that <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> level 1 does
not work.  Some terminals <a href="diff.txt.html#do" class="d">do</a> not support level 2 and then send key codes that
Vim will not be able to correctly recognize.

In <a href="change.txt.html#case" class="d">case</a> the <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> mode causes problems you can disable it: 
<span class="e">      let &amp;t_TI = ""</span>
<span class="e">      let &amp;t_TE = ""</span>
It does not take effect immediately.  To have this work without restarting Vim
execute <a href="insert.txt.html#a" class="d">a</a> shell command, e.g.: <span class="e">!ls</span>  Or <a href="change.txt.html#put" class="d">put</a> the lines in your <a href="starting.txt.html#vimrc" class="l">vimrc</a><a href="repeat.txt.html#." class="d">.</a>

When <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> <a href="motion.txt.html#is" class="d">is</a> enabled you can map <span class="s">&lt;C-[&gt;</span> and &lt;C-S-{&gt;: 
<span class="e">	imap &lt;C-[&gt; [[[</span>
<span class="e">	imap &lt;C-{&gt; {{{</span>
Without <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> <span class="s">&lt;C-[&gt;</span> and <span class="s">&lt;C-{&gt;</span> are indistinguishable from Esc.
<span class="n">Note</span> that <span class="s">&lt;C-{&gt;</span> <a href="motion.txt.html#is" class="d">is</a> used and not &lt;C-S-[&gt; or &lt;C-S-{&gt;.  This works on most
keyboards.  Similarly, <span class="s">&lt;C-}&gt;</span> <a href="motion.txt.html#is" class="d">is</a> used instead of &lt;C-S-]&gt; or &lt;C-S-}&gt; and
<span class="s">&lt;C-|&gt;</span> instead of &lt;C-S-\&gt; or &lt;C-S-|&gt;.  <span class="n">Note</span> that <a href="motion.txt.html#%27" class="d">'</a>|<a href="motion.txt.html#%27" class="d">'</a> has <a href="insert.txt.html#a" class="d">a</a> special meaning in <a href="insert.txt.html#a" class="d">a</a>
mapping, see <a href="map.txt.html#map-bar" class="l">map-bar</a><a href="repeat.txt.html#." class="d">.</a>

WARNING: if you map <span class="s">&lt;C-[&gt;</span> you may very well break any key codes that start
with Esc.  Make sure <a href="motion.txt.html#it" class="d">it</a> comes AFTER other mappings.

Starting with xterm version 377 Vim can detect the <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> state by
requesting it.  For this the <a href="term.txt.html#%27t_RK%27" class="o">'t_RK'</a> <a href="term.txt.html#termcap" class="d">termcap</a> entry <a href="motion.txt.html#is" class="d">is</a> used.  When the response
<a href="motion.txt.html#is" class="d">is</a> found then Vim will know whether <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> level 2 <a href="motion.txt.html#is" class="d">is</a> enabled, and
handle mappings accordingly.

Before version 377 Vim automatically detects if the <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> mode was
enabled when <a href="motion.txt.html#it" class="d">it</a> spots an <a href="intro.txt.html#escape" class="d">escape</a> sequence that <a href="vim_faq.txt.html#must" class="d">must</a> have been created by it.
To see if Vim detected such an <a href="intro.txt.html#escape" class="d">escape</a> sequence use `:verbose map`, the first
line will then show "Seen modifyOtherKeys: <a href="vim9.txt.html#true" class="d">true</a>" (possibly translated).

This automatic detection depends on receiving an <a href="intro.txt.html#escape" class="d">escape</a> code <a href="starting.txt.html#starting" class="d">starting</a> with
"<span class="s">&lt;1b&gt;</span>[27;"<a href="repeat.txt.html#." class="d">.</a>  This <a href="motion.txt.html#is" class="d">is</a> the normal way xterm sends these key codes.  However, if
the <span id="formatOtherKeys" class="t">formatOtherKeys</span> resource <a href="motion.txt.html#is" class="d">is</a> set another form <a href="motion.txt.html#is" class="d">is</a> used that <a href="motion.txt.html#is" class="d">is</a> not
recognized, therefore you <a href="vim_faq.txt.html#must" class="d">must</a> not set formatOtherKeys.

<a href="insert.txt.html#A" class="d">A</a> known side effect <a href="motion.txt.html#is" class="d">is</a> that in <a href="insert.txt.html#Insert" class="d">Insert</a> mode the raw <a href="intro.txt.html#escape" class="d">escape</a> sequence <a href="motion.txt.html#is" class="d">is</a> inserted
after the <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> key.  This can be used to check whether <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> <a href="motion.txt.html#is" class="d">is</a>
enabled: In <a href="insert.txt.html#Insert" class="d">Insert</a> mode type <span class="k">CTRL-SHIFT-V</span> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>, if you get one byte then
<a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> <a href="motion.txt.html#is" class="d">is</a> off, if you get <span class="s">&lt;1b&gt;</span>[27;5;118~ then <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> on.

<span class="n">Note</span> that xterm up to version 376 has <a href="insert.txt.html#a" class="d">a</a> bug that makes Shift-Esc send <a href="insert.txt.html#a" class="d">a</a>
regular Esc code, the Shift modifier <a href="motion.txt.html#is" class="d">is</a> dropped.

When the <a href="options.txt.html#%27esckeys%27" class="o">'esckeys'</a> option <a href="motion.txt.html#is" class="d">is</a> off, then <a href="map.txt.html#modifyOtherKeys" class="d">modifyOtherKeys</a> will be disabled in
<a href="insert.txt.html#Insert" class="d">Insert</a> mode to avoid every key with <a href="insert.txt.html#a" class="d">a</a> modifier causing <a href="insert.txt.html#Insert" class="d">Insert</a> mode to end.


1.14 MAPPING WITH KITTY KEYBOARD PROTOCOL	 <span id="kitty-keyboard-protocol" class="t">kitty-keyboard-protocol</span>

If the value of <a href="options.txt.html#%27term%27" class="o">'term'</a> contains "kitty" then Vim will send out an <a href="intro.txt.html#escape" class="d">escape</a>
sequence to enable the Kitty keyboard protocol.  This can be changed with the
<a href="options.txt.html#%27keyprotocol%27" class="o">'keyprotocol'</a> option.

Like modifyOtherKeys, this will make <a href="motion.txt.html#it" class="d">it</a> possible to distinguish between more
keys with modifiers.  Also, this protocol sends an <a href="intro.txt.html#escape" class="d">escape</a> sequence for the Esc
key, so that Vim does not need to use <a href="insert.txt.html#a" class="d">a</a> timeout to know whether receiving an
Esc character means the Esc key was pressed or it's the start of an <a href="intro.txt.html#escape" class="d">escape</a>
sequence.

Vim automatically detects if the Kitty keyboard protocol was enabled when <a href="motion.txt.html#it" class="d">it</a>
spots the response to the status request (this should be part of the <a href="term.txt.html#t_TI" class="l">t_TI</a>
<a href="term.txt.html#termcap" class="d">termcap</a> entry).  To see if Vim detected such an <a href="intro.txt.html#escape" class="d">escape</a> sequence use: 
<span class="e">	:verbose map</span>
The first line will then show "Kitty keyboard protocol: <span class="s">{value}</span>" (possibly
translated).  The meaning of <span class="s">{value}</span>:
	Unknown		no status received yet
	Off		protocol <a href="motion.txt.html#is" class="d">is</a> not used
	On		protocol <a href="motion.txt.html#is" class="d">is</a> used
	Disabled	protocol was used but expected to have been disabled
			by <a href="term.txt.html#%27t_TE%27" class="o">'t_TE'</a>
	Cleared		protocol expected to have been disabled by <a href="term.txt.html#%27t_TE%27" class="o">'t_TE'</a>,
			previous state <a href="motion.txt.html#is" class="d">is</a> unknown


1.15 MAPPING AN OPERATOR				<span id="%3Amap-operator" class="t">:map-operator</span>

An <a href="motion.txt.html#operator" class="d">operator</a> <a href="motion.txt.html#is" class="d">is</a> used before <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> command.  To define your own <a href="motion.txt.html#operator" class="d">operator</a>
you <a href="vim_faq.txt.html#must" class="d">must</a> create <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> that first sets the <a href="options.txt.html#%27operatorfunc%27" class="o">'operatorfunc'</a> option and then
invoke the <a href="map.txt.html#g%40" class="l">g@</a> operator.  After the user types the <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> command the
specified function will be called.

							<span id="g%40" class="t">g@</span> <span id="E774" class="t">E774</span> <span id="E775" class="t">E775</span>
g@{motion}		Call the function set by the <a href="options.txt.html#%27operatorfunc%27" class="o">'operatorfunc'</a> option.
			The <a href="motion.txt.html#%27%5B" class="d">'[</a> <a href="motion.txt.html#mark" class="d">mark</a> <a href="motion.txt.html#is" class="d">is</a> positioned <a href="motion.txt.html#at" class="d">at</a> the start of the text
			moved over by <a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a>, the <a href="motion.txt.html#%27%5D" class="d">']</a> <a href="motion.txt.html#mark" class="d">mark</a> on the last
			character of the text.
			The function <a href="motion.txt.html#is" class="d">is</a> called with one <a href="eval.txt.html#String" class="d">String</a> argument:
			    "line"	<a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> was <a href="motion.txt.html#linewise" class="l">linewise</a>
			    "char"	<a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> was <a href="motion.txt.html#characterwise" class="l">characterwise</a>
			    "block"	<a href="intro.txt.html#%7Bmotion%7D" class="s">{motion}</a> was <a href="visual.txt.html#blockwise-visual" class="l">blockwise-visual</a>
			The type can be forced, see <a href="motion.txt.html#forced-motion" class="l">forced-motion</a><a href="repeat.txt.html#." class="d">.</a>
			{not available when compiled without the <a href="various.txt.html#%2Beval" class="l">+eval</a>
			feature}

Here <a href="motion.txt.html#is" class="d">is</a> an example that counts the number of spaces with <a href="term.txt.html#%3CF4%3E" class="s">&lt;F4&gt;</a>: 
<span class="e"></span>
<span class="e">	nnoremap &lt;expr&gt; &lt;F4&gt; CountSpaces()</span>
<span class="e">	xnoremap &lt;expr&gt; &lt;F4&gt; CountSpaces()</span>
<span class="e">	" doubling &lt;F4&gt; works on a line</span>
<span class="e">	nnoremap &lt;expr&gt; &lt;F4&gt;&lt;F4&gt; CountSpaces() .. '_'</span>
<span class="e"></span>
<span class="e">	function CountSpaces(context = {}, type = '') abort</span>
<span class="e">	  if a:type == ''</span>
<span class="e">	    let context = #{</span>
<span class="e">	      \ dot_command: v:false,</span>
<span class="e">	      \ extend_block: '',</span>
<span class="e">	      \ virtualedit: [&amp;l:virtualedit, &amp;g:virtualedit],</span>
<span class="e">	      \ }</span>
<span class="e">	    let &amp;operatorfunc = function('CountSpaces', [context])</span>
<span class="e">	    set virtualedit=block</span>
<span class="e">	    return 'g@'</span>
<span class="e">	  endif</span>
<span class="e"></span>
<span class="e">	  let save = #{</span>
<span class="e">	    \ clipboard: &amp;clipboard,</span>
<span class="e">	    \ selection: &amp;selection,</span>
<span class="e">	    \ virtualedit: [&amp;l:virtualedit, &amp;g:virtualedit],</span>
<span class="e">	    \ register: getreginfo('"'),</span>
<span class="e">	    \ visual_marks: [getpos("'&lt;"), getpos("'&gt;")],</span>
<span class="e">	    \ }</span>
<span class="e"></span>
<span class="e">	  try</span>
<span class="e">	    set clipboard= selection=inclusive virtualedit=</span>
<span class="e">	    let commands = #{</span>
<span class="e">	      \ line: "'[V']",</span>
<span class="e">	      \ char: "`[v`]",</span>
<span class="e">	      \ block: "`[\&lt;C-V&gt;`]",</span>
<span class="e">	      \ }[a:type]</span>
<span class="e">	    let [_, _, col, off] = getpos("']")</span>
<span class="e">	    if off != 0</span>
<span class="e">	      let vcol = getline("'[")-&gt;strpart(0, col + off)-&gt;strdisplaywidth()</span>
<span class="e">	      if vcol &gt;= [line("'["), '$']-&gt;virtcol() - 1</span>
<span class="e">	        let a:context.extend_block = '$'</span>
<span class="e">	      else</span>
<span class="e">	        let a:context.extend_block = vcol .. '|'</span>
<span class="e">	      endif</span>
<span class="e">	    endif</span>
<span class="e">	    if a:context.extend_block != ''</span>
<span class="e">	      let commands ..= 'oO' .. a:context.extend_block</span>
<span class="e">	    endif</span>
<span class="e">	    let commands ..= 'y'</span>
<span class="e">	    execute 'silent noautocmd keepjumps normal! ' .. commands</span>
<span class="e">	    echomsg getreg('"')-&gt;count(' ')</span>
<span class="e">	  finally</span>
<span class="e">	    call setreg('"', save.register)</span>
<span class="e">	    call setpos("'&lt;", save.visual_marks[0])</span>
<span class="e">	    call setpos("'&gt;", save.visual_marks[1])</span>
<span class="e">	    let &amp;clipboard = save.clipboard</span>
<span class="e">	    let &amp;selection = save.selection</span>
<span class="e">	    let [&amp;l:virtualedit, &amp;g:virtualedit] = get(a:context.dot_command ? save : a:context, 'virtualedit')</span>
<span class="e">	    let a:context.dot_command = v:true</span>
<span class="e">	  endtry</span>
<span class="e">	endfunction</span>
<span class="e"></span>
An <span class="s">&lt;expr&gt;</span> <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> used to be able to <a href="pi_netrw.txt.html#fetch" class="d">fetch</a> any prefixed <a href="intro.txt.html#count" class="d">count</a> and register.
This also avoids using <a href="insert.txt.html#a" class="d">a</a> command line, which would trigger <a href="autocmd.txt.html#CmdlineEnter" class="d">CmdlineEnter</a> and
<a href="autocmd.txt.html#CmdlineLeave" class="d">CmdlineLeave</a> autocommands.

<span class="n">Note</span> that the <a href="options.txt.html#%27selection%27" class="o">'selection'</a> option <a href="motion.txt.html#is" class="d">is</a> temporarily set to "<a href="motion.txt.html#inclusive" class="d">inclusive</a>" to be able
to <a href="change.txt.html#yank" class="d">yank</a> exactly the right text by using <a href="visual.txt.html#Visual" class="d">Visual</a> mode from the <a href="motion.txt.html#%27%5B" class="d">'[</a> to the <a href="motion.txt.html#%27%5D" class="d">']</a>
mark.

Also <span class="n">note</span> that the <a href="options.txt.html#%27clipboard%27" class="o">'clipboard'</a> option <a href="motion.txt.html#is" class="d">is</a> temporarily emptied to avoid
clobbering the <span class="e">"*</span> or <span class="e">"+</span> registers, if its value contains the item <span class="e">unnamed</span>
or <span class="e">unnamedplus</span>.

The <span class="e">mode()</span> function will return the state <a href="motion.txt.html#as" class="d">as</a> <a href="motion.txt.html#it" class="d">it</a> will be after applying the
operator.

Here <a href="motion.txt.html#is" class="d">is</a> an example for using <a href="insert.txt.html#a" class="d">a</a> <a href="eval.txt.html#lambda" class="d">lambda</a> function to create <a href="insert.txt.html#a" class="d">a</a> normal-mode
<a href="motion.txt.html#operator" class="d">operator</a> to add <a href="quotes.txt.html#quotes" class="d">quotes</a> around text in the current line: 
<span class="e"></span>
<span class="e">	nnoremap &lt;F4&gt; &lt;Cmd&gt;let &amp;opfunc='{t -&gt;</span>
<span class="e">				\ getline(".")</span>
<span class="e">				\ -&gt;split("\\zs")</span>
<span class="e">				\ -&gt;insert("\"", col("'']"))</span>
<span class="e">				\ -&gt;insert("\"", col("''[") - 1)</span>
<span class="e">				\ -&gt;join("")</span>
<span class="e">				\ -&gt;setline(".")}'&lt;CR&gt;g@</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
2. <a href="map.txt.html#Abbreviations" class="d">Abbreviations</a>			<span id="abbreviations" class="t">abbreviations</span> <span id="Abbreviations" class="t">Abbreviations</span>

<a href="map.txt.html#Abbreviations" class="d">Abbreviations</a> are used in <a href="insert.txt.html#Insert" class="d">Insert</a> mode, <a href="insert.txt.html#Replace" class="d">Replace</a> mode and <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode.
If you enter <a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#word" class="d">word</a> that <a href="motion.txt.html#is" class="d">is</a> an abbreviation, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> replaced with the <a href="motion.txt.html#word" class="d">word</a> <a href="motion.txt.html#it" class="d">it</a>
stands for.  This can be used to save typing for often used long words.  And
you can use <a href="motion.txt.html#it" class="d">it</a> to automatically correct obvious spelling errors.
Examples:

	:iab ms Microsoft
	:iab tihs this

There are three types of abbreviations:

full-id	  The "full-id" type consists entirely of keyword characters (letters
	  and characters from <a href="options.txt.html#%27iskeyword%27" class="o">'iskeyword'</a> option).  This <a href="motion.txt.html#is" class="d">is</a> the most common
	  abbreviation.

	  Examples: "foo"<a href="motion.txt.html#%2C" class="d">,</a> "g3"<a href="motion.txt.html#%2C" class="d">,</a> "-1"

end-id	  The "end-id" type ends in <a href="insert.txt.html#a" class="d">a</a> keyword character, but all the other
	  characters are not keyword characters.

	  Examples: "#i"<a href="motion.txt.html#%2C" class="d">,</a> "..f"<a href="motion.txt.html#%2C" class="d">,</a> "$/7"

non-id	  The "non-id" type ends in <a href="insert.txt.html#a" class="d">a</a> non-keyword character, the other
	  characters may be of any type, excluding <a href="intro.txt.html#space" class="d">space</a> and tab.  {this type
	  <a href="motion.txt.html#is" class="d">is</a> not supported by Vi}

	  Examples: "def#"<a href="motion.txt.html#%2C" class="d">,</a> "4/7$"

Examples of strings that cannot be abbreviations: "a.b"<a href="motion.txt.html#%2C" class="d">,</a> "#def"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="insert.txt.html#a" class="d">a</a> <a href="motion.txt.html#b" class="d">b</a>"<a href="motion.txt.html#%2C" class="d">,</a> "_$r"

An abbreviation <a href="motion.txt.html#is" class="d">is</a> only recognized when you type <a href="insert.txt.html#a" class="d">a</a> non-keyword character.
This can also be the <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a> that ends <a href="insert.txt.html#Insert" class="d">Insert</a> mode or the <a href="motion.txt.html#%3CCR%3E" class="s">&lt;CR&gt;</a> that ends <a href="insert.txt.html#a" class="d">a</a>
command.  The non-keyword character which ends the abbreviation <a href="motion.txt.html#is" class="d">is</a> inserted
after the expanded abbreviation.  An exception to this <a href="motion.txt.html#is" class="d">is</a> the character <span class="s">&lt;C-]&gt;</span>,
which <a href="motion.txt.html#is" class="d">is</a> used to expand an abbreviation without <a href="insert.txt.html#inserting" class="d">inserting</a> any extra
characters.

Example: 
<span class="e">   :ab hh	hello</span>
	    "hh&lt;Space&gt;" <a href="motion.txt.html#is" class="d">is</a> expanded to "hello&lt;Space&gt;"
	    "hh&lt;C-]&gt;" <a href="motion.txt.html#is" class="d">is</a> expanded to "hello"

The characters before the cursor <a href="vim_faq.txt.html#must" class="d">must</a> match the abbreviation.  Each type has
an additional rule:

full-id	  In front of the match <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> non-keyword character, or this <a href="motion.txt.html#is" class="d">is</a> where
	  the line or insertion starts.  Exception: When the abbreviation <a href="motion.txt.html#is" class="d">is</a>
	  only one character, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not recognized if there <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> non-keyword
	  character in front of it, other than <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> or <a href="insert.txt.html#a" class="d">a</a> tab.  However, for
	  the command line "'&lt;,'&gt;" (or any other marks) <a href="motion.txt.html#is" class="d">is</a> ignored, <a href="motion.txt.html#as" class="d">as</a> if the
	  command line starts after it.

end-id	  In front of the match <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> keyword character, or <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> or <a href="insert.txt.html#a" class="d">a</a> tab,
	  or this <a href="motion.txt.html#is" class="d">is</a> where the line or insertion starts.

non-id	  In front of the match <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> space, <a href="intro.txt.html#tab" class="d">tab</a> or the start of the line or
	  the insertion.

Examples: ({CURSOR} <a href="motion.txt.html#is" class="d">is</a> where you type <a href="insert.txt.html#a" class="d">a</a> non-keyword character) 
<span class="e">   :ab foo   four old otters</span>
		" foo{CURSOR}"	  <a href="motion.txt.html#is" class="d">is</a> expanded to " four old otters"
		" foobar{CURSOR}" <a href="motion.txt.html#is" class="d">is</a> not expanded
		"barfoo{CURSOR}"  <a href="motion.txt.html#is" class="d">is</a> not expanded

<span class="e">   :ab #i #include</span>
		"#i{CURSOR}"	  <a href="motion.txt.html#is" class="d">is</a> expanded to "#include"
		"&gt;#i{CURSOR}"	  <a href="motion.txt.html#is" class="d">is</a> not expanded

<span class="e">   :ab ;; &lt;endofline&gt;</span>
		"test;;"	  <a href="motion.txt.html#is" class="d">is</a> not expanded
		"test ;;"	  <a href="motion.txt.html#is" class="d">is</a> expanded to "test <span class="s">&lt;endofline&gt;</span>"

To avoid the abbreviation in <a href="insert.txt.html#Insert" class="d">Insert</a> mode: Type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> before the character
that would trigger the abbreviation.  E.g. <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> <a href="motion.txt.html#%3CSpace%3E" class="s">&lt;Space&gt;</a>.  Or type part of
the abbreviation, exit <a href="insert.txt.html#insert" class="d">insert</a> mode with <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>, re-enter <a href="insert.txt.html#insert" class="d">insert</a> mode with "<a href="insert.txt.html#a" class="d">a</a>"
and type the rest.

To avoid the abbreviation in <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode: Type <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> twice somewhere in
the abbreviation to avoid <a href="motion.txt.html#it" class="d">it</a> to be replaced.  <a href="insert.txt.html#A" class="d">A</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> in front of <a href="insert.txt.html#a" class="d">a</a> normal
character <a href="motion.txt.html#is" class="d">is</a> mostly ignored otherwise.

It <a href="motion.txt.html#is" class="d">is</a> possible to move the cursor after an abbreviation: 
<span class="e">   :iab if if ()&lt;Left&gt;</span>
This does not work if <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a> includes the '&lt;' flag. <a href="intro.txt.html#%3C%3E" class="l">&lt;&gt;</a>

You can even <a href="diff.txt.html#do" class="d">do</a> more complicated things.  For example, to consume the <a href="intro.txt.html#space" class="d">space</a>
typed after an abbreviation: 
<span class="e">   func Eatchar(pat)</span>
<span class="e">      let c = nr2char(getchar(0))</span>
<span class="e">      return (c =~ a:pat) ? '' : c</span>
<span class="e">   endfunc</span>
<span class="e">   iabbr &lt;silent&gt; if if ()&lt;Left&gt;&lt;C-R&gt;=Eatchar('\s')&lt;CR&gt;</span>
<span class="e"></span>
There are no default abbreviations.

<a href="map.txt.html#Abbreviations" class="d">Abbreviations</a> are never recursive.  You can use "<a href="map.txt.html#%3Aab" class="d">:ab</a> <a href="motion.txt.html#f" class="d">f</a> f-o-o" without any
problem.  But <a href="map.txt.html#abbreviations" class="d">abbreviations</a> can be mapped.  {some versions of <a href="intro.txt.html#Vi" class="d">Vi</a> support
recursive abbreviations, for no apparent reason}

<a href="map.txt.html#Abbreviations" class="d">Abbreviations</a> are disabled if the <a href="options.txt.html#%27paste%27" class="o">'paste'</a> option <a href="motion.txt.html#is" class="d">is</a> on.

				<span id="%3Aabbreviate-local" class="t">:abbreviate-local</span> <span id="%3Aabbreviate-%3Cbuffer%3E" class="t">:abbreviate-&lt;buffer&gt;</span>
Just like mappings, <a href="map.txt.html#abbreviations" class="d">abbreviations</a> can be local to <a href="insert.txt.html#a" class="d">a</a> buffer.  This <a href="motion.txt.html#is" class="d">is</a> mostly
used in <a href="insert.txt.html#a" class="d">a</a> <a href="usr_43.txt.html#filetype-plugin" class="l">filetype-plugin</a> file.  Example for <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#C" class="d">C</a> <a href="usr_05.txt.html#plugin" class="d">plugin</a> file: 
<span class="e">	:abb &lt;buffer&gt; FF  for (i = 0; i &lt; ; ++i)</span>

						<span id="%3Aab" class="t">:ab</span> <span id="%3Aabbreviate" class="t">:abbreviate</span>
:ab[breviate]		<a href="eval.txt.html#list" class="d">list</a> all abbreviations.  The character in the first
			column indicates the mode where the abbreviation <a href="motion.txt.html#is" class="d">is</a>
			used: 'i' for <a href="insert.txt.html#insert" class="d">insert</a> mode, 'c' for <a href="cmdline.txt.html#Command-line" class="d">Command-line</a>
			mode, '!' for both.  These are the same <a href="motion.txt.html#as" class="d">as</a> for
			mappings, see <a href="map.txt.html#map-listing" class="l">map-listing</a><a href="repeat.txt.html#." class="d">.</a>

						<span id="%3Aabbreviate-verbose" class="t">:abbreviate-verbose</span>
When <a href="options.txt.html#%27verbose%27" class="o">'verbose'</a> <a href="motion.txt.html#is" class="d">is</a> non-zero, listing an abbreviation will also display where <a href="motion.txt.html#it" class="d">it</a>
was last defined.  Example: 
<span class="e"></span>
<span class="e">	:verbose abbreviate</span>
<span class="e">	!  teh		 the</span>
<span class="e">		Last set from /home/abcd/vim/abbr.vim</span>
<span class="e"></span>
See <a href="various.txt.html#%3Averbose-cmd" class="l">:verbose-cmd</a> for more information.

:ab[breviate] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>	<a href="eval.txt.html#list" class="d">list</a> the <a href="map.txt.html#abbreviations" class="d">abbreviations</a> that start with <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>
			You may need to <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> (type <a href="motion.txt.html#it" class="d">it</a> twice) to
			avoid that <a href="insert.txt.html#a" class="d">a</a> typed <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="motion.txt.html#is" class="d">is</a> expanded, since
			command-line <a href="map.txt.html#abbreviations" class="d">abbreviations</a> apply here.

:ab[breviate] [&lt;expr&gt;] [&lt;buffer&gt;] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>
			add abbreviation for <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> to <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  If <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> already
			existed <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> replaced with the new <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a> may
			contain spaces.
			See <a href="map.txt.html#%3Amap-%3Cexpr%3E" class="l">:map-&lt;expr&gt;</a> for the optional <span class="s">&lt;expr&gt;</span> argument.
			See <a href="map.txt.html#%3Amap-%3Cbuffer%3E" class="l">:map-&lt;buffer&gt;</a> for the optional <span class="s">&lt;buffer&gt;</span> argument.

						<span id="%3Auna" class="t">:una</span> <span id="%3Aunabbreviate" class="t">:unabbreviate</span>
:una[bbreviate] [&lt;buffer&gt;] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>
			Remove abbreviation for <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> from the list.  If none
			<a href="motion.txt.html#is" class="d">is</a> found, remove <a href="map.txt.html#abbreviations" class="d">abbreviations</a> in which <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a> matches
			with the <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.  This <a href="motion.txt.html#is" class="d">is</a> done so that you can even
			remove <a href="map.txt.html#abbreviations" class="d">abbreviations</a> after expansion.  To avoid
			expansion <a href="insert.txt.html#insert" class="d">insert</a> <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> (type <a href="motion.txt.html#it" class="d">it</a> twice).

						<span id="%3Anorea" class="t">:norea</span> <span id="%3Anoreabbrev" class="t">:noreabbrev</span>
:norea[bbrev] [&lt;expr&gt;] [&lt;buffer&gt;] <span class="s">[lhs]</span> <span class="s">[rhs]</span>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Aab" class="d">:ab</a>"<a href="motion.txt.html#%2C" class="d">,</a> but no remapping for this <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.

						<span id="%3Aca" class="t">:ca</span> <span id="%3Acab" class="t">:cab</span> <span id="%3Acabbrev" class="t">:cabbrev</span>
:ca[bbrev] [&lt;expr&gt;] [&lt;buffer&gt;] <span class="s">[lhs]</span> <span class="s">[rhs]</span>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Aab" class="d">:ab</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode only.

						<span id="%3Acuna" class="t">:cuna</span> <span id="%3Acunabbrev" class="t">:cunabbrev</span>
:cuna[bbrev] [&lt;buffer&gt;] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Auna" class="d">:una</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode only.

						<span id="%3Acnorea" class="t">:cnorea</span> <span id="%3Acnoreabbrev" class="t">:cnoreabbrev</span>
:cnorea[bbrev] [&lt;expr&gt;] [&lt;buffer&gt;] <span class="s">[lhs]</span> <span class="s">[rhs]</span>
			same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Aab" class="d">:ab</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode only and no
			remapping for this <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>

						<span id="%3Aia" class="t">:ia</span> <span id="%3Aiabbrev" class="t">:iabbrev</span>
:ia[bbrev] [&lt;expr&gt;] [&lt;buffer&gt;] <span class="s">[lhs]</span> <span class="s">[rhs]</span>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Aab" class="d">:ab</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="insert.txt.html#Insert" class="d">Insert</a> mode only.

						<span id="%3Aiuna" class="t">:iuna</span> <span id="%3Aiunabbrev" class="t">:iunabbrev</span>
:iuna[bbrev] [&lt;buffer&gt;] <a href="map.txt.html#%7Blhs%7D" class="s">{lhs}</a>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Auna" class="d">:una</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="insert.txt.html#insert" class="d">insert</a> mode only.

						<span id="%3Ainorea" class="t">:inorea</span> <span id="%3Ainoreabbrev" class="t">:inoreabbrev</span>
:inorea[bbrev] [&lt;expr&gt;] [&lt;buffer&gt;] <span class="s">[lhs]</span> <span class="s">[rhs]</span>
			Same <a href="motion.txt.html#as" class="d">as</a> "<a href="map.txt.html#%3Aab" class="d">:ab</a>"<a href="motion.txt.html#%2C" class="d">,</a> but for <a href="insert.txt.html#Insert" class="d">Insert</a> mode only and no
			remapping for this <a href="map.txt.html#%7Brhs%7D" class="s">{rhs}</a>.

							<span id="%3Aabc" class="t">:abc</span> <span id="%3Aabclear" class="t">:abclear</span>
:abc[lear] [&lt;buffer&gt;]	Remove all abbreviations.

							<span id="%3Aiabc" class="t">:iabc</span> <span id="%3Aiabclear" class="t">:iabclear</span>
:iabc[lear] [&lt;buffer&gt;]	Remove all <a href="map.txt.html#abbreviations" class="d">abbreviations</a> for <a href="insert.txt.html#Insert" class="d">Insert</a> mode.

							<span id="%3Acabc" class="t">:cabc</span> <span id="%3Acabclear" class="t">:cabclear</span>
:cabc[lear] [&lt;buffer&gt;]	Remove all <a href="map.txt.html#abbreviations" class="d">abbreviations</a> for <a href="cmdline.txt.html#Command-line" class="d">Command-line</a> mode.

							<span id="using_CTRL-V" class="t">using_CTRL-V</span>
It <a href="motion.txt.html#is" class="d">is</a> possible to use special characters in the rhs of an abbreviation.
<a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a> has to be used to avoid the special meaning of most non printable
characters.  How many <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>s need to be typed depends on how you enter the
abbreviation.  This also applies to mappings.  Let's use an example here.

Suppose you want to abbreviate "esc" to enter an <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a> character.  When you
type the "<a href="map.txt.html#%3Aab" class="d">:ab</a>" command in Vim, you have to enter this: (here ^V <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> <a href="visual.txt.html#CTRL-V" class="k">CTRL-V</a>
and ^[ <a href="motion.txt.html#is" class="d">is</a> <a href="intro.txt.html#%3CEsc%3E" class="s">&lt;Esc&gt;</a>)

You type:   <a href="motion.txt.html#ab" class="d">ab</a> esc ^V^V^V^V^V^[

	All keyboard input <a href="motion.txt.html#is" class="d">is</a> subjected to ^V <a href="change.txt.html#quote" class="d">quote</a> interpretation, so
	the first, third, and fifth ^V  characters simply allow the second,
	and fourth ^Vs, and the ^[, to be entered into the command-line.

You see:    <a href="motion.txt.html#ab" class="d">ab</a> esc ^V^V^[

	The command-line contains two actual ^Vs before the ^[.  This <a href="motion.txt.html#is" class="d">is</a>
	how <a href="motion.txt.html#it" class="d">it</a> should appear in your <a href="starting.txt.html#.exrc" class="d">.exrc</a> file, if you choose to <a href="motion.txt.html#go" class="d">go</a> that
	route.  The first ^V <a href="motion.txt.html#is" class="d">is</a> there to <a href="change.txt.html#quote" class="d">quote</a> the second ^V; the <a href="map.txt.html#%3Aab" class="d">:ab</a>
	command uses ^V <a href="motion.txt.html#as" class="d">as</a> its own <a href="change.txt.html#quote" class="d">quote</a> character, so you can include quoted
	<a href="pattern.txt.html#whitespace" class="d">whitespace</a> or the | character in the abbreviation.  The <a href="map.txt.html#%3Aab" class="d">:ab</a> command
	doesn't <a href="diff.txt.html#do" class="d">do</a> anything special with the ^[ character, so <a href="motion.txt.html#it" class="d">it</a> doesn't need
	to be quoted.  (Although quoting isn't harmful; that's why typing 7
	[but not 8!] ^Vs works.)

Stored as:  esc     ^V^[

	After parsing, the abbreviation's short form <a href="motion.txt.html#%28" class="d">(</a>"esc"<a href="motion.txt.html#%29" class="d">)</a> and long form
	(the two characters "^V^["<a href="motion.txt.html#%29" class="d">)</a> are stored in the abbreviation table.
	If you give the <a href="map.txt.html#%3Aab" class="d">:ab</a> command with no arguments, this <a href="motion.txt.html#is" class="d">is</a> how the
	abbreviation will be displayed.

	Later, when the abbreviation <a href="motion.txt.html#is" class="d">is</a> expanded because the user typed in
	the <a href="motion.txt.html#word" class="d">word</a> "esc"<a href="motion.txt.html#%2C" class="d">,</a> the long form <a href="motion.txt.html#is" class="d">is</a> subjected to the same type of
	^V interpretation <a href="motion.txt.html#as" class="d">as</a> keyboard input.  So the ^V protects the ^[
	character from being interpreted <a href="motion.txt.html#as" class="d">as</a> the "exit <a href="insert.txt.html#Insert" class="d">Insert</a> mode" character.
	Instead, the ^[ <a href="motion.txt.html#is" class="d">is</a> inserted into the text.

Expands to: ^[

[example given by Steve Kirkendall]

<span class="h">==============================================================================</span>
3. Local mappings and <a href="eval.txt.html#functions" class="d">functions</a>				<span id="script-local" class="t">script-local</span>

When using several Vim <a href="usr_41.txt.html#script" class="d">script</a> files, there <a href="motion.txt.html#is" class="d">is</a> the danger that mappings and
<a href="eval.txt.html#functions" class="d">functions</a> used in one <a href="usr_41.txt.html#script" class="d">script</a> use the same name <a href="motion.txt.html#as" class="d">as</a> in other scripts.  To avoid
this, they can be made local to the script.

						<span id="%3CSID%3E" class="t">&lt;SID&gt;</span> <span id="%3CSNR%3E" class="t">&lt;SNR&gt;</span> <span id="E81" class="t">E81</span>
The <a href="eval.txt.html#string" class="d">string</a> "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" can be used in <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> or menu.  This requires that the
'&lt;' flag <a href="motion.txt.html#is" class="d">is</a> not present in <a href="options.txt.html#%27cpoptions%27" class="o">'cpoptions'</a>.  This <a href="motion.txt.html#is" class="d">is</a> useful if you have <a href="insert.txt.html#a" class="d">a</a>
<a href="map.txt.html#script-local" class="d">script-local</a> function that you want to call from <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> in the same script.
   When executing the map command, Vim will replace "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" with the special
key code <a href="map.txt.html#%3CSNR%3E" class="s">&lt;SNR&gt;</a>, followed by <a href="insert.txt.html#a" class="d">a</a> number that's <a href="change.txt.html#unique" class="d">unique</a> for the script, and an
underscore.  Example: 
<span class="e">	:map &lt;SID&gt;Add</span>
would define <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> "<a href="map.txt.html#%3CSNR%3E" class="s">&lt;SNR&gt;</a>23_Add"<a href="repeat.txt.html#." class="d">.</a>

When defining <a href="insert.txt.html#a" class="d">a</a> function in <a href="insert.txt.html#a" class="d">a</a> script, "s:" can be prepended to the name to
make <a href="motion.txt.html#it" class="d">it</a> local to the <a href="usr_41.txt.html#script" class="d">script</a> (in <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#functions" class="d">functions</a> without <a href="insert.txt.html#a" class="d">a</a> prefix are
local to the script).  But when <a href="insert.txt.html#a" class="d">a</a> <a href="map.txt.html#mapping" class="d">mapping</a> <a href="motion.txt.html#is" class="d">is</a> executed from outside of
the script, <a href="motion.txt.html#it" class="d">it</a> doesn't know in which <a href="usr_41.txt.html#script" class="d">script</a> the function was defined.  To
avoid this problem, use "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" instead of "s:"<a href="repeat.txt.html#." class="d">.</a>  The same translation <a href="motion.txt.html#is" class="d">is</a> done
<a href="motion.txt.html#as" class="d">as</a> for mappings.  This makes <a href="motion.txt.html#it" class="d">it</a> possible to define <a href="insert.txt.html#a" class="d">a</a> call to the function in
<a href="insert.txt.html#a" class="d">a</a> mapping.

When <a href="insert.txt.html#a" class="d">a</a> local function <a href="motion.txt.html#is" class="d">is</a> executed, <a href="motion.txt.html#it" class="d">it</a> runs in the context of the <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#it" class="d">it</a> was
defined in.  This means that new <a href="eval.txt.html#functions" class="d">functions</a> and mappings <a href="motion.txt.html#it" class="d">it</a> defines can also
use "s:" or "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" and <a href="motion.txt.html#it" class="d">it</a> will use the same <a href="change.txt.html#unique" class="d">unique</a> number <a href="motion.txt.html#as" class="d">as</a> when the
function itself was defined.  Also, the "<a href="eval.txt.html#s%3Avar" class="d">s:var</a>" local <a href="usr_41.txt.html#script" class="d">script</a> <a href="eval.txt.html#variables" class="d">variables</a> can be
used.

When executing an <a href="autocmd.txt.html#autocommand" class="d">autocommand</a> or <a href="insert.txt.html#a" class="d">a</a> user command, <a href="motion.txt.html#it" class="d">it</a> will run in the context of
the <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#it" class="d">it</a> was defined in.  This makes <a href="motion.txt.html#it" class="d">it</a> possible that the command calls <a href="insert.txt.html#a" class="d">a</a>
local function or uses <a href="insert.txt.html#a" class="d">a</a> local mapping.

In <a href="change.txt.html#case" class="d">case</a> the value <a href="motion.txt.html#is" class="d">is</a> used in <a href="insert.txt.html#a" class="d">a</a> context where <a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a> cannot be correctly
expanded, use the <a href="builtin.txt.html#expand%28%29" class="d">expand()</a> function: 
<span class="e">	let &amp;includexpr = expand('&lt;SID&gt;') .. 'My_includeexpr()'</span>
<span class="e"></span>
Otherwise, using "<a href="map.txt.html#%3CSID%3E" class="s">&lt;SID&gt;</a>" outside of <a href="insert.txt.html#a" class="d">a</a> <a href="usr_41.txt.html#script" class="d">script</a> context <a href="motion.txt.html#is" class="d">is</a> an error.

If you need to get the <a href="usr_41.txt.html#script" class="d">script</a> number to use in <a href="insert.txt.html#a" class="d">a</a> complicated script, you can
use this function: 
<span class="e">	func s:ScriptNumber()</span>
<span class="e">	  return matchstr(expand('&lt;SID&gt;'), '&lt;SNR&gt;\zs\d\+\ze_')</span>
<span class="e">	endfunc</span>
<span class="e"></span>
The "<a href="map.txt.html#%3CSNR%3E" class="s">&lt;SNR&gt;</a>" will be shown when listing <a href="eval.txt.html#functions" class="d">functions</a> and mappings.  This <a href="motion.txt.html#is" class="d">is</a> useful
to find out what they are defined to.

The <a href="repeat.txt.html#%3Ascriptnames" class="l">:scriptnames</a> command can be used to see which scripts have been sourced
and what their <a href="map.txt.html#%3CSNR%3E" class="s">&lt;SNR&gt;</a> number is.

This <a href="motion.txt.html#is" class="d">is</a> all <span class="s">{not available when compiled without the |+eval| feature}</span>.

<span class="h">==============================================================================</span>
4. User-defined commands				<span id="user-commands" class="t">user-commands</span>

It <a href="motion.txt.html#is" class="d">is</a> possible to define your own <a href="intro.txt.html#Ex" class="d">Ex</a> commands.  <a href="insert.txt.html#A" class="d">A</a> user-defined command can act
just like <a href="insert.txt.html#a" class="d">a</a> built-in command (it can have <a href="insert.txt.html#a" class="d">a</a> range or arguments, arguments can
be completed <a href="motion.txt.html#as" class="d">as</a> filenames or buffer names, etc), except that when the command
<a href="motion.txt.html#is" class="d">is</a> executed, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> transformed into <a href="insert.txt.html#a" class="d">a</a> normal <a href="intro.txt.html#Ex" class="d">Ex</a> command and then executed.

For starters: See <a href="motion.txt.html#section" class="d">section</a> <a href="usr_40.txt.html#40.2" class="l">40.2</a> in the user manual.

					<span id="E183" class="t">E183</span> <span id="E841" class="t">E841</span> <span id="user-cmd-ambiguous" class="t">user-cmd-ambiguous</span>
All user defined commands <a href="vim_faq.txt.html#must" class="d">must</a> start with an <a href="change.txt.html#uppercase" class="d">uppercase</a> letter, to avoid
confusion with builtin commands.  Exceptions are these builtin commands:
	<a href="editing.txt.html#%3ANext" class="d">:Next</a>
	<a href="editing.txt.html#%3AX" class="d">:X</a>
They cannot be used for <a href="insert.txt.html#a" class="d">a</a> user defined command.  "<a href="various.txt.html#%3APrint" class="d">:Print</a>" <a href="motion.txt.html#is" class="d">is</a> also an existing
command, but <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> deprecated and can be overruled.

The other characters of the user command can be <a href="change.txt.html#uppercase" class="d">uppercase</a> letters, <a href="change.txt.html#lowercase" class="d">lowercase</a>
letters or digits.  When using digits, <span class="n">note</span> that other commands that take <a href="insert.txt.html#a" class="d">a</a>
numeric argument may become ambiguous.  For example, the command ":Cc2" could
be the user command ":Cc2" without an argument, or the command ":Cc" with
argument "2"<a href="repeat.txt.html#." class="d">.</a>  It <a href="motion.txt.html#is" class="d">is</a> advised to <a href="change.txt.html#put" class="d">put</a> <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#space" class="d">space</a> between the command name and the
argument to avoid these problems.

When using <a href="insert.txt.html#a" class="d">a</a> user-defined command, the command can be abbreviated.  However,
if an abbreviation <a href="motion.txt.html#is" class="d">is</a> not unique, an error will be issued.  Furthermore, <a href="insert.txt.html#a" class="d">a</a>
built-in command will always take precedence.

Example: 
<span class="e">	:command Rename ...</span>
<span class="e">	:command Renumber ...</span>
<span class="e">	:Rena				" Means "Rename"</span>
<span class="e">	:Renu				" Means "Renumber"</span>
<span class="e">	:Ren				" Error - ambiguous</span>
<span class="e">	:command Paste ...</span>
<span class="e">	:P				" The built-in :Print</span>
<span class="e"></span>
It <a href="motion.txt.html#is" class="d">is</a> recommended that full names for user-defined commands are used in
scripts.

:com[mand]						<span id="%3Acom" class="t">:com</span> <span id="%3Acommand" class="t">:command</span>
			<a href="eval.txt.html#List" class="d">List</a> all user-defined commands.  When listing
			commands, the characters in the first columns are:
			    <a href="change.txt.html#%21" class="d">!</a>	Command has the -bang attribute
			    "	Command has the <a href="if_ole.txt.html#-register" class="d">-register</a> attribute
			    |   Command has the -bar attribute
			    <a href="motion.txt.html#b" class="d">b</a>	Command <a href="motion.txt.html#is" class="d">is</a> local to current buffer
			(see below for details on attributes)
			The <a href="eval.txt.html#list" class="d">list</a> can be filtered on command name with
			<a href="various.txt.html#%3Afilter" class="l">:filter</a><a href="motion.txt.html#%2C" class="d">,</a> e.g., to <a href="eval.txt.html#list" class="d">list</a> all commands with "Pyth" in
			the name: 
<span class="e">				filter Pyth command</span>
<span class="e"></span>
:com[mand] <span class="s">{cmd}</span>	<a href="eval.txt.html#List" class="d">List</a> the user-defined commands that start with <span class="s">{cmd}</span>

							<span id="%3Acommand-verbose" class="t">:command-verbose</span>
When <a href="options.txt.html#%27verbose%27" class="o">'verbose'</a> <a href="motion.txt.html#is" class="d">is</a> non-zero, listing <a href="insert.txt.html#a" class="d">a</a> command will also display where <a href="motion.txt.html#it" class="d">it</a> was
last defined and any completion argument.  Example: 
<span class="e"></span>
<span class="e">    :verbose command TOhtml</span>
<span class="h">	Name	    Args Range Complete  Definition </span>
<span class="h">	TOhtml	    0	 %		 :call Convert2HTML(&lt;line1&gt;, &lt;line2&gt;) </span>
<span class="h">	    Last set from /usr/share/vim/vim-7.0/plugin/tohtml.vim </span>

See <a href="various.txt.html#%3Averbose-cmd" class="l">:verbose-cmd</a> for more information.

							<span id="E174" class="t">E174</span> <span id="E182" class="t">E182</span>
:com[mand][!] [{attr}...] <span class="s">{cmd}</span> <span class="s">{repl}</span>
			Define <a href="insert.txt.html#a" class="d">a</a> user command.  The name of the command <a href="motion.txt.html#is" class="d">is</a>
			<span class="s">{cmd}</span> and its replacement text <a href="motion.txt.html#is" class="d">is</a> <span class="s">{repl}</span>.  The
			command's attributes (see below) are <span class="s">{attr}</span>.  If the
			command already exists, an error <a href="motion.txt.html#is" class="d">is</a> reported, unless <a href="insert.txt.html#a" class="d">a</a>
			<a href="change.txt.html#%21" class="d">!</a> <a href="motion.txt.html#is" class="d">is</a> specified, in which <a href="change.txt.html#case" class="d">case</a> the command <a href="motion.txt.html#is" class="d">is</a>
			redefined.  There <a href="motion.txt.html#is" class="d">is</a> one exception: When sourcing <a href="insert.txt.html#a" class="d">a</a>
			<a href="usr_41.txt.html#script" class="d">script</a> again, <a href="insert.txt.html#a" class="d">a</a> command that was previously defined in
			that <a href="usr_41.txt.html#script" class="d">script</a> will be silently replaced.


:delc[ommand] <span class="s">{cmd}</span>				<span id="%3Adelc" class="t">:delc</span> <span id="%3Adelcommand" class="t">:delcommand</span> <span id="E184" class="t">E184</span>
			Delete the user-defined command <span class="s">{cmd}</span>.
			This <a href="motion.txt.html#is" class="d">is</a> not allowed while listing commands, e.g. from
			<a href="insert.txt.html#a" class="d">a</a> timer. <span id="E1311" class="t">E1311</span>

:delc[ommand] -buffer <span class="s">{cmd}</span>					<span id="E1237" class="t">E1237</span>
			Delete the user-defined command <span class="s">{cmd}</span> that was defined
			for the current buffer.

:comc[lear]						<span id="%3Acomc" class="t">:comc</span> <span id="%3Acomclear" class="t">:comclear</span>
			Delete all user-defined commands.


<span class="h">Command attributes </span>
							<span id="command-attributes" class="t">command-attributes</span>
User-defined commands are treated by Vim just like any other <a href="intro.txt.html#Ex" class="d">Ex</a> commands.
They can have arguments, or have <a href="insert.txt.html#a" class="d">a</a> range specified.  Arguments are subject to
completion <a href="motion.txt.html#as" class="d">as</a> filenames, buffers, etc.  Exactly how this works depends upon
the command's attributes, which are specified when the command <a href="motion.txt.html#is" class="d">is</a> defined.

When defining <a href="insert.txt.html#a" class="d">a</a> user command in <a href="insert.txt.html#a" class="d">a</a> script, <a href="motion.txt.html#it" class="d">it</a> will be able to call <a href="eval.txt.html#functions" class="d">functions</a>
local to the <a href="usr_41.txt.html#script" class="d">script</a> and use mappings local to the script.  When the user
invokes the user command, <a href="motion.txt.html#it" class="d">it</a> will run in the context of the <a href="usr_41.txt.html#script" class="d">script</a> <a href="motion.txt.html#it" class="d">it</a> was
defined in.  This matters if <a href="map.txt.html#%3CSID%3E" class="l">&lt;SID&gt;</a> <a href="motion.txt.html#is" class="d">is</a> used in <a href="insert.txt.html#a" class="d">a</a> command.

There are <a href="insert.txt.html#a" class="d">a</a> number of attributes, split into four categories: argument
handling, completion behavior, range handling, and special cases.  The
attributes are described below, by category.


<span class="h">Argument handling </span>
						<span id="E175" class="t">E175</span> <span id="E176" class="t">E176</span> <span id="%3Acommand-nargs" class="t">:command-nargs</span>
By default, <a href="insert.txt.html#a" class="d">a</a> user defined command will take no arguments (and an error <a href="motion.txt.html#is" class="d">is</a>
reported if any are supplied).  However, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> possible to specify that the
command can take arguments, using the -nargs attribute.  Valid cases are:

	-nargs=0    No arguments are allowed (the default)
	-nargs=1    Exactly one argument <a href="motion.txt.html#is" class="d">is</a> required, <a href="motion.txt.html#it" class="d">it</a> includes spaces
	-nargs=*    Any number of arguments are allowed (0, 1, or many),
		    separated by white <a href="intro.txt.html#space" class="d">space</a>
	-nargs=?    <a href="motion.txt.html#0" class="d">0</a> or 1 arguments are allowed
	-nargs=+    Arguments <a href="vim_faq.txt.html#must" class="d">must</a> be supplied, but any number are allowed

Arguments are considered to be separated by (unescaped) spaces or tabs in this
context, except when there <a href="motion.txt.html#is" class="d">is</a> one argument, then the white <a href="intro.txt.html#space" class="d">space</a> <a href="motion.txt.html#is" class="d">is</a> part of
the argument.

<span class="n">Note</span> that arguments are used <a href="motion.txt.html#as" class="d">as</a> text, not <a href="motion.txt.html#as" class="d">as</a> expressions.  Specifically,
"<a href="eval.txt.html#s%3Avar" class="d">s:var</a>" will use the <a href="map.txt.html#script-local" class="d">script-local</a> variable in the <a href="usr_41.txt.html#script" class="d">script</a> where the command was
defined, not where <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> invoked!  Example:
    script1.vim: 
<span class="e">	:let s:error = "None"</span>
<span class="e">	:command -nargs=1 Error echoerr &lt;args&gt;</span>
   script2.vim: 
<span class="e">	:source script1.vim</span>
<span class="e">	:let s:error = "Wrong!"</span>
<span class="e">	:Error s:error</span>
Executing script2.vim will result in "<a href="eval.txt.html#None" class="d">None</a>" being echoed.  Not what you
intended!  Calling <a href="insert.txt.html#a" class="d">a</a> function may be an alternative.


<span class="h">Completion behavior </span>
				<span id="%3Acommand-completion" class="t">:command-completion</span> <span id="E179" class="t">E179</span> <span id="E180" class="t">E180</span> <span id="E181" class="t">E181</span>
				<span id="%3Acommand-complete" class="t">:command-complete</span>
By default, the arguments of user defined commands <a href="diff.txt.html#do" class="d">do</a> not undergo completion.
However, by specifying one or the other of the following attributes, argument
completion can be enabled:

	-complete=arglist	file names in argument <a href="eval.txt.html#list" class="d">list</a>
	-complete=augroup	autocmd groups
	-complete=behave	<a href="gui.txt.html#%3Abehave" class="l">:behave</a> suboptions
	-complete=breakpoint	<a href="repeat.txt.html#%3Abreakadd" class="l">:breakadd</a> suboptions
	-complete=buffer	buffer names
	-complete=color		color schemes
	-complete=command	<a href="intro.txt.html#Ex" class="d">Ex</a> command (and arguments)
	-complete=compiler	compilers
	-complete=cscope	<a href="if_cscop.txt.html#%3Acscope" class="l">:cscope</a> suboptions
	-complete=diff_buffer	<a href="diff.txt.html#diff" class="d">diff</a> buffer names
	-complete=dir		directory names
	-complete=dir_in_path	directory names in <a href="options.txt.html#%27cdpath%27" class="o">'cdpath'</a>
	-complete=environment	environment variable names
	-complete=event		<a href="autocmd.txt.html#autocommand" class="d">autocommand</a> events
	-complete=expression	Vim <a href="eval.txt.html#expression" class="d">expression</a>
	-complete=file		file and directory names
	-complete=file_in_path	file and directory names in <a href="options.txt.html#%27path%27" class="o">'path'</a>
	-complete=filetype	<a href="filetype.txt.html#filetype" class="d">filetype</a> names <a href="options.txt.html#%27filetype%27" class="o">'filetype'</a>
	-complete=function	function name
	-complete=help		<a href="helphelp.txt.html#help" class="d">help</a> subjects
	-complete=highlight	highlight groups
	-complete=history	<a href="cmdline.txt.html#%3Ahistory" class="l">:history</a> suboptions
	-complete=keymap	keyboard mappings
	-complete=locale	<a href="mbyte.txt.html#locale" class="d">locale</a> names (as output of <a href="mbyte.txt.html#locale" class="d">locale</a> -a)
	-complete=mapclear	buffer argument
	-complete=mapping	<a href="map.txt.html#mapping" class="d">mapping</a> name
	-complete=menu		<a href="gui.txt.html#menus" class="d">menus</a>
	-complete=messages	<a href="message.txt.html#%3Amessages" class="l">:messages</a> suboptions
	-complete=option	<a href="options.txt.html#options" class="d">options</a>
	-complete=packadd	optional package <a href="repeat.txt.html#pack-add" class="l">pack-add</a> names
	-complete=retab		<a href="change.txt.html#%3Aretab" class="l">:retab</a> suboptions
	-complete=runtime	file and directory names in <a href="options.txt.html#%27runtimepath%27" class="o">'runtimepath'</a>
	-complete=scriptnames	sourced <a href="usr_41.txt.html#script" class="d">script</a> names
	-complete=shellcmd	Shell command
	-complete=shellcmdline	First <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> shell command and subsequent ones
				are filenames.  The same behavior <a href="motion.txt.html#as" class="d">as</a> <a href="various.txt.html#%3A%21cmd" class="l">:!cmd</a>
	-complete=sign		<a href="sign.txt.html#%3Asign" class="l">:sign</a> suboptions
	-complete=syntax	<a href="syntax.txt.html#syntax" class="d">syntax</a> file names <a href="options.txt.html#%27syntax%27" class="o">'syntax'</a>
	-complete=syntime	<a href="syntax.txt.html#%3Asyntime" class="l">:syntime</a> suboptions
	-complete=tag		<a href="tagsrch.txt.html#tags" class="d">tags</a>
	-complete=tag_listfiles	tags, file names are shown when <a href="scroll.txt.html#CTRL-D" class="k">CTRL-D</a> <a href="motion.txt.html#is" class="d">is</a> hit
	-complete=user		user names
	-complete=var		user <a href="eval.txt.html#variables" class="d">variables</a>
	-complete=custom,{func} custom completion, defined via <span class="s">{func}</span>
	-complete=customlist,{func} custom completion, defined via <span class="s">{func}</span>

If you specify completion while there <a href="motion.txt.html#is" class="d">is</a> nothing to complete (-nargs=0, the
default) then you get error <span id="E1208" class="t">E1208</span> <a href="repeat.txt.html#." class="d">.</a>
<span class="n">Note:</span> That some completion methods might expand environment variables.


<span class="h">Custom completion </span>
				<span id="%3Acommand-completion-custom" class="t">:command-completion-custom</span>
				<span id="%3Acommand-completion-customlist" class="t">:command-completion-customlist</span> <span id="E467" class="t">E467</span> <span id="E468" class="t">E468</span>
It <a href="motion.txt.html#is" class="d">is</a> possible to define customized completion schemes via the "custom,{func}"
or the "customlist,{func}" completion argument.  The <span class="s">{func}</span> part should be <a href="insert.txt.html#a" class="d">a</a>
function with the following signature: 
<span class="e"></span>
<span class="e">	:function {func}(ArgLead, CmdLine, CursorPos)</span>
<span class="e"></span>
The function need not use all these arguments.  The function should provide
the completion candidates <a href="motion.txt.html#as" class="d">as</a> the return value.

For the "custom" argument, the function should return the completion
candidates one per line in <a href="insert.txt.html#a" class="d">a</a> newline separated string.
							<span id="E1303" class="t">E1303</span>
For the "customlist" argument, the function should return the completion
candidates <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> Vim List.  Non-string items in the <a href="eval.txt.html#list" class="d">list</a> are ignored.

The function arguments are:
	ArgLead		the leading portion of the argument currently being
			completed on
	CmdLine		the entire command line
	CursorPos	the cursor position in <a href="motion.txt.html#it" class="d">it</a> (byte index)
The function may use these for determining context.  For the "custom"
argument, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> not necessary to <a href="change.txt.html#filter" class="d">filter</a> candidates against the (implicit
<a href="pattern.txt.html#pattern" class="d">pattern</a> in) ArgLead.  Vim will <a href="change.txt.html#filter" class="d">filter</a> the candidates with its <a href="pattern.txt.html#regexp" class="d">regexp</a> engine
after function return, and this <a href="motion.txt.html#is" class="d">is</a> probably more efficient in most cases.  If
<a href="options.txt.html#%27wildoptions%27" class="o">'wildoptions'</a> contains "fuzzy"<a href="motion.txt.html#%2C" class="d">,</a> then the candidates will be filtered using
<a href="pattern.txt.html#fuzzy-matching" class="l">fuzzy-matching</a><a href="repeat.txt.html#." class="d">.</a>  For the "customlist" argument, Vim will not
<a href="change.txt.html#filter" class="d">filter</a> the returned completion candidates and the user supplied function
should <a href="change.txt.html#filter" class="d">filter</a> the candidates.

The following example lists user names to <a href="insert.txt.html#a" class="d">a</a> Finger command 
<span class="e">    :com -complete=custom,ListUsers -nargs=1 Finger !finger &lt;args&gt;</span>
<span class="e">    :fun ListUsers(A,L,P)</span>
<span class="e">    :    return system("cut -d: -f1 /etc/passwd")</span>
<span class="e">    :endfun</span>
<span class="e"></span>
The following example completes filenames from the directories specified in
the <a href="options.txt.html#%27path%27" class="o">'path'</a> option: 
<span class="e">    :com -nargs=1 -bang -complete=customlist,EditFileComplete</span>
<span class="e">			\ EditFile edit&lt;bang&gt; &lt;args&gt;</span>
<span class="e">    :fun EditFileComplete(A,L,P)</span>
<span class="e">    :    return split(globpath(&amp;path, a:A), "\n")</span>
<span class="e">    :endfun</span>

This example does not work for file names with spaces!


<span class="h">Range handling </span>
				<span id="E177" class="t">E177</span> <span id="E178" class="t">E178</span> <span id="%3Acommand-range" class="t">:command-range</span> <span id="%3Acommand-count" class="t">:command-count</span>
By default, user-defined commands <a href="diff.txt.html#do" class="d">do</a> not accept <a href="insert.txt.html#a" class="d">a</a> line number range.  However,
<a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> possible to specify that the command does take <a href="insert.txt.html#a" class="d">a</a> range (the -range
attribute), or that <a href="motion.txt.html#it" class="d">it</a> takes an arbitrary <a href="intro.txt.html#count" class="d">count</a> value, either in the line
number position (-range=N, like the <a href="windows.txt.html#%3Asplit" class="l">:split</a> command) or <a href="motion.txt.html#as" class="d">as</a> <a href="insert.txt.html#a" class="d">a</a> "<a href="intro.txt.html#count" class="d">count</a>"
argument (-count=N, like the <a href="editing.txt.html#%3ANext" class="l">:Next</a> command).  The <a href="intro.txt.html#count" class="d">count</a> will then be
available in the argument with <a href="map.txt.html#%3Ccount%3E" class="l">&lt;count&gt;</a><a href="repeat.txt.html#." class="d">.</a>

Possible attributes are:

	-range	    Range allowed, default <a href="motion.txt.html#is" class="d">is</a> current line
	-range=%    Range allowed, default <a href="motion.txt.html#is" class="d">is</a> whole file (1,$)
	-range=N    <a href="insert.txt.html#A" class="d">A</a> <a href="intro.txt.html#count" class="d">count</a> (default N) which <a href="motion.txt.html#is" class="d">is</a> specified in the line
		    number position (like <a href="windows.txt.html#%3Asplit" class="l">:split</a>); allows for zero line
		    number.
	-count=N    <a href="insert.txt.html#A" class="d">A</a> <a href="intro.txt.html#count" class="d">count</a> (default N) which <a href="motion.txt.html#is" class="d">is</a> specified either in the line
		    number position, or <a href="motion.txt.html#as" class="d">as</a> an initial argument (like <a href="editing.txt.html#%3ANext" class="l">:Next</a>).
	-count	    Acts like -count=0

<span class="n">Note</span> that -range=N and -count=N are mutually <a href="motion.txt.html#exclusive" class="d">exclusive</a> <a href="motion.txt.html#-" class="d">-</a> only one should be
specified.

					<span id="%3Acommand-addr" class="t">:command-addr</span>
It <a href="motion.txt.html#is" class="d">is</a> possible that the special characters in the range like ., <a href="motion.txt.html#%24" class="d">$</a> or <a href="motion.txt.html#%25" class="d">%</a> which
by default correspond to the current line, last line and the whole buffer,
relate to arguments, (loaded) buffers, <a href="windows.txt.html#windows" class="d">windows</a> or <a href="intro.txt.html#tab" class="d">tab</a> pages.

Possible values are (second column <a href="motion.txt.html#is" class="d">is</a> the short name used in listing):
    -addr=lines			Range of lines (the default for -range)
    -addr=arguments	  arg	Range for arguments
    -addr=buffers	  buf	Range for <a href="windows.txt.html#buffers" class="d">buffers</a> (also not loaded buffers)
    -addr=loaded_buffers  load	Range for loaded <a href="windows.txt.html#buffers" class="d">buffers</a>
    -addr=windows	  win	Range for <a href="windows.txt.html#windows" class="d">windows</a>
    -addr=tabs		  <a href="intro.txt.html#tab" class="d">tab</a>	Range for <a href="intro.txt.html#tab" class="d">tab</a> pages
    -addr=quickfix	  qf	Range for <a href="quickfix.txt.html#quickfix" class="d">quickfix</a> entries
    -addr=other		  <a href="pattern.txt.html#%3F" class="d">?</a>	Other kind of range; can use "<a href="repeat.txt.html#." class="d">.</a>"<a href="motion.txt.html#%2C" class="d">,</a> "<a href="motion.txt.html#%24" class="d">$</a>" and "<a href="motion.txt.html#%25" class="d">%</a>"
				<a href="motion.txt.html#as" class="d">as</a> with "lines" (the default for -count)


<span class="h">Special cases </span>
					<span id="%3Acommand-bang" class="t">:command-bang</span> <span id="%3Acommand-bar" class="t">:command-bar</span>
					<span id="%3Acommand-register" class="t">:command-register</span> <span id="%3Acommand-buffer" class="t">:command-buffer</span>
					<span id="%3Acommand-keepscript" class="t">:command-keepscript</span>
There are some special cases <a href="motion.txt.html#as" class="d">as</a> well:

	-bang	    The command can take <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#%21" class="d">!</a> modifier (like <a href="editing.txt.html#%3Aq" class="d">:q</a> or :w)
	-bar	    The command can be followed by <a href="insert.txt.html#a" class="d">a</a> "|" and another command.
		    <a href="insert.txt.html#A" class="d">A</a> "|" inside the command argument <a href="motion.txt.html#is" class="d">is</a> not allowed then.
		    Also checks for <a href="insert.txt.html#a" class="d">a</a> " to start <a href="insert.txt.html#a" class="d">a</a> comment.
	<a href="if_ole.txt.html#-register" class="d">-register</a>   The first argument to the command can be an optional
		    register name (like :del, :put, :yank).
	-buffer	    The command will only be available in the current buffer.
	-keepscript Do not use the location of where the user command was
		    defined for <a href="starting.txt.html#verbose" class="d">verbose</a> messages, use the location of where
		    the user command was invoked.

In the cases of the -count and <a href="if_ole.txt.html#-register" class="d">-register</a> attributes, if the optional argument
<a href="motion.txt.html#is" class="d">is</a> supplied, <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a> removed from the argument <a href="eval.txt.html#list" class="d">list</a> and <a href="motion.txt.html#is" class="d">is</a> available to the
replacement text separately.
<span class="n">Note</span> that these arguments can be abbreviated, but that <a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> deprecated
feature.  Use the full name for new scripts.


<span class="h">Replacement text </span>
							<span id="%3Acommand-repl" class="t">:command-repl</span>
The <span class="s">{repl}</span> argument <a href="motion.txt.html#is" class="d">is</a> normally one long string, possibly with "|" separated
commands.  <a href="insert.txt.html#A" class="d">A</a> special <a href="change.txt.html#case" class="d">case</a> <a href="motion.txt.html#is" class="d">is</a> when the argument <a href="motion.txt.html#is" class="d">is</a> "<a href="motion.txt.html#%7B" class="d">{</a>"<a href="motion.txt.html#%2C" class="d">,</a> then the following
lines, up to <a href="insert.txt.html#a" class="d">a</a> line <a href="starting.txt.html#starting" class="d">starting</a> with "<a href="motion.txt.html#%7D" class="d">}</a>" are used and <a href="vim9.txt.html#Vim9" class="l">Vim9</a> <a href="syntax.txt.html#syntax" class="d">syntax</a> applies.
Example: 
<span class="e">	:command MyCommand {</span>
<span class="e">		echo 'hello'</span>
<span class="e">		g:calledMyCommand = true</span>
<span class="e">	    }</span>
							<span id="E1231" class="t">E1231</span>
There <a href="vim_faq.txt.html#must" class="d">must</a> be white <a href="intro.txt.html#space" class="d">space</a> before the "<a href="motion.txt.html#%7B" class="d">{</a>"<a href="repeat.txt.html#." class="d">.</a>  No nesting <a href="motion.txt.html#is" class="d">is</a> supported, inline
<a href="eval.txt.html#functions" class="d">functions</a> cannot be used.  Commands where <a href="insert.txt.html#a" class="d">a</a> "|" may appear in the argument,
such <a href="motion.txt.html#as" class="d">as</a> commands with an <a href="eval.txt.html#expression" class="d">expression</a> argument, cannot be followed by <a href="insert.txt.html#a" class="d">a</a> "|" and
another command.

If the command <a href="motion.txt.html#is" class="d">is</a> defined in <a href="vim9.txt.html#Vim9" class="d">Vim9</a> <a href="usr_41.txt.html#script" class="d">script</a> (a <a href="usr_41.txt.html#script" class="d">script</a> that starts with
<span class="e">:vim9script</span> and in <a href="insert.txt.html#a" class="d">a</a> <span class="e">:def</span> function) then <span class="s">{repl}</span> will be executed <a href="motion.txt.html#as" class="d">as</a> in <a href="vim9.txt.html#Vim9" class="d">Vim9</a>
script.  Thus this depends on where the command <a href="motion.txt.html#is" class="d">is</a> defined, not where <a href="motion.txt.html#it" class="d">it</a> <a href="motion.txt.html#is" class="d">is</a>
used.

The replacement text <span class="s">{repl}</span> for <a href="insert.txt.html#a" class="d">a</a> user defined command <a href="motion.txt.html#is" class="d">is</a> scanned for special
<a href="intro.txt.html#escape" class="d">escape</a> sequences, using &lt;...&gt; notation.  Escape sequences are replaced with
values from the entered command line, and all other text <a href="motion.txt.html#is" class="d">is</a> copied unchanged.
The resulting <a href="eval.txt.html#string" class="d">string</a> <a href="motion.txt.html#is" class="d">is</a> executed <a href="motion.txt.html#as" class="d">as</a> an <a href="intro.txt.html#Ex" class="d">Ex</a> command.  To avoid the replacement
use <a href="intro.txt.html#%3Clt%3E" class="s">&lt;lt&gt;</a> in place of the initial &lt;.  Thus to include "<a href="map.txt.html#%3Cbang%3E" class="s">&lt;bang&gt;</a>" literally use
"<a href="intro.txt.html#%3Clt%3E" class="s">&lt;lt&gt;</a>bang&gt;"<a href="repeat.txt.html#." class="d">.</a>

The valid <a href="intro.txt.html#escape" class="d">escape</a> sequences are

						<span id="%3Cline1%3E" class="t">&lt;line1&gt;</span>
	<a href="map.txt.html#%3Cline1%3E" class="s">&lt;line1&gt;</a>	The <a href="starting.txt.html#starting" class="d">starting</a> line of the command range.
						<span id="%3Cline2%3E" class="t">&lt;line2&gt;</span>
	<a href="map.txt.html#%3Cline2%3E" class="s">&lt;line2&gt;</a>	The final line of the command range.
						<span id="%3Crange%3E" class="t">&lt;range&gt;</span>
	<a href="map.txt.html#%3Crange%3E" class="s">&lt;range&gt;</a> The number of items in the command range: 0, 1 or 2
						<span id="%3Ccount%3E" class="t">&lt;count&gt;</span>
	<a href="map.txt.html#%3Ccount%3E" class="s">&lt;count&gt;</a>	Any <a href="intro.txt.html#count" class="d">count</a> supplied (as described for the '-range'
		and '-count' attributes).
						<span id="%3Cbang%3E" class="t">&lt;bang&gt;</span>
	<a href="map.txt.html#%3Cbang%3E" class="s">&lt;bang&gt;</a>	(See the '-bang' attribute) Expands to <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#%21" class="d">!</a> if the
		command was executed with <a href="insert.txt.html#a" class="d">a</a> <a href="change.txt.html#%21" class="d">!</a> modifier, otherwise
		expands to nothing.
					<span id="%3Cmods%3E" class="t">&lt;mods&gt;</span> <span id="%3Cq-mods%3E" class="t">&lt;q-mods&gt;</span> <span id="%3Acommand-modifiers" class="t">:command-modifiers</span>
	<a href="map.txt.html#%3Cmods%3E" class="s">&lt;mods&gt;</a>  The command modifiers, if specified.  Otherwise, expands to
		nothing.  Supported modifiers are <a href="windows.txt.html#%3Aaboveleft" class="l">:aboveleft</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="windows.txt.html#%3Abelowright" class="l">:belowright</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="windows.txt.html#%3Abotright" class="l">:botright</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="editing.txt.html#%3Abrowse" class="l">:browse</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="editing.txt.html#%3Aconfirm" class="l">:confirm</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="windows.txt.html#%3Ahide" class="l">:hide</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="windows.txt.html#%3Ahorizontal" class="l">:horizontal</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="editing.txt.html#%3Akeepalt" class="l">:keepalt</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%3Akeepjumps" class="l">:keepjumps</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%3Akeepmarks" class="l">:keepmarks</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="cmdline.txt.html#%3Akeeppatterns" class="l">:keeppatterns</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="windows.txt.html#%3Aleftabove" class="l">:leftabove</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="motion.txt.html#%3Alockmarks" class="l">:lockmarks</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="autocmd.txt.html#%3Anoautocmd" class="l">:noautocmd</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="recover.txt.html#%3Anoswapfile" class="l">:noswapfile</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="windows.txt.html#%3Arightbelow" class="l">:rightbelow</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="eval.txt.html#%3Asandbox" class="l">:sandbox</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="various.txt.html#%3Asilent" class="l">:silent</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="tabpage.txt.html#%3Atab" class="l">:tab</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="windows.txt.html#%3Atopleft" class="l">:topleft</a><a href="motion.txt.html#%2C" class="d">,</a>
		<a href="various.txt.html#%3Aunsilent" class="l">:unsilent</a><a href="motion.txt.html#%2C" class="d">,</a> <a href="various.txt.html#%3Averbose" class="l">:verbose</a><a href="motion.txt.html#%2C" class="d">,</a> and <a href="windows.txt.html#%3Avertical" class="l">:vertical</a><a href="repeat.txt.html#." class="d">.</a>
		<span class="n">Note</span> that <a href="various.txt.html#%3Afilter" class="l">:filter</a> <a href="motion.txt.html#is" class="d">is</a> not supported.
		Examples: 
<span class="e">		    command! -nargs=+ -complete=file MyEdit</span>
<span class="e">				\ for f in expand(&lt;q-args&gt;, 0, 1) |</span>
<span class="e">				\ exe '&lt;mods&gt; split ' .. f |</span>
<span class="e">				\ endfor</span>
<span class="e"></span>
<span class="e">		    function! SpecialEdit(files, mods)</span>
<span class="e">			for f in expand(a:files, 0, 1)</span>
<span class="e">			    exe a:mods .. ' split ' .. f</span>
<span class="e">			endfor</span>
<span class="e">		    endfunction</span>
<span class="e">		    command! -nargs=+ -complete=file Sedit</span>
<span class="e">				\ call SpecialEdit(&lt;q-args&gt;, &lt;q-mods&gt;)</span>

						<span id="%3Creg%3E" class="t">&lt;reg&gt;</span> <span id="%3Cregister%3E" class="t">&lt;register&gt;</span>
	<a href="map.txt.html#%3Creg%3E" class="s">&lt;reg&gt;</a>	(See the '-register' attribute) The optional register,
		if specified.  Otherwise, expands to nothing.  <a href="map.txt.html#%3Cregister%3E" class="s">&lt;register&gt;</a>
		<a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> synonym for this.
						<span id="%3Cargs%3E" class="t">&lt;args&gt;</span>
	<a href="map.txt.html#%3Cargs%3E" class="s">&lt;args&gt;</a>	The command arguments, exactly <a href="motion.txt.html#as" class="d">as</a> supplied (but <a href="motion.txt.html#as" class="d">as</a>
		noted above, any <a href="intro.txt.html#count" class="d">count</a> or register can consume some
		of the arguments, which are then not part of <a href="map.txt.html#%3Cargs%3E" class="s">&lt;args&gt;</a>).
	<a href="intro.txt.html#%3Clt%3E" class="s">&lt;lt&gt;</a>	<a href="insert.txt.html#A" class="d">A</a> single '&lt;' (Less-Than) character.  This <a href="motion.txt.html#is" class="d">is</a> needed if you
		want to get <a href="insert.txt.html#a" class="d">a</a> literal copy of one of these <a href="intro.txt.html#escape" class="d">escape</a> sequences
		into the expansion <a href="motion.txt.html#-" class="d">-</a> for example, to get <a href="map.txt.html#%3Cbang%3E" class="s">&lt;bang&gt;</a>, use
		<a href="intro.txt.html#%3Clt%3E" class="s">&lt;lt&gt;</a>bang&gt;.

							<span id="%3Cq-args%3E" class="t">&lt;q-args&gt;</span>
If the first two characters of an <a href="intro.txt.html#escape" class="d">escape</a> sequence are "q-" (for example,
<a href="map.txt.html#%3Cq-args%3E" class="s">&lt;q-args&gt;</a>) then the value <a href="motion.txt.html#is" class="d">is</a> quoted in such <a href="insert.txt.html#a" class="d">a</a> way <a href="motion.txt.html#as" class="d">as</a> to make <a href="motion.txt.html#it" class="d">it</a> <a href="insert.txt.html#a" class="d">a</a> valid value
for use in an expression.  This uses the argument <a href="motion.txt.html#as" class="d">as</a> one single value.
When there <a href="motion.txt.html#is" class="d">is</a> no argument <a href="map.txt.html#%3Cq-args%3E" class="s">&lt;q-args&gt;</a> <a href="motion.txt.html#is" class="d">is</a> an empty string.  See the
<a href="map.txt.html#q-args-example" class="l">q-args-example</a> below.
							<span id="%3Cf-args%3E" class="t">&lt;f-args&gt;</span>
To allow commands to pass their arguments on to <a href="insert.txt.html#a" class="d">a</a> user-defined function, there
<a href="motion.txt.html#is" class="d">is</a> <a href="insert.txt.html#a" class="d">a</a> special form <a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a> <a href="motion.txt.html#%28" class="d">(</a>"function args").  This splits the command
arguments <a href="motion.txt.html#at" class="d">at</a> spaces and tabs, <a href="quotes.txt.html#quotes" class="d">quotes</a> each argument individually, and the
<a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a> sequence <a href="motion.txt.html#is" class="d">is</a> replaced by the comma-separated <a href="eval.txt.html#list" class="d">list</a> of quoted arguments.
See the Mycmd example below.  If no arguments are given <a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a> <a href="motion.txt.html#is" class="d">is</a> removed.
   To embed <a href="pattern.txt.html#whitespace" class="d">whitespace</a> into an argument of <a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a>, prepend <a href="insert.txt.html#a" class="d">a</a> backslash.
<a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a> replaces every pair of backslashes (\\) with one backslash.  <a href="insert.txt.html#A" class="d">A</a>
<a href="intro.txt.html#backslash" class="d">backslash</a> followed by <a href="insert.txt.html#a" class="d">a</a> character other than white <a href="intro.txt.html#space" class="d">space</a> or <a href="insert.txt.html#a" class="d">a</a> <a href="intro.txt.html#backslash" class="d">backslash</a>
remains unmodified.  Also see <a href="map.txt.html#f-args-example" class="l">f-args-example</a> below.  Overview:

<span class="h">	command		   &lt;f-args&gt; </span>
	XX <a href="motion.txt.html#ab" class="d">ab</a>		   <span class="o">'ab'</span>
	XX a\b		   'a\b'
	XX a\ <a href="motion.txt.html#b" class="d">b</a>		   <a href="motion.txt.html#%27a" class="d">'a</a> b'
	XX a\  <a href="motion.txt.html#b" class="d">b</a>	   <a href="motion.txt.html#%27a" class="d">'a</a> ', 'b'
	XX a\\b		   'a\b'
	XX a\\ <a href="motion.txt.html#b" class="d">b</a>	   'a\', 'b'
	XX a\\\b	   'a\\b'
	XX a\\\ <a href="motion.txt.html#b" class="d">b</a>	   'a\ b'
	XX a\\\\b	   'a\\b'
	XX a\\\\ <a href="motion.txt.html#b" class="d">b</a>	   'a\\', 'b'
	XX		   <span class="s">[nothing]</span>


<span class="n">Note</span> that if the "no arguments" situation <a href="motion.txt.html#is" class="d">is</a> to be handled, you have to make
sure that the function can be called without arguments.  For <a href="insert.txt.html#a" class="d">a</a> compiled
function you might want to use variable arguments, see
<a href="vim9.txt.html#vim9-variable-arguments" class="l">vim9-variable-arguments</a><a href="repeat.txt.html#." class="d">.</a>

Examples for user commands: 
<span class="e"></span>
<span class="e">   " Delete everything after here to the end</span>
<span class="e">   :com Ddel +,$d</span>
<span class="e"></span>
<span class="e">   " Rename the current buffer</span>
<span class="e">   :com -nargs=1 -bang -complete=file Ren f &lt;args&gt;|w&lt;bang&gt;</span>
<span class="e"></span>
<span class="e">   " Replace a range with the contents of a file</span>
<span class="e">   " (Enter this all as one line)</span>
<span class="e">   :com -range -nargs=1 -complete=file</span>
<span class="e">	 Replace &lt;line1&gt;-pu_|&lt;line1&gt;,&lt;line2&gt;d|r &lt;args&gt;|&lt;line1&gt;d</span>
<span class="e"></span>
<span class="e">   " Count the number of lines in the range</span>
<span class="e">   :com! -range -nargs=0 Lines  echo &lt;line2&gt; - &lt;line1&gt; + 1 "lines"</span>
<span class="e"></span>
						<span id="f-args-example" class="t">f-args-example</span>
Call <a href="insert.txt.html#a" class="d">a</a> user function (example of <a href="map.txt.html#%3Cf-args%3E" class="s">&lt;f-args&gt;</a>) 
<span class="e">   :com -nargs=* Mycmd call Myfunc(&lt;f-args&gt;)</span>
<span class="e"></span>
When executed as: 
<span class="e">	:Mycmd arg1 arg2</span>
This will invoke: 
<span class="e">	:call Myfunc("arg1","arg2")</span>
<span class="e"></span>
						<span id="q-args-example" class="t">q-args-example</span>
<a href="insert.txt.html#A" class="d">A</a> more substantial example: 
<span class="e">   :function Allargs(command)</span>
<span class="e">   :   let i = 0</span>
<span class="e">   :   while i &lt; argc()</span>
<span class="e">   :	  if filereadable(argv(i))</span>
<span class="e">   :	     execute "e " .. argv(i)</span>
<span class="e">   :	     execute a:command</span>
<span class="e">   :      endif</span>
<span class="e">   :      let i = i + 1</span>
<span class="e">   :   endwhile</span>
<span class="e">   :endfunction</span>
<span class="e">   :command -nargs=+ -complete=command Allargs call Allargs(&lt;q-args&gt;)</span>
<span class="e"></span>
The command Allargs takes any Vim command(s) <a href="motion.txt.html#as" class="d">as</a> argument and executes <a href="motion.txt.html#it" class="d">it</a> on
all files in the argument list.  Usage example (note use of the "<a href="motion.txt.html#e" class="d">e</a>" flag to
ignore <a href="message.txt.html#errors" class="d">errors</a> and the "update" command to write modified buffers): 
<span class="e">	:Allargs %s/foo/bar/ge|update</span>
This will invoke: 
<span class="e">	:call Allargs("%s/foo/bar/ge|update")</span>


 vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
</main>
<p>Quick links:
<a href="index.html">help overview</a> &middot;
<a href="quickref.txt.html">quick reference</a> &middot;
<a href="usr_toc.txt.html">user manual toc</a> &middot;
<a href="index.html#reference_toc">reference manual toc</a>
&middot; <a href="vim_faq.txt.html">faq</a>
</p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>
</body>
</html>